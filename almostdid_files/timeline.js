//     Underscore.js 1.4.2
//     http://underscorejs.org
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore may be freely distributed under the MIT license.

/**
sprintf() for JavaScript 0.7-beta1
http://www.diveintojavascript.com/projects/javascript-sprintf

Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of sprintf() for JavaScript nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL Alexandru Marasteanu BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


Changelog:
2010.09.06 - 0.7-beta1
  - features: vsprintf, support for named placeholders
  - enhancements: format cache, reduced global namespace pollution

2010.05.22 - 0.6:
 - reverted to 0.4 and fixed the bug regarding the sign of the number 0
 Note:
 Thanks to Raphael Pigulla <raph (at] n3rd [dot) org> (http://www.n3rd.org/)
 who warned me about a bug in 0.5, I discovered that the last update was
 a regress. I appologize for that.

2010.05.09 - 0.5:
 - bug fix: 0 is now preceeded with a + sign
 - bug fix: the sign was not at the right position on padded results (Kamal Abdali)
 - switched from GPL to BSD license

2007.10.21 - 0.4:
 - unit test and patch (David Baird)

2007.09.17 - 0.3:
 - bug fix: no longer throws exception on empty paramenters (Hans Pufal)

2007.09.11 - 0.2:
 - feature: added argument swapping

2007.04.03 - 0.1:
 - initial release
**/

/*! Copyright 2013 Brightcove, Inc. https://github.com/videojs/video.js/blob/master/LICENSE */

//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

define("CSSProperty",["require","exports","module"],function(e,t,n){var r={fillOpacity:!0,fontWeight:!0,opacity:!0,orphans:!0,textDecoration:!0,zIndex:!0,zoom:!0},i={isNumber:r};n.exports=i}),define("dangerousStyleValue",["require","exports","module","CSSProperty"],function(e,t,n){function i(e,t){return __t([e,"string","styleName"]),__t([function(){return t===null||t===!1||t===!0||t===""?"":isNaN(t)?t?""+t:"":r.isNumber[e]?""+t:t+"px"}.apply(this,arguments),"string"])}var r=e("CSSProperty");n.exports=i}),define("throwIf",["require","exports","module"],function(e,t,n){var r=function(e,t){if(e)throw new Error(t)};n.exports=r}),define("escapeTextForBrowser",["require","exports","module","throwIf"],function(e,t,n){function o(e){return s[e]}var r=e("throwIf"),i,s={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},u=function(e){var t=typeof e,n=t==="object";return e===""||n?"":t==="string"?e.replace(/[&><"'\/]/g,o):(""+e).replace(/[&><"'\/]/g,o)};n.exports=u}),define("hyphenate",["require","exports","module"],function(e,t,n){function i(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;n.exports=i}),define("memoizeStringOnly",["require","exports","module"],function(e,t,n){function r(e){var t={};return function(n){return t.hasOwnProperty(n)?t[n]:t[n]=e.call(this,n)}}n.exports=r}),define("CSSPropertyOperations",["require","exports","module","dangerousStyleValue","escapeTextForBrowser","hyphenate","memoizeStringOnly"],function(e,t,n){var r=e("dangerousStyleValue"),i=e("escapeTextForBrowser"),s=e("hyphenate"),o=e("memoizeStringOnly"),u=o(function(e){return i(s(e))}),a={createMarkupForStyles:function(e){var t="";for(var n in e){if(!e.hasOwnProperty(n))continue;var i=e[n];typeof i!="undefined"&&(t+=u(n)+":",t+=r(n,i)+";")}return t},setValueForStyles:function(e,t){var n=e.style;for(var r in t){if(!t.hasOwnProperty(r))continue;n[r]=t[r]}}};n.exports=a}),define("invariant",["require","exports","module"],function(e,t,n){function r(e){if(!e)throw new Error("Invariant Violation")}n.exports=r}),define("DOMProperty",["require","exports","module","invariant"],function(e,t,n){var r=e("invariant"),i={isStandardName:{},getAttributeName:{},getPropertyName:{},mustUseAttribute:{},mustUseProperty:{},hasBooleanValue:{},hasSideEffects:{},isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/)},s=1,o=2,u=4,a=8,f={action:null,ajaxify:s,allowFullScreen:s|u,alt:null,autoComplete:null,autoplay:u,allowtransparency:null,cellPadding:null,cellSpacing:null,checked:o|u,className:o,colSpan:null,contentEditable:null,controls:o|u,data:null,dir:null,disabled:o|u,frameborder:null,height:null,href:null,htmlFor:null,method:null,name:null,poster:null,preload:null,placeholder:null,rel:null,role:s,scrollLeft:o,scrollTop:o,selected:o|u,spellCheck:null,src:null,tabIndex:null,target:null,title:null,type:null,value:o|a,width:null,wmode:s,cx:o,cy:o,d:o,fill:o,fx:o,fy:o,points:o,r:o,stroke:o,strokeLinecap:o,strokeWidth:o,transform:o,x:o,x1:o,x2:o,version:o,viewBox:o,y:o,y1:o,y2:o,spreadMethod:o,offset:o,stopColor:o,stopOpacity:o,gradientUnits:o,gradientTransform:o},l={className:"class",htmlFor:"for",strokeLinecap:"stroke-linecap",strokeWidth:"stroke-width",stopColor:"stop-color",stopOpacity:"stop-opacity"},c={autoComplete:"autocomplete",spellCheck:"spellcheck"};for(var h in f){i.isStandardName[h]=!0,i.getAttributeName[h]=l[h]||h.toLowerCase(),i.getPropertyName[h]=c[h]||h;var p=f[h];i.mustUseAttribute[h]=p&s,i.mustUseProperty[h]=p&o,i.hasBooleanValue[h]=p&u,i.hasSideEffects[h]=p&a,r(!i.mustUseAttribute[h]||!i.mustUseProperty[h],"DOMProperty: Cannot use require using both attribute and property: %s",h),r(i.mustUseProperty[h]||!i.hasSideEffects[h],"DOMProperty: Properties that have side effects must use property: %s",h)}n.exports=i}),define("DOMPropertyOperations",["require","exports","module","DOMProperty","escapeTextForBrowser","memoizeStringOnly"],function(e,t,n){var r=e("DOMProperty"),i=e("escapeTextForBrowser"),s=e("memoizeStringOnly"),o=s(function(e){return i(e)+'="'}),u={createMarkupForProperty:function(e,t){if(r.isStandardName[e]){if(t==null||r.hasBooleanValue[e]&&!t)return"";var n=r.getAttributeName[e];return o(n)+i(t)+'"'}return r.isCustomAttribute(e)?t==null?"":o(e)+i(t)+'"':null},setValueForProperty:function(e,t,n){if(r.isStandardName[t])if(r.mustUseAttribute[t])r.hasBooleanValue[t]&&!n?e.removeAttribute(r.getAttributeName[t]):e.setAttribute(r.getAttributeName[t],n);else{var i=r.getPropertyName[t];if(!r.hasSideEffects[t]||e[i]!==n)e[i]=n}else r.isCustomAttribute(t)&&e.setAttribute(t,n)}};n.exports=u}),define("ReactCurrentOwner",["require","exports","module"],function(e,t,n){var r={current:null};n.exports=r}),define("keyMirror",["require","exports","module","throwIf"],function(e,t,n){var r=e("throwIf"),i="NOT_OBJECT_ERROR",s=function(e){var t={},n;r(!(e instanceof Object)||Array.isArray(e),i);for(n in e){if(!e.hasOwnProperty(n))continue;t[n]=n}return t};n.exports=s}),define("ReactErrors",["require","exports","module","keyMirror"],function(e,t,n){var r=e("keyMirror"),i=r({CANT_IN_WORKER:null,CLASS_SPEC:null,CONTROL_WITHOUT_BACKING_DOM:null,NO_RENDER_NODE:null,USING_CHILD_TWICE:null,INVALID_STATE:null,ON_DOM_READY_MISMATCH:null,INVALID_COMPONENT:null,RUNAWAY_TREE:null,MAIN_THREAD_RENDER:null,INVALID_HIERARCHY:null,INVALID_ID:null,INVALID_REF:null,MOUNT_TWICE:null});n.exports=i}),define("BrowserEnv",["require","exports","module"],function(e,t,n){var r={currentScrollLeft:0,currentScrollTop:0,browserInfo:null,refreshAuthoritativeScrollValues:function(){r.currentScrollLeft=document.body.scrollLeft+document.documentElement.scrollLeft,r.currentScrollTop=document.body.scrollTop+document.documentElement.scrollTop}};n.exports=r}),define("keyOf",["require","exports","module"],function(e,t,n){var r=function(e){var t;for(t in e){if(!e.hasOwnProperty(t))continue;return t}return null};n.exports=r}),define("DefaultEventPluginOrder",["require","exports","module","keyOf"],function(e,t,n){var r=e("keyOf"),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null})];n.exports=i}),define("EventListener",["require","exports","module"],function(e,t,n){var r={listen:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},capture:function(e,t,n){if(!e.addEventListener){console.error("You are attempting to use addEventlistener in a browser that does not support it support it.This likely means that you will not receive events that your application relies on (such as scroll).");return}e.addEventListener(t,n,!0)}};n.exports=r}),define("DOMEventUtils",["require","exports","module","EventListener"],function(e,t,n){var r=e("EventListener"),i=function(e){var t=e||window.event,n="target"in t,r=t.target||t.srcElement||window,i=r.nodeType===3?r.parentNode:r;if(!n||t.target!==i)t.target=i},s=function(e){return function(t){i(t);var n=t;e(n)}},o={listenOn:function(e,t,n){r.listen(e,t,s(n))},captureOn:function(e,t,n){r.capture(e,t,s(n))}};n.exports=o}),define("CallbackRegistry",["require","exports","module"],function(e,t,n){var r={},i={putListener:function(e,t,n){var i=r[t]||(r[t]={});i[e]=n},getListener:function(e,t){var n=r[t];return n&&n[e]},deleteListener:function(e,t){var n=r[t];n&&delete n[e]},listenerBank:r};n.exports=i}),define("EventConstants",["require","exports","module","keyMirror"],function(e,t,n){var r=e("keyMirror"),i=r({bubbled:null,captured:null}),s=r({topMouseMove:null,topMouseOver:null,topMouseOut:null,topMouseUp:null,topMouseDown:null,topClick:null,topDoubleClick:null,topTouchStart:null,topTouchEnd:null,topTouchMove:null,topTouchCancel:null,topKeyUp:null,topKeyPress:null,topKeyDown:null,topFocus:null,topBlur:null,topMouseWheel:null,topScroll:null,topChange:null,topDOMCharacterDataModified:null}),o={topLevelTypes:s,PropagationPhases:i};n.exports=o}),define("accumulate",["require","exports","module","throwIf"],function(e,t,n){function s(e,t){var n=e==null,r=t===null;if(r)return e;if(n)return t;var i=Array.isArray(e),s=Array.isArray(t);return i?e.concat(t):s?[e].concat(t):[e,t]}var r=e("throwIf"),i="INVALID_ACCUM_ARGS";n.exports=s}),define("forEachAccumulated",["require","exports","module"],function(e,t,n){var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};n.exports=r}),define("EventPropagators",["require","exports","module","CallbackRegistry","EventConstants","accumulate","forEachAccumulated"],function(e,t,n){function l(e,t,n){var r=t.type.phasedRegistrationNames[n];return u(e,r)}function c(e,t,n){var r=t?a.bubbled:a.captured,i=l(e,n,r);i&&(n._dispatchListeners=s(n._dispatchListeners,i),n._dispatchIDs=s(n._dispatchIDs,e))}function h(e){e&&e.type.phasedRegistrationNames&&f.InstanceHandle.traverseTwoPhase(e.abstractTargetID,c,e)}function p(e,t,n){if(n&&n.type.registrationName){var r=u(e,n.type.registrationName);r&&(n._dispatchListeners=s(n._dispatchListeners,r),n._dispatchIDs=s(n._dispatchIDs,e))}}function d(e){e&&e.type.registrationName&&p(e.abstractTargetID,null,e)}function v(e){o(e,h)}function m(e,t,n,r){f.InstanceHandle.traverseEnterLeave(n,r,p,e,t)}function g(e){o(e,d)}var r=e("CallbackRegistry"),i=e("EventConstants"),s=e("accumulate"),o=e("forEachAccumulated"),u=r.getListener,a=i.PropagationPhases,f={InstanceHandle:null,injectInstanceHandle:function(e){f.InstanceHandle=e},validate:function(){var e=!f.InstanceHandle||!f.InstanceHandle.traverseTwoPhase||!f.InstanceHandle.traverseEnterLeave;if(e)throw new Error("InstanceHandle not injected before use!")}},y={accumulateTwoPhaseDispatches:v,accumulateDirectDispatches:g,accumulateEnterLeaveDispatches:m,injection:f};n.exports=y}),define("PooledClass",["require","exports","module"],function(e,t,n){var r=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},s=function(e,t,n,r,i){var s=this;if(s.instancePool.length){var o=s.instancePool.pop();return s.call(o,e,t,n,r,i),o}return new s(e,t,n,r,i)},o=function(e){var t=this;e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},u=10,a=r,f=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||a,n.poolSize||(n.poolSize=u),n.release=o,n},l={addPoolingTo:f,oneArgumentPooler:r,twoArgumentPooler:i,fiveArgumentPooler:s};n.exports=l}),define("TouchEventUtils",["require","exports","module"],function(e,t,n){var r={extractSingleTouch:function(e){var t=e.touches,n=e.changedTouches,r=t&&t.length>0,i=n&&n.length>0;return!r&&i?n[0]:r?t[0]:e}};n.exports=r}),define("AbstractEvent",["require","exports","module","BrowserEnv","PooledClass","TouchEventUtils","throwIf"],function(e,t,n){function f(e,t,n,r,i){this.type=e,this.abstractTargetID=t||"",this.originatingTopLevelEventType=n,this.nativeEvent=r,this.data=i,this.target=r&&r.target,this._dispatchListeners=null,this._dispatchIDs=null,this.isPropagationStopped=!1}var r=e("BrowserEnv"),i=e("PooledClass"),s=e("TouchEventUtils"),o=e("throwIf"),u,a=20;f.poolSize=a,f.prototype.destructor=function(){this.target=null,this._dispatchListeners=null,this._dispatchIDs=null},i.addPoolingTo(f,i.fiveArgumentPooler),f.prototype.stopPropagation=function(){this.isPropagationStopped=!0},f.prototype.preventDefault=function(){f.preventDefaultOnNativeEvent(this.nativeEvent)},f.preventDefaultOnNativeEvent=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},f.normalizeScrollDataFromTarget=function(e){return{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth}},f.normalizeMouseWheelData=function(e){var t=0,n=0,r=0;return e.wheelDelta&&(t=e.wheelDelta/120),e.detail&&(t=-e.detail/3),r=t,e.axis!==undefined&&e.axis===e.HORIZONTAL_AXIS&&(r=0,n=-t),e.wheelDeltaY!==undefined&&(r=e.wheelDeltaY/120),e.wheelDeltaX!==undefined&&(n=-e.wheelDeltaX/120),{delta:t,deltaX:n,deltaY:r}},f.isNativeClickEventRightClick=function(e){return e.which?e.which===3:e.button?e.button===2:!1},f.normalizePointerData=function(e){return{globalX:f.eventPageX(e),globalY:f.eventPageY(e),rightMouseButton:f.isNativeClickEventRightClick(e)}},f.normalizeDragEventData=function(e,t,n,r,i){return{globalX:t,globalY:n,startX:r,startY:i}},f.eventPageY=function(e){var t=s.extractSingleTouch(e);return t?t.pageY:typeof e.pageY!="undefined"?e.pageY:e.clientY+r.currentPageScrollTop},f.eventPageX=function(e){var t=s.extractSingleTouch(e);return t?t.pageX:typeof e.pageX!="undefined"?e.pageX:e.clientX+r.currentPageScrollLeft},f.persistentCloneOf=function(e){return new f(e.type,e.abstractTargetID,e.originatingTopLevelEventType,e.nativeEvent,e.data,e.target)},n.exports=f}),define("getDOMNodeID",["require","exports","module"],function(e,t,n){function r(e){if(e.getAttributeNode){var t=e.getAttributeNode("id");return t&&t.value||""}return e.id||""}n.exports=r}),define("ReactInstanceHandles",["require","exports","module","ReactErrors","getDOMNodeID","throwIf"],function(e,t,n){function c(e,t){return e.charAt(t)===o||t===e.length}function h(e){var t=e===""||e.charAt(0)===o&&e.charAt(e.length-1)!==o;s(!t,r.INVALID_ID)}var r=e("ReactErrors"),i=e("getDOMNodeID"),s=e("throwIf"),o=".",u=o.length,a=this,f=100,l,p=function(e){var t=i(e);return t&&t.charAt(0)===o},d=function(e){var t=e;while(t&&t.parentNode!==t&&!p(t))t=t.parentNode;return t||a},v=function(e,t){var n=e.firstChild;while(n){if(t==n.id)return n;if(t.indexOf(n.id)===0)return v(n,t);n=n.nextSibling}},m=function(e,t){var n=0,r=Math.min(e.length,t.length);if(e===""||t==="")return"";for(var i=0;i<=r;i++)if(c(e,i)&&c(t,i))n=i;else if(e.charAt(i)!==t.charAt(i))break;var s=e.substr(0,n);return s},g=function(e){return".reactRoot["+e+"]"},y=function(e){var t=/\.reactRoot\[[^\]]+\]/.exec(e);return t&&t[0]},b=function(e){if(!e||!e.length)return"";var t=e.lastIndexOf(".");return e.substr(0,t)},w=function(e,t){if(e===t)return e;var n=e.length+u;for(var i=n;i<=t.length;i++)if(c(t,i))return t.substr(0,i);s(!0,r.INVALID_ID)},E=function(e,t,n,i,o,u){e=e||"",t=t||"";var a=m(e,t),l=a===t,c=a===e,h=e,p=!1,d=0;if(l)while(!p)(d!==0||!o)&&(h!==t||!u)&&n(h,!0,i),p=h===t,h=b(h),s(d++>f,r.RUNAWAY_TREE);else if(c)while(!p)(d!==0||!o)&&(h!==t||!u)&&n(h,!1,i),p=h===t,h=w(h,t),s(d++>f,r.RUNAWAY_TREE)},S=function(e,t,n){e&&(E("",e,t,n,!0,!1),E(e,"",t,n,!1,!0))},x=function(e,t,n,r,i){var s=m(e,t);s!==e&&E(e,s,n,r,!1,!0),s!==t&&E(s,t,n,i,!0,!1)},T={separator:o,getFirstReactDOM:d,findComponentRoot:v,getFirstCommonAncestorID:m,getReactRootID:g,getReactRootIDFromNodeID:y,traverseEnterLeave:x,traverseTwoPhase:S,nextDescendantID:w};n.exports=T}),define("EnterLeaveEventPlugin",["require","exports","module","EventPropagators","AbstractEvent","EventConstants","ReactInstanceHandles","getDOMNodeID","keyOf"],function(e,t,n){var r=e("EventPropagators"),i=e("AbstractEvent"),s=e("EventConstants"),o=e("ReactInstanceHandles"),u=e("getDOMNodeID"),a=e("keyOf"),f=s.topLevelTypes,l=o.getFirstReactDOM,c={mouseEnter:{registrationName:a({onMouseEnter:null})},mouseLeave:{registrationName:a({onMouseLeave:null})}},h=this,p=function(e,t,n,s){if(e===f.topMouseOver&&(t.relatedTarget||t.fromElement))return;if(e!==f.topMouseOut&&e!==f.topMouseOver)return null;var o=e===f.topMouseOut?l(t.relatedTarget||t.toElement):s,a=e===f.topMouseOut?s:h;if(a===o)return;var p=a?u(a):"",d=o?u(o):"",v=i.getPooled(c.mouseLeave,p,e,t),m=i.getPooled(c.mouseEnter,d,e,t);return r.accumulateEnterLeaveDispatches(v,m,p,d),[m,v]},d={abstractEventTypes:c,extractAbstractEvents:p};n.exports=d}),define("EventPluginUtils",["require","exports","module","EventConstants","AbstractEvent","ReactErrors","throwIf"],function(e,t,n){function a(e){return e===u.topMouseUp||e===u.topTouchEnd||e===u.topTouchCancel}function f(e){return e===u.topMouseMove||e===u.topTouchMove}function l(e){return e===u.topMouseDown||e===u.topTouchStart}function c(e,t){var n=i.eventPageX(t),r=i.eventPageY(t);e.pageX=n,e.pageY=r}function h(e,t){var n=i.eventPageX(t),r=i.eventPageY(t);return Math.pow(Math.pow(n-e.pageX,2)+Math.pow(r-e.pageY,2),.5)}function d(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n)){var i;for(i=0;i<n.length&&!e.isPropagationStopped;i++)t(e,n[i],r[i])}else n&&t(e,n,r)}function v(e,t,n){t(e,n)}function m(e){d(e,v),e._dispatchListeners=null,e._dispatchIDs=null}function g(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){var r;for(r=0;r<t.length&&!e.isPropagationStopped;r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function y(e){var t=e._dispatchListeners,n=e._dispatchIDs;o(Array.isArray(t),s.DISPATCH_IDS_MISSING);var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function b(e){return!!e._dispatchListeners}var r=e("EventConstants"),i=e("AbstractEvent"),s=e("ReactErrors"),o=e("throwIf"),u=r.topLevelTypes,p,w={isEndish:a,isMoveish:f,isStartish:l,storePageCoordsIn:c,eventDistance:h,executeDispatchesInOrder:m,executeDispatchesInOrderStopAtTrue:g,executeDirectDispatch:y,hasDispatches:b,forEachEventDispatch:d};n.exports=w}),define("ExecutionEnvironment",["require","exports","module"],function(e,t,n){var r=typeof window!="undefined",i={canUseDOM:r,canUseWorkers:typeof Worker!="undefined",isInWorker:!r};n.exports=i}),define("mergeHelpers",["require","exports","module","keyMirror","throwIf"],function(e,t,n){var r=e("keyMirror"),i=e("throwIf"),s=36,o=r({MERGE_ARRAY_FAIL:null,MERGE_CORE_FAILURE:null,MERGE_TYPE_USAGE_FAILURE:null,MERGE_DEEP_MAX_LEVELS:null,MERGE_DEEP_NO_ARR_STRATEGY:null}),u=function(e){return typeof e!="object"||e===null},a={MAX_MERGE_DEPTH:s,isTerminal:u,normalizeMergeArg:function(e){return e===undefined||e===null?{}:e},checkMergeArrayArgs:function(e,t){i(!Array.isArray(e)||!Array.isArray(t),o.MERGE_CORE_FAILURE)},checkMergeObjectArgs:function(e,t){var n=u(e)||u(t)||Array.isArray(e)||Array.isArray(t);i(n,o.MERGE_CORE_FAILURE)},checkMergeLevel:function(e){i(e>=s,o.MERGE_DEEP_MAX_LEVELS)},checkArrayStrategy:function(e){i(e!==undefined&&!(e in a.ArrayStrategies),o.MERGE_DEEP_NO_ARR_STRATEGY)},ArrayStrategies:r({Clobber:!0,IndexByIndex:!0}),ERRORS:o};n.exports=a}),define("merge",["require","exports","module","mergeHelpers"],function(e,t,n){var r=e("mergeHelpers"),i=r.checkMergeObjectArgs,s=r.normalizeMergeArg,o=function(e,t){var n=s(e),r=s(t);i(n,r);var o={};for(var u in n)n.hasOwnProperty(u)&&(o[u]=n[u]);for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);return o};n.exports=o}),define("EventPluginHub",["require","exports","module","AbstractEvent","CallbackRegistry","EventPluginUtils","EventPropagators","ExecutionEnvironment","accumulate","forEachAccumulated","keyMirror","merge","throwIf"],function(e,t,n){function b(e){var t,n=e.phasedRegistrationNames;if(n)for(t in n){if(!n.hasOwnProperty(t))continue;m[n[t]]=!0,g.push(n[t])}else e.registrationName&&(m[e.registrationName]=!0,g.push(e.registrationName))}var r=e("AbstractEvent"),i=e("CallbackRegistry"),s=e("EventPluginUtils"),o=e("EventPropagators"),u=e("ExecutionEnvironment"),a=e("accumulate"),f=e("forEachAccumulated"),l=e("keyMirror"),c=e("merge"),h=e("throwIf"),p=i.deleteListener,d=l({DOUBLE_REGISTER:null,DOUBLE_ENQUEUE:null,DEPENDENCY_ERROR:null}),v={injectInstanceHandle:function(e){o.injection.injectInstanceHandle(e)},EventPluginOrder:null,injectEventPluginOrder:function(e){v.EventPluginOrder=e,v._recomputePluginsList()},plugins:[],injectEventPluginsByName:function(e){v.pluginsByName=c(v.pluginsByName,e),v._recomputePluginsList()},pluginsByName:{},_recomputePluginsList:function(){var e=function(e,t){var n=v.EventPluginOrder.indexOf(e);h(n===-1,d.DEPENDENCY_ERROR+e);if(!v.plugins[n]){v.plugins[n]=t;for(var r in t.abstractEventTypes){var i=t.abstractEventTypes[r];b(i)}}};if(v.EventPluginOrder){var t=v.pluginsByName;for(var n in t)e(n,t[n])}}},m={},g=[],y=[],w=function(e){var t;for(t=0;t<g.length;t++)p(e,g[t])},E=function(e,t,n,r){var i,s=v.plugins,o=s.length;for(var u=0;u<o;u++){var f=s[u],l=f&&f.extractAbstractEvents(e,t,n,r);l&&(i=a(i,l))}return i},S=function(e){e&&(y=a(y,e))},x=function(e){e&&(s.executeDispatchesInOrder(e),r.release(e))},T=function(){var e=y;y=null,f(e,x)},N={registrationNames:m,registrationNamesArr:g,putListener:i.putListener,getListener:i.getListener,deleteAllListeners:w,extractAbstractEvents:E,enqueueAbstractEvents:S,processAbstractEventQueue:T,injection:v};u.canUseDOM&&(window.EventPluginHub=N),n.exports=N}),define("ReactBrowserUtils",["require","exports","module","ExecutionEnvironment"],function(e,t,n){var r=e("ExecutionEnvironment"),i;r.canUseDOM&&(i=document.createElement("div"));var s={supportsEvent:function(e,t){if(!r.canUseDOM||t&&!i.addEventListener)return!1;var n=document.createElement("div"),s="on"+e,o=s in n;return o||(n.setAttribute||(n=document.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(s,""),o=typeof n[s]=="function",typeof n[s]!="undefined"&&(n[s]=undefined),n.removeAttribute(s))),n=null,o}};n.exports=s}),define("SimpleEventPlugin",["require","exports","module","AbstractEvent","EventConstants","EventPropagators","keyOf"],function(e,t,n){var r=e("AbstractEvent"),i=e("EventConstants"),s=e("EventPropagators"),o=e("keyOf"),u=i.topLevelTypes,a={abstractEventTypes:{mouseDown:{phasedRegistrationNames:{bubbled:o({onMouseDown:!0}),captured:o({onMouseDownCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:o({onMouseUp:!0}),captured:o({onMouseUpCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:o({onMouseMove:!0}),captured:o({onMouseMoveCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:o({onDoubleClick:!0}),captured:o({onDoubleClickCapture:!0})}},click:{phasedRegistrationNames:{bubbled:o({onClick:!0}),captured:o({onClickCapture:!0})}},mouseWheel:{phasedRegistrationNames:{bubbled:o({onMouseWheel:!0}),captured:o({onMouseWheelCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:o({onTouchStart:!0}),captured:o({onTouchStartCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:o({onTouchEnd:!0}),captured:o({onTouchEndCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:o({onTouchCancel:!0}),captured:o({onTouchCancelCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:o({onTouchMove:!0}),captured:o({onTouchMoveCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:o({onKeyUp:!0}),captured:o({onKeyUpCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:o({onKeyPress:!0}),captured:o({onKeyPressCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:o({onKeyDown:!0}),captured:o({onKeyDownCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:o({onFocus:!0}),captured:o({onFocusCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:o({onBlur:!0}),captured:o({onBlurCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:o({onScroll:!0}),captured:o({onScrollCapture:!0})}},change:{phasedRegistrationNames:{bubbled:o({onChange:!0}),captured:o({onChangeCapture:!0})}},DOMCharacterDataModified:{phasedRegistrationNames:{bubbled:o({onDOMCharacterDataModified:!0}),captured:o({onDOMCharacterDataModifiedCapture:!0})}}},extractAbstractEvents:function(e,t,n,i){var o,f=a.topLevelTypesToAbstract[e];if(!f)return null;switch(e){case u.topMouseWheel:o=r.normalizeMouseWheelData(t);break;case u.topScroll:o=r.normalizeScrollDataFromTarget(i);break;case u.topClick:case u.topDoubleClick:case u.topChange:case u.topDOMCharacterDataModified:case u.topMouseDown:case u.topMouseUp:case u.topMouseMove:case u.topTouchMove:case u.topTouchStart:case u.topTouchEnd:o=r.normalizePointerData(t);break;default:o=null}var l=r.getPooled(f,n,e,t,o);return s.accumulateTwoPhaseDispatches(l),l}};a.topLevelTypesToAbstract={topMouseDown:a.abstractEventTypes.mouseDown,topMouseUp:a.abstractEventTypes.mouseUp,topMouseMove:a.abstractEventTypes.mouseMove,topClick:a.abstractEventTypes.click,topDoubleClick:a.abstractEventTypes.doubleClick,topMouseWheel:a.abstractEventTypes.mouseWheel,topTouchStart:a.abstractEventTypes.touchStart,topTouchEnd:a.abstractEventTypes.touchEnd,topTouchMove:a.abstractEventTypes.touchMove,topTouchCancel:a.abstractEventTypes.touchCancel,topKeyUp:a.abstractEventTypes.keyUp,topKeyPress:a.abstractEventTypes.keyPress,topKeyDown:a.abstractEventTypes.keyDown,topFocus:a.abstractEventTypes.focus,topBlur:a.abstractEventTypes.blur,topScroll:a.abstractEventTypes.scroll,topChange:a.abstractEventTypes.change,topDOMCharacterDataModified:a.abstractEventTypes.DOMCharacterDataModified},n.exports=a}),define("ReactEvent",["require","exports","module","BrowserEnv","DefaultEventPluginOrder","DOMEventUtils","EnterLeaveEventPlugin","EventConstants","EventPluginHub","ExecutionEnvironment","ReactBrowserUtils","ReactInstanceHandles","SimpleEventPlugin","throwIf"],function(e,t,n){function E(e,t,n){m(n,t,O.TopLevelCallbackCreator.createTopLevelCallback(e))}function S(e,t,n){g(n,t,O.TopLevelCallbackCreator.createTopLevelCallback(e))}function x(){m(window,"scroll",function(e){e.target===window&&r.refreshAuthoritativeScrollValues()})}function T(){m(window,"resize",function(e){e.target===window&&r.refreshAuthoritativeScrollValues()})}function N(e){var t=document;x(),T(),E(v.topMouseOver,"mouseover",t),E(v.topMouseDown,"mousedown",t),E(v.topMouseUp,"mouseup",t),E(v.topMouseMove,"mousemove",t),E(v.topMouseOut,"mouseout",t),E(v.topClick,"click",t),E(v.topDoubleClick,"dblclick",t),E(v.topMouseWheel,"mousewheel",t),e&&(E(v.topTouchStart,"touchstart",t),E(v.topTouchEnd,"touchend",t),E(v.topTouchMove,"touchmove",t),E(v.topTouchCancel,"touchcancel",t)),E(v.topKeyUp,"keyup",t),E(v.topKeyPress,"keypress",t),E(v.topKeyDown,"keydown",t),E(v.topChange,"change",t),E(v.topDOMCharacterDataModified,"DOMCharacterDataModified",t),E(v.topMouseWheel,"DOMMouseScroll",t),l.supportsEvent("scroll",!0)?S(v.topScroll,"scroll",t):E(v.topScroll,"scroll",window),l.supportsEvent("focusin")?(E(v.topFocus,"focusin",t),E(v.topBlur,"focusout",t)):l.supportsEvent("focus",!0)&&(S(v.topFocus,"focus",t),S(v.topBlur,"blur",t))}function C(e,t,n,r){var i=a.extractAbstractEvents(e,t,n,r);a.enqueueAbstractEvents(i),a.processAbstractEventQueue()}function k(e){O.TopLevelCallbackCreator.setEnabled(e)}function L(){return O.TopLevelCallbackCreator.isEnabled()}function A(e,t){y||(O.TopLevelCallbackCreator=t,N(e),y=!0)}var r=e("BrowserEnv"),i=e("DefaultEventPluginOrder"),s=e("DOMEventUtils"),o=e("EnterLeaveEventPlugin"),u=e("EventConstants"),a=e("EventPluginHub"),f=e("ExecutionEnvironment"),l=e("ReactBrowserUtils"),c=e("ReactInstanceHandles"),h=e("SimpleEventPlugin"),p=e("throwIf"),d=a.registrationNames,v=u.topLevelTypes,m=s.listenOn,g=s.captureOn;a.injection.injectEventPluginOrder(i),a.injection.injectInstanceHandle(c),a.injection.injectEventPluginsByName({SimpleEventPlugin:h,EnterLeaveEventPlugin:o});var y=!1,b,w,O={TopLevelCallbackCreator:null,handleTopLevel:C,setEnabled:k,isEnabled:L,ensureListening:A,registrationNames:d,putListener:a.putListener,getListener:a.getListener,deleteAllListeners:a.deleteAllListeners};n.exports=O}),define("ReactEventTopLevelCallback",["require","exports","module","ReactEvent","ReactInstanceHandles","getDOMNodeID"],function(e,t,n){var r=e("ReactEvent"),i=e("ReactInstanceHandles"),s=e("getDOMNodeID"),o=!0,u={setEnabled:function(e){o=!!e},isEnabled:function(){return o},createTopLevelCallback:function(e){return function(t){if(!o)return;var n=i.getFirstReactDOM(t.target),u=s(n),a=t,f=n;r.handleTopLevel(e,a,u,f)}}};n.exports=u}),define("ge",["require","exports","module"],function(e,t,n){function r(e,t,n){return typeof e!="string"?e:t?i(e,t,n):document.getElementById(e)}function i(e,t,n){var r,o,u;if(s(t)==e)return t;if(t.getElementsByTagName){o=t.getElementsByTagName(n||"*");for(u=0;u<o.length;u++)if(s(o[u])==e)return o[u]}else{o=t.childNodes;for(u=0;u<o.length;u++){r=i(e,o[u]);if(r)return r}}return null}function s(e){var t=e.getAttributeNode&&e.getAttributeNode("id");return t?t.value:null}n.exports=r}),define("$",["require","exports","module","ge"],function(e,t,n){function i(e){var t=r(e);if(!t)throw typeof e=="undefined"?e="undefined":e===null&&(e="null"),new Error('Tried to get element "'+e.toString()+'" but it is not present '+"on the page.");return t}var r=e("ge");n.exports=i}),define("ReactMount",["require","exports","module","ReactErrors","ReactEvent","ReactInstanceHandles","ReactEventTopLevelCallback","throwIf","$"],function(e,t,n){var r=e("ReactErrors"),i=e("ReactEvent"),s=e("ReactInstanceHandles"),o=e("ReactEventTopLevelCallback"),u=e("throwIf"),a=e("$"),f=0,l={instanceByReactRootId:{},containersByReactRootId:{},totalInstantiationTime:0,totalInjectionTime:0,useTouchEvents:!1,scrollMonitor:function(e,t){return t()},prepareTopLevelEvents:function(e){i.ensureListening(l.useTouchEvents,e)},renderComponent:function(e,t){return u(!t,r.NO_RENDER_NODE),l.prepareTopLevelEvents(o),l.renderMarkupIntoNode(e,t),e},createComponentRenderer:function(e){return function(t){return l.renderComponent(e,t)}},constructAndRenderComponent:function(e,t,n){l.renderComponent(e(t),n)},constructAndRenderComponentByID:function(e,t,n){var i=a(n);u(!i,r.NO_RENDER_NODE),l.constructAndRenderComponent(e,t,i)},renderMarkupIntoNode:function(e,t){var n=this.registerContainer(t);l.instanceByReactRootId[n]=e,e.mountInContainerNode(n,t)},renderMarkupIntoID:function(e,t){var n=s.separator+t;l.instanceByReactRootId[n]=e,e.mountInContainerNodeWithID(n,t)},registerContainer:function(e){var t=e.firstChild&&e.firstChild.id,n=t&&s.getReactRootIDFromNodeID(t)||s.getReactRootID(f++);return l.containersByReactRootId[n]=e,n},unmountAndReleaseReactRootNode:function(e){var t=l.getInstanceHeldByContainer(e),n=e.firstChild&&e.firstChild.id;t.unmountComponent(),delete l.instanceByReactRootId[n],delete l.containersByReactRootId[n],e.innerHTML=""},getInstanceHeldByContainer:function(e){var t=l.instanceByReactRootId[e.firstChild&&e.firstChild.id];return t},findReactContainerForId:function(e){return l.containersByReactRootId[s.getReactRootIDFromNodeID(e)]},findReactRenderedDOMNodeSlow:function(e){var t=l.findReactContainerForId(e);return s.findComponentRoot(t,e)},renderOrUpdateComponent:function(e,t){var n=l.getInstanceHeldByContainer(t);if(n){var r=n.replaceProps.bind(n,e.props);return l.scrollMonitor(t,r),n}return l.renderComponent(e,t)}};n.exports=l}),define("ContentAccessor",["require","exports","module","ExecutionEnvironment","throwIf"],function(e,t,n){var r=e("ExecutionEnvironment"),i=e("throwIf"),s,o="CONTENT_IN_WORKER",u={getContentAccessor:function(){return i(!r.canUseDOM,o),s||(s=document.createElement("div").innerText!==undefined?"innerText":"textContent"),s}};n.exports=u}),define("Danger",["require","exports","module","ExecutionEnvironment","throwIf"],function(e,t,n){function l(e){var t=e.tagName;return f[t]||(f[t]=document.createElement(t))}function c(e,t,n){return n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.insertBefore(t,e.firstChild)}function h(e,t,n){var r,i=t.length;for(var s=0;s<i;s++)r=c(e,t[0],r||n)}function p(e,t,n){var r=l(e);r.innerHTML=t;var i=r.childNodes,s=n?e.childNodes[n-1]:null;h(e,i,s)}function d(e,t){var n=e.parentNode,r=l(n);r.innerHTML=t;var i=r.childNodes;n.replaceChild(i[0],e)}var r=e("ExecutionEnvironment"),i=e("throwIf"),s,o,u,a,f={},v={dangerouslyInsertMarkupAt:p,dangerouslyReplaceNodeWithMarkup:d};n.exports=v}),define("insertNodeAt",["require","exports","module"],function(e,t,n){function r(e,t,n){var r=e.childNodes,i=e.childNodes[n];return i===t?t:(t.parentNode&&t.parentNode.removeChild(t),n>=r.length?e.appendChild(t):e.insertBefore(t,r[n]),t)}n.exports=r}),define("DOMChildrenOperations",["require","exports","module","Danger","insertNodeAt","keyOf","throwIf"],function(e,t,n){var r=e("Danger"),i=e("insertNodeAt"),s=e("keyOf"),o=e("throwIf"),u,a=s({moveFrom:null}),f=s({insertMarkup:null}),l=s({removeAt:null}),c=function(e,t){var n,r,i;for(var s=0;s<t.length;s++)r=t[s],a in r?(n=n||[],i=r.moveFrom,n[i]=e.childNodes[i]):l in r&&(n=n||[],i=r.removeAt,n[i]=e.childNodes[i]);return n},h=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r&&e.removeChild(t[n])}},p=function(e,t,n){var s,o,u=-1,c;for(var h=0;h<t.length;h++){c=t[h];if(a in c)s=n[c.moveFrom],o=c.finalIndex,i(e,s,o);else if(!(l in c)&&f in c){o=c.finalIndex;var p=c.insertMarkup;r.dangerouslyInsertMarkupAt(e,p,o)}}},d=function(e,t){var n=c(e,t);n&&h(e,n),p(e,t,n)},v=function(e,t,n){e.childNodes[t].nodeValue=n},m={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,manageChildren:d,setTextNodeValueAtIndex:v};n.exports=m}),define("ReactDOMNodeCache",["require","exports","module","ReactMount"],function(e,t,n){var r=e("ReactMount"),i={},s={purgeEntireCache:function(){return i={},i},getCachedNodeByID:function(e){return i[e]||(i[e]=document.getElementById(e)||r.findReactRenderedDOMNodeSlow(e))}};n.exports=s}),define("ReactDOMIDOperations",["require","exports","module","ContentAccessor","CSSPropertyOperations","DOMChildrenOperations","DOMPropertyOperations","ExecutionEnvironment","ReactDOMNodeCache","keyMirror","throwIf"],function(e,t,n){var r=e("ContentAccessor"),i=e("CSSPropertyOperations"),s=e("DOMChildrenOperations"),o=e("DOMPropertyOperations"),u=e("ExecutionEnvironment"),a=e("ReactDOMNodeCache"),f=e("keyMirror"),l=e("throwIf"),c=f({content:null,dangerouslySetInnerHTML:null,posInfo:null,style:null}),h=u.canUseDOM?r.getContentAccessor():"NA",p={updatePropertyByID:function(e,t,n){var r=a.getCachedNodeByID(e);l(c.hasOwnProperty(t),"updatePropertyByID(...): "+c[t]),o.setValueForProperty(r,t,n)},updatePropertiesByID:function(e,t){for(var n in t){if(!t.hasOwnProperty(n))continue;p.updatePropertiesByID(e,n,t[n])}},updateStylesByID:function(e,t){var n=a.getCachedNodeByID(e);i.setValueForStyles(n,t)},updateInnerHTMLByID:function(e,t){var n=a.getCachedNodeByID(e);n.innerHTML=(t&&t.__html||"").replace(/^ /g,"&nbsp;")},updateTextContentByID:function(e,t){var n=a.getCachedNodeByID(e);n[h]=t},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=a.getCachedNodeByID(e);s.dangerouslyReplaceNodeWithMarkup(n,t),a.purgeEntireCache()},manageChildrenByParentID:function(e,t){var n=a.getCachedNodeByID(e);s.manageChildren(n,t),a.purgeEntireCache()},setTextNodeValueAtIndexByParentID:function(e,t,n){var r=a.getCachedNodeByID(e);s.setTextNodeValueAtIndex(r,t,n)}};n.exports=p}),define("ReactInputSelection",["require","exports","module"],function(e,t,n){var r={hasSelectionCapabilities:function(e){return e&&(e.nodeName==="INPUT"&&e.type==="text"||e.nodeName==="TEXTAREA"||e.contentEditable==="true")},getSelectionInformation:function(){var e=document.activeElement;return{focusedElem:e,selectionRange:r.hasSelectionCapabilities(e)?r.getSelection(e):null}},restoreSelection:function(e){var t=document.activeElement,n=e.focusedElem,i=e.selectionRange;t!==n&&document.getElementById(n.id)&&(r.hasSelectionCapabilities(n)&&r.setSelection(n,i),n.focus())},getSelection:function(e){var t;if(e.contentEditable==="true"&&window.getSelection){t=window.getSelection().getRangeAt(0);var n=t.commonAncestorContainer;return n&&n.nodeType===3&&(n=n.parentNode),n!==e?{start:0,end:0}:{start:t.startOffset,end:t.endOffset}}if(!document.selection)return{start:e.selectionStart,end:e.selectionEnd};t=document.selection.createRange();if(t.parentElement()!==e)return{start:0,end:0};var r=e.value.length;if(e.nodeName==="INPUT")return{start:-t.moveStart("character",-r),end:-t.moveEnd("character",-r)};var i=t.duplicate();i.moveToElementText(e),i.setEndPoint("StartToEnd",t);var s=r-i.text.length;return i.setEndPoint("StartToStart",t),{start:r-i.text.length,end:s}},setSelection:function(e,t){var n,r=t.start,i=t.end;typeof i=="undefined"&&(i=r);if(document.selection){if(e.tagName==="TEXTAREA"){var s=(e.value.slice(0,r).match(/\r/g)||[]).length,o=(e.value.slice(r,i).match(/\r/g)||[]).length;r-=s,i-=s+o}n=e.createTextRange(),n.collapse(!0),n.moveStart("character",r),n.moveEnd("character",i-r),n.select()}else if(e.contentEditable==="true"){if(e.childNodes.length===1){n=document.createRange(),n.setStart(e.childNodes[0],r),n.setEnd(e.childNodes[0],i);var u=window.getSelection();u.removeAllRanges(),u.addRange(n)}}else e.selectionStart=r,e.selectionEnd=Math.min(i,e.value.length),e.focus()}};n.exports=r}),define("mixInto",["require","exports","module"],function(e,t,n){var r=function(e,t){var n;for(n in t){if(!t.hasOwnProperty(n))continue;e.prototype[n]=t[n]}};n.exports=r}),define("ReactOnDOMReady",["require","exports","module","PooledClass","ReactErrors","mixInto","throwIf"],function(e,t,n){function u(e){this._queue=e||null}var r=e("PooledClass"),i=e("ReactErrors"),s=e("mixInto"),o=e("throwIf");s(u,{reset:function(){this._queue=null},enqueue:function(e,t){this._queue||(this._queue=[]),o(!this._queue,i.ON_DOM_READY_MISMATCH),this._queue.push({instance:e,callback:t})},notifyAll:function(){var e=this._queue;if(e){var t=e.length;this._queue=null;for(var n=0;n<t;n+=1){var r=e[n].instance,i=e[n].callback;i.call(r,r.getDOMNode())}e.length=0}},destructor:function(){this._queue=null}}),r.addPoolingTo(u),n.exports=u}),define("Transaction",["require","exports","module","throwIf"],function(e,t,n){var r=e("throwIf"),i="DUAL_TRANSACTION",s="MISSING_TRANSACTION",o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this.timingMetrics||(this.timingMetrics={}),this.timingMetrics.methodInvocationTime=0,this.timingMetrics.wrapperInitTimes?this.timingMetrics.wrapperInitTimes.length=0:this.timingMetrics.wrapperInitTimes=[],this.timingMetrics.wrapperCloseTimes?this.timingMetrics.wrapperCloseTimes.length=0:this.timingMetrics.wrapperCloseTimes=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,s,o,u,a,f){r(this.isInTransaction(),i);var l=Date.now(),c=null,h;try{this.initializeAll(),h=e.call(t,n,s,o,u,a,f)}catch(p){c=p}finally{var d=Date.now();this.methodInvocationTime+=d-l;try{this.closeAll()}catch(v){c=c||v}}if(c)throw c;return h},initializeAll:function(){this._isInTransaction=!0;var e=this.transactionWrappers,t=this.timingMetrics.wrapperInitTimes,n=null;for(var r=0;r<e.length;r++){var i=Date.now(),s=e[r];try{this.wrapperInitData[r]=s.initialize?s.initialize.call(this):null}catch(o){n=n||o,this.wrapperInitData[r]=u.OBSERVED_ERROR}finally{var a=t[r],f=Date.now();t[r]=(a||0)+(f-i)}}if(n)throw n},closeAll:function(){r(!this.isInTransaction(),s);var e=this.transactionWrappers,t=this.timingMetrics.wrapperCloseTimes,n=null;for(var i=0;i<e.length;i++){var o=e[i],a=Date.now(),f=this.wrapperInitData[i];try{f!==u.OBSERVED_ERROR&&o.close&&o.close.call(this,f)}catch(l){n=n||l}finally{var c=Date.now(),h=t[i];t[i]=(h||0)+(c-a)}}this.wrapperInitData.length=0,this._isInTransaction=!1;if(n)throw n}},u={Mixin:o,OBSERVED_ERROR:{}};n.exports=u}),define("copyProperties",["require","exports","module"],function(e,t,n){function r(e,t,n,r,i,s,o){e=e||{};var u=[t,n,r,i,s],a=0,f;while(u[a]){f=u[a++];for(var l in f)e[l]=f[l];f.hasOwnProperty&&f.hasOwnProperty("toString")&&typeof f.toString!="undefined"&&e.toString!==f.toString&&(e.toString=f.toString)}return e}n.exports=r}),define("emptyFunction",["require","exports","module","copyProperties"],function(e,t,n){function i(e){return function(){return e}}function s(){}var r=e("copyProperties");r(s,{thatReturns:i,thatReturnsFalse:i(!1),thatReturnsTrue:i(!0),thatReturnsNull:i(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(e){return e},mustImplement:function(e,t){return function(){}}}),n.exports=s}),define("ReactReconcileTransaction",["require","exports","module","ExecutionEnvironment","PooledClass","ReactEvent","ReactInputSelection","ReactOnDOMReady","Transaction","emptyFunction","mixInto"],function(e,t,n){function v(){this.reinitializeTransaction(),this.reactOnDOMReady=u.getPooled(null)}var r=e("ExecutionEnvironment"),i=e("PooledClass"),s=e("ReactEvent"),o=e("ReactInputSelection"),u=e("ReactOnDOMReady"),a=e("Transaction"),f=e("emptyFunction"),l=e("mixInto"),c={initialize:o.getSelectionInformation,close:o.restoreSelection},h={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},p={initialize:function(){this.reactOnDOMReady.reset()},close:function(){this.reactOnDOMReady.notifyAll()}},d=[c,h,p],m={getTransactionWrappers:function(){return r.canUseDOM?d:[{initialize:f,close:this.reactOnDOMReady.reset.bind(this.reactOnDOMReady)}]},getReactOnDOMReady:function(){return this.reactOnDOMReady},destructor:function(){u.release(this.reactOnDOMReady),this.reactOnDOMReady=null}};l(v,a.Mixin),l(v,m),i.addPoolingTo(v),n.exports=v}),define("ReactComponent",["require","exports","module","ReactCurrentOwner","ReactErrors","ReactMount","ReactDOMIDOperations","ExecutionEnvironment","ReactReconcileTransaction","keyMirror","merge","throwIf"],function(e,t,n){function d(e,t,n){n.attachRef(t,e)}function v(e,t,n){n.refs[t]===e&&n.detachRef(t)}var r=e("ReactCurrentOwner"),i=e("ReactErrors"),s=e("ReactMount"),o=e("ReactDOMIDOperations"),u=e("ExecutionEnvironment"),a=e("ReactReconcileTransaction"),f=e("keyMirror"),l=e("merge"),c=e("throwIf"),h=f({MOUNTED:null,UNMOUNTED:null}),p={DOMIDOperations:o,ReactReconcileTransaction:a,setReactReconcileTransaction:function(e){p.ReactReconcileTransaction=e},setDOMOperations:function(e){p.DOMIDOperations=e},isValidComponent:function(e){return!!e&&typeof e.mountInContainerNode=="function"&&typeof e.receiveProps=="function"},assertValidComponent:function(e){c(!p.isValidComponent(e),i.INVALID_COMPONENT)},LifeCycle:h,Mixin:{getDOMNode:function(){c(!u.canUseDOM,i.CANT_IN_WORKER);var e=this.rootDomNode;return e||(e=document.getElementById(this._rootDomId),e||(e=s.findReactRenderedDOMNodeSlow(this._rootDomId)),this.rootDomNode=e),e},construct:function(e,t){this.props=e||{},typeof t!="undefined"&&(this.props.children=t),this.props.owner=r.current,this._lifeCycleState=h.UNMOUNTED},mountComponent:function(e,t){c(this._lifeCycleState===h.MOUNTED,i.MOUNT_TWICE),this._rootDomId=e;var n=this.props;n.ref!=null&&d(this,n.ref,n.owner),this._lifeCycleState=h.MOUNTED},unmountComponent:function(){var e=this.props;e.ref!=null&&v(this,e.ref,e.owner),this._lifeCycleState=h.UNMOUNTED},setProps:function(e){this.replaceProps(l(this.props,e))},replaceProps:function(e){var t=p.ReactReconcileTransaction.getPooled();t.perform(this.receiveProps,this,e,t),p.ReactReconcileTransaction.release(t)},receiveProps:function(e,t){var n=this.props;c(!this._rootDomId,i.CONTROL_WITHOUT_BACKING_DOM);if(e.owner!==n.owner||e.ref!==n.ref)n.ref!=null&&v(this,n.ref,n.owner),e.ref!=null&&d(this,e.ref,e.owner)},mountInContainerNode:function(e,t){var n=p.ReactReconcileTransaction.getPooled();n.perform(this._mountInContainerNode,this,e,t,n),p.ReactReconcileTransaction.release(n)},mountInContainerNodeWithID:function(e,t){var n=p.ReactReconcileTransaction.getPooled();n.perform(this._mountInContainerNodeWithID,this,e,t,n),p.ReactReconcileTransaction.release(n)},_mountInContainerNodeWithID:function(e,t,n){var r=Date.now(),i=this.mountComponent(e,n);s.totalInstantiationTime+=Date.now()-r,p.DOMIDOperations.updateProperties(t,{dangerouslySetInnerHTML:{__html:i}}).invoke()},_mountInContainerNode:function(e,t,n){var r=Date.now(),i=this.mountComponent(e,n);s.totalInstantiationTime+=Date.now()-r;var o=Date.now(),u=t.nextSibling,a=t.parentNode;a?(a.removeChild(t),t.innerHTML=i,u?a.insertBefore(t,u):a.appendChild(t)):t.innerHTML=i,s.totalInjectionTime+=Date.now()-o}}};p.Mixin.update=p.Mixin.setProps,p.Mixin.updateAll=p.Mixin.replaceProps,n.exports=p}),define("ReactMultiChild",["require","exports","module","ReactComponent"],function(e,t,n){function i(e,t){return e&&t&&e.constructor===t.constructor}var r=e("ReactComponent"),s={enqueueMarkupAt:function(e,t){this.domOperations=this.domOperations||[],this.domOperations.push({insertMarkup:e,finalIndex:t})},enqueueMove:function(e,t){this.domOperations=this.domOperations||[],this.domOperations.push({moveFrom:e,finalIndex:t})},enqueueUnmountChildByName:function(e,t){r.isValidComponent(t)&&(this.domOperations=this.domOperations||[],this.domOperations.push({removeAt:t._domIndex}),t.unmountComponent&&t.unmountComponent(),delete this._renderedChildren[e])},processChildDOMOperationsQueue:function(){this.domOperations&&(r.DOMIDOperations.manageChildrenByParentID(this._rootDomId,this.domOperations),this.domOperations=null)},unmountMultiChild:function(){var e=this._renderedChildren;for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var n=e[t];n.unmountComponent&&n.unmountComponent()}this._renderedChildren=null},mountMultiChild:function(e,t){var n="",r=0;for(var i in e){var s=e[i];e.hasOwnProperty(i)&&s&&(n+=s.mountComponent(this._rootDomId+"."+i,t),s._domIndex=r,r++)}return this._renderedChildren=e,this.domOperations=null,n},updateMultiChild:function(e,t){if(!e&&!this._renderedChildren)return;e&&!this._renderedChildren?this._renderedChildren={}:!e&&this._renderedChildren&&(e={});var n=this._rootDomId+".",r=null,s=0,o=0,u=0;for(var a in e){if(!e.hasOwnProperty(a))continue;var f=this._renderedChildren[a],l=e[a];if(i(f,l))r&&(this.enqueueMarkupAt(r,o-s),r=null),s=0,f._domIndex<u&&this.enqueueMove(f._domIndex,o),u=Math.max(f._domIndex,u),!l.props.isStatic&&f.receiveProps(l.props,t),f._domIndex=o;else{f&&(this.enqueueUnmountChildByName(a,f),u=Math.max(f._domIndex,u));if(l){this._renderedChildren[a]=l;var c=l.mountComponent(n+a,t);r=r?r+c:c,s++,l._domIndex=o}}o=l?o+1:o}r&&this.enqueueMarkupAt(r,o-s);for(var h in this._renderedChildren){if(!this._renderedChildren.hasOwnProperty(h))continue;var p=this._renderedChildren[h];p&&!e[h]&&this.enqueueUnmountChildByName(h,p)}this.processChildDOMOperationsQueue()}},o={Mixin:s};n.exports=o}),define("ReactPosition",["require","exports","module","dangerousStyleValue","keyOf"],function(e,t,n){var r=e("dangerousStyleValue"),i=e("keyOf"),s={},o=i({left:null}),u=i({right:null}),a=i({top:null}),f=i({bottom:null}),l=i({height:null}),c=i({width:null}),h={normalize:function(e){return h.inferStyleUpdates(e,null)},inferStyleUpdates:function(e,t){var n=e||s,i=t||s;if(!e&&!t)return;var h;return n.l!==i.l&&((h||(h={})).left=r(o,n.l)),n.t!==i.t&&((h||(h={})).top=r(a,n.t)),n.r!==i.r&&((h||(h={})).right=r(u,n.r)),n.b!==i.b&&((h||(h={})).bottom=r(f,n.b)),n.w!==i.w&&((h||(h={})).width=r(c,n.w)),n.h!==i.h&&((h||(h={})).height=r(l,n.h)),e&&!t&&((h||(h={})).position="absolute"),h}};n.exports=h}),define("ReactTextComponent",["require","exports","module","ReactComponent","escapeTextForBrowser","mixInto"],function(e,t,n){var r=e("ReactComponent"),i=e("escapeTextForBrowser"),s=e("mixInto"),o=function(e){this.props=e};s(o,r.Mixin),s(o,{mountComponent:function(e){return this._rootDomId=e,'<span id="'+e+'">'+i(this.props)+"</span>"},receiveProps:function(e,t){e!==this.props&&(this.props=e,r.DOMIDOperations.updateTextContentByID(this._rootDomId,e))},unmountComponent:function(){}}),n.exports=o}),define("flattenChildren",["require","exports","module","ReactTextComponent","throwIf"],function(e,t,n){function a(e){if(e===null||e===undefined)return e;var t={};return u(t,e,""),t}var r=e("ReactTextComponent"),i=e("throwIf"),s="INVALID_CHILD",o="0",u=function(e,t,n){if(Array.isArray(t))for(var a=0;a<t.length;a++)u(e,t[a],n+"["+a+"]");else{var f=typeof t,l=n==="",c=l?o:n;if(t===null||t===undefined||f==="boolean")e[c]=null;else if(t.mountInContainerNode)e[c]=t;else if(f==="object"){i(t&&t.nodeType===1,s);for(var h in t)t.hasOwnProperty(h)&&u(e,t[h],n+"{"+h+"}")}else f==="string"?e[c]=new r(t):f==="number"&&(e[c]=new r(""+t))}};n.exports=a}),define("ReactNativeComponent",["require","exports","module","CSSPropertyOperations","DOMPropertyOperations","ReactComponent","ReactEvent","ReactMultiChild","ReactPosition","dangerousStyleValue","escapeTextForBrowser","flattenChildren","invariant","keyOf","merge","mixInto"],function(e,t,n){function x(e){if(!e)return;var t=e.children!=null?1:0,n=e.content!=null?1:0,r=e.dangerouslySetInnerHTML!=null?1:0;h(t+n+r<=1,"Can only set one of `children`, `props.content`, or `props.dangerouslySetInnerHTML`."),h(e.style==null||typeof e.style=="object","The `style` prop expects a mapping from style properties to values, not a string.")}function T(e,t){this._tagOpen="<"+e+" ",this._tagClose=t?"":"</"+e+">",this.tagName=e.toUpperCase()}var r=e("CSSPropertyOperations"),i=e("DOMPropertyOperations"),s=e("ReactComponent"),o=e("ReactEvent"),u=e("ReactMultiChild"),a=e("ReactPosition"),f=e("dangerousStyleValue"),l=e("escapeTextForBrowser"),c=e("flattenChildren"),h=e("invariant"),p=e("keyOf"),d=e("merge"),v=e("mixInto"),m=o.putListener,g=o.registrationNames,y={string:!0,number:!0},b=p({content:null}),w=p({dangerouslySetInnerHTML:null}),E=p({posInfo:null}),S=p({style:null});T.Mixin={mountComponent:function(e,t){return s.Mixin.mountComponent.call(this,e,t),x(this.props),this._createOpenTagMarkup()+this._createContentMarkup(t)+this._tagClose},_createOpenTagMarkup:function(){var e=this.props,t=this._tagOpen,n;for(var s in e){if(!e.hasOwnProperty(s))continue;var o=e[s];if(o==null)continue;if(s===S||s===E){if(n)continue;E in e?n=S in e?d(a.normalize(e.posInfo),e.style):a.normalize(e.posInfo):n=e.style}else if(g[s])m(this._rootDomId,s,o);else{var u=i.createMarkupForProperty(s,o);u&&(t+=" "+u)}}return n&&(t+=' style="',t+=r.createMarkupForStyles(n),t+='"'),t+' id="'+this._rootDomId+'">'},_createContentMarkup:function(e){var t=this.props.dangerouslySetInnerHTML;if(t!=null){if(t.__html!=null)return t.__html}else{var n=this.props.content!=null?this.props.content:y[typeof this.props.children]?this.props.children:null,r=n!=null?null:this.props.children;if(n!=null)return l(n);if(r!=null)return this.mountMultiChild(c(r),e)}return""},receiveProps:function(e,t){h(this._rootDomId,"Trying to control a native dom element without a backing id"),x(e),s.Mixin.receiveProps.call(this,e,t),this._updateDOMProperties(e),this._updateDOMChildren(e,t),this.props=e},_updateDOMProperties:function(e){var t=this.props,n=null;for(var r in e){var i=e[r],o=t[r];if(!e.hasOwnProperty(r)||i===o)continue;if(r===S||r===E){if(n)continue;var u=t.style,l=e.style,c=a.inferStyleUpdates(e.posInfo,t.posInfo);for(var h in l){if(!l.hasOwnProperty(h))continue;if(u[h]!==l[h]){var p=f(h,l[h]);(c||(c={}))[h]=p}}c&&s.DOMIDOperations.updateStylesByID(this._rootDomId,c),n=!0}else if(r===w){var d=o&&o.__html,v=i&&i.__html;d!==v&&s.DOMIDOperations.updateInnerHTMLByID(this._rootDomId,i)}else r===b?s.DOMIDOperations.updateTextContentByID(this._rootDomId,""+i):g[r]?m(this._rootDomId,r,i):s.DOMIDOperations.updatePropertyByID(this._rootDomId,r,i)}},_updateDOMChildren:function(e,t){var n=typeof this.props.content,r=this.props.content==null||n==="boolean",i=typeof e.content,o=e.content==null||i==="boolean",u=r?y[typeof this.props.children]?this.props.children:null:this.props.content,a=o?y[typeof e.children]?e.children:null:e.content,f=u!=null?null:this.props.children,l=a!=null?null:e.children;if(a!=null){var h=f!=null&&l==null;h&&this.updateMultiChild(null,t),u!==a&&s.DOMIDOperations.updateTextContentByID(this._rootDomId,""+a)}else{var p=u!=null&&a==null;p&&s.DOMIDOperations.updateTextContentByID(this._rootDomId,""),this.updateMultiChild(c(e.children),t)}},unmountComponent:function(){s.Mixin.unmountComponent.call(this),this.unmountMultiChild(),o.deleteAllListeners(this._rootDomId)}},v(T,s.Mixin),v(T,T.Mixin),v(T,u.Mixin),n.exports=T}),define("objMapKeyVal",["require","exports","module"],function(e,t,n){var r=function(e,t,n){var r,i=0,s={};if(!e)return e;for(r in e){if(!e.hasOwnProperty(r))continue;s[r]=t.call(n,r,e[r],i++)}return s};n.exports=r}),define("ReactDOM",["require","exports","module","ReactNativeComponent","objMapKeyVal","throwIf"],function(e,t,n){function o(e,t){var n=function(e,t){this.construct(e,t)};return n.prototype=new r(e,t),n.prototype.constructor=n,function(e,t){return new n(e,t)}}var r=e("ReactNativeComponent"),i=e("objMapKeyVal"),s=e("throwIf"),u=i({a:!1,abbr:!1,address:!1,audio:!1,b:!1,body:!1,br:!0,button:!1,code:!1,col:!0,colgroup:!1,dd:!1,div:!1,section:!1,dl:!1,dt:!1,em:!1,embed:!0,fieldset:!1,footer:!1,form:!1,h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,header:!1,hr:!0,i:!1,iframe:!1,img:!0,input:!1,label:!1,legend:!1,li:!1,line:!1,nav:!1,object:!1,ol:!1,optgroup:!1,option:!1,p:!1,param:!0,pre:!1,select:!1,small:!1,span:!1,source:!1,sub:!1,sup:!1,strong:!1,table:!1,tbody:!1,td:!1,textarea:!1,tfoot:!1,th:!1,thead:!1,time:!1,title:!1,tr:!1,u:!1,ul:!1,video:!1,wbr:!1,circle:!1,g:!1,path:!1,polyline:!1,rect:!1,svg:!1,text:!1},o);n.exports=u}),define("ReactOwner",["require","exports","module"],function(e,t,n){var r={attachRef:function(e,t){var n=this.refs||(this.refs={});n[e]=t},detachRef:function(e){delete this.refs[e]}};n.exports=r}),define("ReactStateUpdatersMixin",["require","exports","module","keyOf"],function(e,t,n){var r=e("keyOf"),i={createStateSetter:function(e){var t=this;return function(n,r,i,s,o,u){var a=e.call(t,n,r,i,s,o,u);a&&t.setState(a)}},createStateKeySetter:function(e){var t=r(e),n=this;return function(e){var r={};r[t]=e,n.setState(r)}}};i.DeprecatedMixin={createStateUpdater:function(e){var t=this;return e?function(){t.setState(e)}:e},stateUpdater:function(e){return typeof e!="function"?this.createStateUpdater(e):i.createStateSetter.call(this,e)},stateKeyUpdater:function(e){var t={};return t[e]=!0,i.createStateKeySetter.call(this,t)}},n.exports=i}),define("joinClasses",["require","exports","module"],function(e,t,n){function r(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;r<n;r++)t=arguments[r],t&&(e+=" "+t);return e}n.exports=r}),define("ReactCompositeComponent",["require","exports","module","ReactComponent","ReactCurrentOwner","ReactErrors","ReactOwner","ReactStateUpdatersMixin","joinClasses","keyMirror","merge","mixInto","throwIf"],function(e,t,n){function N(e,t){var n=e.prototype;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],s=d[r];h(k.hasOwnProperty(r)&&s!==p.OVERRIDE_BASE,g),h(i&&i.__reactAutoBind&&s!=null,y),h(n.hasOwnProperty(r)&&s!==p.DEFINE_MANY,b),x.hasOwnProperty(r)?x[r](e,i):i&&i.__reactAutoBind?(n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=i.__reactAutoBind):n.hasOwnProperty(r)?n[r]=C(n[r],i):n[r]=i}}function C(e,t){return function(n,r,i,s,o,u){e.call(this,n,r,i,s,o),t.call(this,n,r,i,s,o)}}function L(e,t){var n=e.propDeclarations,r=e.displayName;for(var i in n){var s=n[i];t[i]=s(t,i,r)}}var r=e("ReactComponent"),i=e("ReactCurrentOwner"),s=e("ReactErrors"),o=e("ReactOwner"),u=e("ReactStateUpdatersMixin"),a=e("joinClasses"),f=e("keyMirror"),l=e("merge"),c=e("mixInto"),h=e("throwIf"),p=f({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null}),d={mixins:p.DEFINE_MANY,props:p.DEFINE_ONCE,getInitialState:p.DEFINE_ONCE,render:p.DEFINE_ONCE,componentWillMount:p.DEFINE_MANY,componentDidMount:p.DEFINE_MANY,componentWillReceiveProps:p.DEFINE_MANY,shouldComponentUpdate:p.DEFINE_ONCE,componentWillUpdate:p.DEFINE_MANY,componentDidUpdate:p.DEFINE_MANY,componentWillUnmount:p.DEFINE_MANY,updateComponent:p.OVERRIDE_BASE,handleUpdate:p.DEFINE_ONCE},v=r.LifeCycle,m=f({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null,RECEIVING_STATE:null}),g,y,b,w,E,S,x={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)N(e,t[n])},props:function(e,t){e.propDeclarations=t}},T={className:a,style:l},k={construct:function(e,t){r.Mixin.construct.call(this,e,t),this.state=null,this._pendingState=null,this._compositeLifeCycleState=null},transferPropsTo:function(e){var t={};for(var n in e.props)e.props.hasOwnProperty(n)&&(t[n]=e.props[n]);for(var r in this.props){if(!this.props.hasOwnProperty(r))continue;if(!t.hasOwnProperty(r))t[r]=this.props[r];else{var i=T[r];i&&(t[r]=i(t[r],this.props[r]))}}return e.props=t,e},receiveProps:function(e,t){this.constructor.propDeclarations&&L(this.constructor,e),r.Mixin.receiveProps.call(this,e,t),this._compositeLifeCycleState=m.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(e,t),this._compositeLifeCycleState=m.RECEIVING_STATE;if(this.handleUpdate)this.handleUpdate(e,t);else{var n=this.state;this._pendingState&&(n=this._pendingState,this._pendingState=null),this._receivePropsAndState(e,n,t)}this._compositeLifeCycleState=null},mountComponent:function(e,t){r.Mixin.mountComponent.call(this,e,t),this.constructor.propDeclarations&&L(this.constructor,this.props),this._compositeLifeCycleState=m.MOUNTING,this._lifeCycleState=v.UNMOUNTED,this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.state=this.getInitialState?this.getInitialState():null,this._pendingState=null;var n=this.componentWillMount||this.initialize;return n&&n.call(this),this._pendingState&&(this.state=this._pendingState,this._pendingState=null),this.componentDidMount&&t.getReactOnDOMReady().enqueue(this,this.componentDidMount),this._renderedComponent=this._renderValidatedComponent(),this._compositeLifeCycleState=null,this._lifeCycleState=v.MOUNTED,this._renderedComponent.mountComponent(e,t)},unmountComponent:function(){this._compositeLifeCycleState=m.UNMOUNTING;var e=this.componentWillUnmount||this.destructor;e&&e.call(this),this._compositeLifeCycleState=null,r.Mixin.unmountComponent.call(this),this._renderedComponent.unmountComponent(),this._renderedComponent=null,this.refs&&(this.refs=null)},setState:function(e){this.replaceState(l(this._pendingState||this.state,e))},replaceState:function(e){var t=this._compositeLifeCycleState;h(t===m.RECEIVING_STATE||t===m.UNMOUNTING,S),this._pendingState=e;if(this._lifeCycleState===v.MOUNTED&&t!==m.MOUNTING&&t!==m.RECEIVING_PROPS){this._compositeLifeCycleState=m.RECEIVING_STATE;var n=this._pendingState;this._pendingState=null;var i=r.ReactReconcileTransaction.getPooled();i.perform(this._receivePropsAndState,this,this.props,n,i),r.ReactReconcileTransaction.release(i),this._compositeLifeCycleState=null}},updateUI:function(e,t){e.state&&(this._pendingState=l(this._pendingState||this.state,e.state));var n=this.state;this._pendingState&&(n=this._pendingState,this._pendingState=null),t?this._receivePropsAndState(e.props,n,t):(t=r.ReactReconcileTransaction.getPooled(),t.perform(this._receivePropsAndState,this,e.props,n,t),r.ReactReconcileTransaction.release(t)),e.onComplete&&e.onComplete()},_receivePropsAndState:function(e,t,n){!this.shouldComponentUpdate||this.shouldComponentUpdate(e,t)?this._componentShouldUpdate(e,t,n):(this.props=e,this.state=t)},_componentShouldUpdate:function(e,t,n){var r=this.props,i=this.state;this.componentWillUpdate&&this.componentWillUpdate(e,t,n),this.props=e,this.state=t,this.updateComponent(n),this.componentDidUpdate&&n.getReactOnDOMReady().enqueue(this,this.componentDidUpdate.bind(this,r,i))},updateComponent:function(e){var t=this._renderedComponent,n=this._renderValidatedComponent();if(t.constructor===n.constructor)n.props.isStatic||t.receiveProps(n.props,e);else{var i=this._rootDomId,s=t._rootDomId;t.unmountComponent();var o=n.mountComponent(i,e);r.DOMIDOperations.dangerouslyReplaceNodeWithMarkupByID(s,o),this._renderedComponent=n}},forceUpdate:function(){var e=r.ReactReconcileTransaction.getPooled();e.perform(this._componentShouldUpdate,this,this.props,this.state,e),r.ReactReconcileTransaction.release(e)},_renderValidatedComponent:function(){i.current=this;var e=this.render();return i.current=null,r.assertValidComponent(e),e},_bindAutoBindMethods:function(){for(var e in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(e)){var t=this.__reactAutoBindMap[e];this[e]=this._bindAutoBindMethod(t)}},_bindAutoBindMethod:function(e){var t=this;return function(n,r,i,s,o,u){if(t._lifeCycleState===v.MOUNTED)return e.call(t,n,r,i,s,o)}}};k.updateState=k.setState,k.reconcile=k.forceUpdate;var A=function(){};c(A,r.Mixin),c(A,o),c(A,k),c(A,u.DeprecatedMixin);var O={LifeCycle:m,Base:A,createClass:function(e){var t=function(e,t){this.construct(e,t)};t.prototype=new A,t.prototype.constructor=t,N(t,e),h(!t.prototype.render,s.CLASS_SPEC);var n=function(e,n){return new t(e,n)};return n.componentConstructor=t,n.originalSpec=e,n},autoBind:function(e){var t=function(){h(!0,w)};return t.__reactAutoBind=e,t}};n.exports=O}),define("React",["require","exports","module","ReactCompositeComponent","ReactComponent","ReactMount"],function(e,t,n){var r=e("ReactCompositeComponent"),i=e("ReactComponent"),s=e("ReactMount"),o={initializeTouchEvents:function(e){s.useTouchEvents=e},autoBind:r.autoBind,createClass:r.createClass,createComponentRenderer:s.createComponentRenderer,constructAndRenderComponent:s.constructAndRenderComponent,constructAndRenderComponentByID:s.constructAndRenderComponentByID,renderComponent:s.renderComponent,renderOrUpdateComponent:s.renderOrUpdateComponent,unmountAndReleaseReactRootNode:s.unmountAndReleaseReactRootNode,isValidComponent:i.isValidComponent};n.exports=o}),define("cx",["require","exports","module"],function(e,t,n){function r(e){return typeof e=="object"?Object.keys(e).map(function(t){return e[t]?t:""}).join(" "):Array.prototype.join.call(arguments," ")}n.exports=r}),define("underscore",["require","exports","module"],function(e,t,n){(function(){var e=this,r=e._,i={},s=Array.prototype,o=Object.prototype,u=Function.prototype,a=s.push,f=s.slice,l=s.concat,c=s.unshift,h=o.toString,p=o.hasOwnProperty,d=s.forEach,v=s.map,m=s.reduce,g=s.reduceRight,y=s.filter,b=s.every,w=s.some,E=s.indexOf,S=s.lastIndexOf,x=Array.isArray,T=Object.keys,N=u.bind,C=function(e){if(e instanceof C)return e;if(!(this instanceof C))return new C(e);this._wrapped=e};typeof t!="undefined"?(typeof n!="undefined"&&n.exports&&(t=n.exports=C),t._=C):e._=C,C.VERSION="1.4.2";var k=C.each=C.forEach=function(e,t,n){if(e==null)return;if(d&&e.forEach===d)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,s=e.length;r<s;r++)if(t.call(n,e[r],r,e)===i)return}else for(var o in e)if(C.has(e,o)&&t.call(n,e[o],o,e)===i)return};C.map=C.collect=function(e,t,n){var r=[];return e==null?r:v&&e.map===v?e.map(t,n):(k(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)},C.reduce=C.foldl=C.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(m&&e.reduce===m)return r&&(t=C.bind(t,r)),i?e.reduce(t,n):e.reduce(t);k(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},C.reduceRight=C.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(g&&e.reduceRight===g)return r&&(t=C.bind(t,r)),arguments.length>2?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=C.keys(e);s=o.length}k(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},C.find=C.detect=function(e,t,n){var r;return L(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},C.filter=C.select=function(e,t,n){var r=[];return e==null?r:y&&e.filter===y?e.filter(t,n):(k(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},C.reject=function(e,t,n){var r=[];return e==null?r:(k(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},C.every=C.all=function(e,t,n){t||(t=C.identity);var r=!0;return e==null?r:b&&e.every===b?e.every(t,n):(k(e,function(e,s,o){if(!(r=r&&t.call(n,e,s,o)))return i}),!!r)};var L=C.some=C.any=function(e,t,n){t||(t=C.identity);var r=!1;return e==null?r:w&&e.some===w?e.some(t,n):(k(e,function(e,s,o){if(r||(r=t.call(n,e,s,o)))return i}),!!r)};C.contains=C.include=function(e,t){var n=!1;return e==null?n:E&&e.indexOf===E?e.indexOf(t)!=-1:(n=L(e,function(e){return e===t}),n)},C.invoke=function(e,t){var n=f.call(arguments,2);return C.map(e,function(e){return(C.isFunction(t)?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,function(e){return e[t]})},C.where=function(e,t){return C.isEmpty(t)?[]:C.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&C.isEmpty(e))return-Infinity;var r={computed:-Infinity};return k(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&C.isEmpty(e))return Infinity;var r={computed:Infinity};return k(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},C.shuffle=function(e){var t,n=0,r=[];return k(e,function(e){t=C.random(n++),r[n-1]=r[t],r[t]=e}),r};var A=function(e){return C.isFunction(e)?e:function(t){return t[e]}};C.sortBy=function(e,t,n){var r=A(t);return C.pluck(C.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var O=function(e,t,n,r){var i={},s=A(t);return k(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};C.groupBy=function(e,t,n){return O(e,t,n,function(e,t,n){(C.has(e,t)?e[t]:e[t]=[]).push(n)})},C.countBy=function(e,t,n){return O(e,t,n,function(e,t,n){C.has(e,t)||(e[t]=0),e[t]++})},C.sortedIndex=function(e,t,n,r){n=n==null?C.identity:A(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},C.toArray=function(e){return e?e.length===+e.length?f.call(e):C.values(e):[]},C.size=function(e){return e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return t!=null&&!n?f.call(e,0,t):e[0]},C.initial=function(e,t,n){return f.call(e,0,e.length-(t==null||n?1:t))},C.last=function(e,t,n){return t!=null&&!n?f.call(e,Math.max(e.length-t,0)):e[e.length-1]},C.rest=C.tail=C.drop=function(e,t,n){return f.call(e,t==null||n?1:t)},C.compact=function(e){return C.filter(e,function(e){return!!e})};var M=function(e,t,n){return k(e,function(e){C.isArray(e)?t?a.apply(n,e):M(e,t,n):n.push(e)}),n};C.flatten=function(e,t){return M(e,t,[])},C.without=function(e){return C.difference(e,f.call(arguments,1))},C.uniq=C.unique=function(e,t,n,r){var i=n?C.map(e,n,r):e,s=[],o=[];return k(i,function(n,r){if(t?!r||o[o.length-1]!==n:!C.contains(o,n))o.push(n),s.push(e[r])}),s},C.union=function(){return C.uniq(l.apply(s,arguments))},C.intersection=function(e){var t=f.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.indexOf(t,e)>=0})})},C.difference=function(e){var t=l.apply(s,f.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){var e=f.call(arguments),t=C.max(C.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=C.pluck(e,""+r);return n},C.object=function(e,t){var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},C.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=C.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(E&&e.indexOf===E)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},C.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(S&&e.lastIndexOf===S)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},C.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var _=function(){};C.bind=function(t,n){var r,i;if(t.bind===N&&N)return N.apply(t,f.call(arguments,1));if(!C.isFunction(t))throw new TypeError;return i=f.call(arguments,2),r=function(){if(this instanceof r){_.prototype=t.prototype;var e=new _,s=t.apply(e,i.concat(f.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(f.call(arguments)))}},C.bindAll=function(e){var t=f.call(arguments,1);return t.length==0&&(t=C.functions(e)),k(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var r=t.apply(this,arguments);return C.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},C.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(f.call(arguments,1)))},C.throttle=function(e,t){var n,r,i,s,o,u,a=C.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var f=function(){i=null,o&&(u=e.apply(n,r)),a()};return i||(i=setTimeout(f,t)),s?o=!0:(s=!0,u=e.apply(n,r)),a(),u}},C.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},C.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},C.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},C.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},C.keys=T||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)C.has(e,n)&&(t[t.length]=n);return t},C.values=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push(e[n]);return t},C.pairs=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push([n,e[n]]);return t},C.invert=function(e){var t={};for(var n in e)C.has(e,n)&&(t[e[n]]=n);return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return k(f.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=l.apply(s,f.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=l.apply(s,f.call(arguments,1));for(var r in e)C.contains(n,r)||(t[r]=e[r]);return t},C.defaults=function(e){return k(f.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var D=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var i=h.call(e);if(i!=h.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=D(e[o],t[o],n,r)))break}else{var a=e.constructor,f=t.constructor;if(a!==f&&!(C.isFunction(a)&&a instanceof a&&C.isFunction(f)&&f instanceof f))return!1;for(var l in e)if(C.has(e,l)){o++;if(!(u=C.has(t,l)&&D(e[l],t[l],n,r)))break}if(u){for(l in t)if(C.has(t,l)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};C.isEqual=function(e,t){return D(e,t,[],[])},C.isEmpty=function(e){if(e==null)return!0;if(C.isArray(e)||C.isString(e))return e.length===0;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!!e&&e.nodeType===1},C.isArray=x||function(e){return h.call(e)=="[object Array]"},C.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return h.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!!e&&!!C.has(e,"callee")}),typeof /./!="function"&&(C.isFunction=function(e){return typeof e=="function"}),C.isFinite=function(e){return C.isNumber(e)&&isFinite(e)},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||h.call(e)=="[object Boolean]"},C.isNull=function(e){return e===null},C.isUndefined=function(e){return e===void 0},C.has=function(e,t){return p.call(e,t)},C.noConflict=function(){return e._=r,this},C.identity=function(e){return e},C.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},C.random=function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=C.invert(P.escape);var H={escape:new RegExp("["+C.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(P.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return t==null?"":(""+t).replace(H[e],function(t){return P[e][t]})}}),C.result=function(e,t){if(e==null)return null;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){k(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),q.call(this,n.apply(C,e))}})};var B=0;C.uniqueId=function(e){var t=B++;return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){n=C.defaults({},n,C.templateSettings);var r=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){s+=e.slice(i,u).replace(I,function(e){return"\\"+F[e]}),s+=n?"'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":o?"';\n"+o+"\n__p+='":"",i=u+t.length}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,C);var a=function(e){return o.call(this,e,C)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},C.chain=function(e){return C(e).chain()};var q=function(e){return this._chain?C(e).chain():e};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],q.call(this,n)}}),k(["concat","join","slice"],function(e){var t=s[e];C.prototype[e]=function(){return q.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}),define("console",["require","exports","module","underscore"],function(e,t,n){function a(e){var n=t[e]=function(){var t=r.toArray(arguments);r.each(f,function(r){r(e,t,n)})}}function l(e){f.push(e)}function c(e){return typeof e=="string"&&(e=e.replace(/\033\[\d+m/g,"")),e}var r=e("underscore"),i=Function("return this")(),s;if("console"in i){var o=i.console;try{delete i.console}catch(u){}s=i.console||o,i.console=o}i.console=t,a("info"),a("log"),a("debug"),a("warn"),a("error"),a("dir"),a("dirxml"),a("trace"),a("assert"),a("count"),a("markTimeline"),a("profile"),a("profileEnd"),a("time"),a("timeEnd"),a("timeStamp"),a("group"),a("groupCollapsed"),a("groupEnd"),a("clear");var f=[];t.addListener=l,s&&l(function(e,t){var e=s[e];e&&e.apply(s,r.map(t,c))})}),define("util",["require","exports","module","underscore"],function(e,t,n){var r=e("underscore");t.inherit=function(e,t){r.extend(e,t);var n=Object.create(t.prototype);return n.constructor=e,e.prototype=n,n}}),define("assert",["require","exports","module","underscore","console","util"],function(e,t,n){function f(e,t,n){try{return t(),!e}catch(r){return e&&l(r,n)}}function l(e,t){return r.isRegExp(t)?t.test(e):e instanceof t?!0:t(actual)===!0?!0:!1}function c(e){var t,n;return n=function(){},n}function p(e){return r.has(h,e)?h[e]:h[e]=c(e)}function v(e){var t=this;r.extend(t,e);var n=e.stackStartFunction;n&&Error.captureStackTrace&&Error.captureStackTrace(t,n);var i=t.toString,s;t.toString=function(){return s||(s=i.call(t))}}function g(e){try{return JSON.stringify(e,y).slice(0,128)}catch(t){return e+""}}function y(e,t){if(r.isUndefined(t)||r.isNumber(t)&&(r.isNaN(t)||!r.isFinite(t))||r.isFunction(t)||r.isRegExp(t))t+="";return t}var r=e("underscore"),i=e("console"),s=Array.prototype.slice,o=function(e,t){return e==t},u={ok:function(e){return e},equal:o,notEqual:function(e,t){return e!=t},deepEqual:function(e,t){return r.isEqual(e,t)},notDeepEqual:function(e,t){return!r.isEqual(e,t)},strictEqual:function(e,t){return e===t},notStrictEqual:function(e,t){return e!==t},"throws":function(e,t){return f(!0,e,t)},doesNotThrow:function(e,t){return f(!1,e,t)},fail:function(){return!1},equals:o,notOk:function(e){return!e},greaterThan:function(e,t){return e>t},lessThan:function(e,t){return e<t},geq:function(e,t){return e>=t},leq:function(e,t){return e<=t},matches:function(e,t){return r.isRegExp(t)&&t.test(e)},and:function(e,t){return e&&t},or:function(e,t){return e||t},xor:function(e,t){return!e!=!t},has:function(e,t){return r.has(e,t)},isInstance:function(e,t){return r.isFunction(t)&&e instanceof t}},a=/^is([A-Z]\w+)/;r.each(r.keys(r),function(e){if(e==="isEqual")return;var t=r[e],n=a.exec(e);n&&!r.has(u,e)&&r.isFunction(t)&&(u[e]=t,u["isNot"+n[1]]=function(e){return!t(e)})});var h={},d=n.exports=p("ok");r.each(u,function(e,t){d[t]=p(t)}),e("util").inherit(v,Error),d.AssertionError=v;var m=v.prototype;m.name="AssertionError",m.toString=function(){return this.name+": assert."+this.method+"("+r.map(this.args,g).join(", ")+")"},m.raise=function(){var e=this;if(w.length>0){var t=w;w=[],r.each(t,function(t){t.canceled||t.listener.call(null,e)})}b.log&&i.error(e.toString());if(b.debug)debugger;if(b["throw"])throw e};var b={};d.setEnabled=function(e){var t=r.clone(b);return r.extend(b,e),t},d.silence=function(){var e=r.clone(b);return b={},e};var w=[];d.onNextFailure=function(e){function n(){t.canceled=!0}var t={listener:e};return w.push(t),n}}),define("sprintf-0.7",["require","exports","module"],function(e,t,n){var r=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var s=1,o=n.length,u="",a,f=[],l,c,h,p,d,v;for(l=0;l<o;l++){u=e(n[l]);if(u==="string")f.push(n[l]);else if(u==="array"){h=n[l];if(h[2]){a=i[s];for(c=0;c<h[2].length;c++){if(!a.hasOwnProperty(h[2][c]))throw r('[sprintf] property "%s" does not exist',h[2][c]);a=a[h[2][c]]}}else h[1]?a=i[h[1]]:a=i[s++];if(/[^s]/.test(h[8])&&e(a)!="number")throw r("[sprintf] expecting number but found %s",e(a));switch(h[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=h[7]?a.toExponential(h[7]):a.toExponential();break;case"f":a=h[7]?parseFloat(a).toFixed(h[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&h[7]?a.substring(0,h[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(h[8])&&h[3]&&a>=0?"+"+a:a,d=h[4]?h[4]=="0"?"0":h[4].charAt(1):" ",v=h[6]-String(a).length,p=h[6]?t(d,v):"",f.push(h[5]?a+p:p+a)}}return f.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),i=function(e,t){return t.unshift(e),r.apply(null,t)};t.sprintf=r,t.vsprintf=i}),define("infra/packager",["require","exports","module","ExecutionEnvironment","sprintf-0.7"],function(e,t,n){var r=e("ExecutionEnvironment"),i=e("sprintf-0.7").sprintf,s=r.canUseDOM?window.server?window.server.state:window:global.server.state;s._cssLoaded||(s._cssLoaded={}),t.injectCSS=function(e,t,n){if(s._cssLoaded[e])return;s._cssLoaded[e]=!0;if(r.canUseDOM){var o=document.createElement("style");o.setAttribute("data-filename",n),o.textContent=t,document.head.appendChild(o)}else global.server.head.push(i('<link rel="stylesheet" href="%s" type="text/css" />',global.server.config.STATIC_ROOT+"/cache/modules/"+e+".css"))}}),define("lib/ui/primitives/Button_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/primitives/Button",".ButtonSizeMicro {\n  font-size: 12px;\n  font-size: 1.2rem;\n  padding: 4px 7px 4px;\n  -webkit-border-radius: 2px;\n  border-radius: 2px; }\n\n.ButtonSizeMini {\n  font-size: 12px;\n  font-size: 1.2rem;\n  padding: 4px 7px 4px;\n  -webkit-border-radius: 2px;\n  border-radius: 2px; }\n\n.ButtonSizeSmall {\n  font-size: 12px;\n  font-size: 1.2rem;\n  padding: 7px 9px 6px; }\n\n.Button,\n.ButtonSizeMedium {\n  font-size: 14px;\n  font-size: 1.4rem;\n  padding: 7px 10px 8px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px; }\n\n.ButtonSizeLarge {\n  font-size: 16px;\n  font-size: 1.6rem;\n  padding: 9px 12px; }\n\n.ButtonSizeXL {\n  font-size: 23px;\n  font-size: 2.3rem;\n  padding: 10px 13px; }\n\n.ButtonColorBlue, .ButtonColorBlue:visited {\n  color: #fff; }\n.ButtonColorBlue:hover {\n  color: #fff; }\n.ButtonActive.ButtonColorBlue, .button-active.ButtonColorBlue, .active.ButtonColorBlue, .ButtonColorBlue:active, html.touch .pressed.ButtonColorBlue {\n  color: rgba(255, 255, 255, 0.8);\n  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3); }\n\n.Button {\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.2);\n  -webkit-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  -moz-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ; }\n  .ButtonActive.Button, .button-active.Button, .active.Button, .Button:active, html.touch .pressed.Button {\n    -webkit-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ;\n    -moz-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ;\n    box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ; }\n\n.ButtonColorBlue {\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.2);\n  -webkit-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.1),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  -moz-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.1),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  box-shadow:              0 1px 1px rgba(0, 0, 0, 0.1),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ; }\n  .ButtonActive.ButtonColorBlue, .button-active.ButtonColorBlue, .active.ButtonColorBlue, .ButtonColorBlue:active, html.touch .pressed.ButtonColorBlue {\n    -webkit-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.15),             inset 0 0 1px rgba(0, 0, 0, 0.15),             0 1px 0 rgba(255, 255, 255, 0.8)         ;\n    -moz-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.15),             inset 0 0 1px rgba(0, 0, 0, 0.15),             0 1px 0 rgba(255, 255, 255, 0.8)         ;\n    box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.15),             inset 0 0 1px rgba(0, 0, 0, 0.15),             0 1px 0 rgba(255, 255, 255, 0.8)         ; }\n\n.ButtonColorBlue {\n  background-color: #6f97b6;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#6f97b6), to(#3f729b));\n  background-image: -webkit-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: -moz-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: -o-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: -ms-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: linear-gradient(top, #6f97b6, #3f729b);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr='#6f97b6', EndColorStr='#3f729b');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #1c5380; }\n  .ButtonActive.ButtonColorBlue, .button-active.ButtonColorBlue, .active.ButtonColorBlue, .ButtonColorBlue:active, html.touch .pressed.ButtonColorBlue {\n    background: #3c6d94; }\n  .ButtonColorBlue {\n    border: 1px solid #1c5380; }\n  .ButtonActive.ButtonColorBlue, .button-active.ButtonColorBlue, .active.ButtonColorBlue, .ButtonColorBlue:active, html.touch .pressed.ButtonColorBlue {\n    border-color: #133856; }\n\n.Button {\n  position: relative;\n  cursor: pointer;\n  font-weight: bold;\n  line-height: 1em;\n  text-decoration: none !important;\n  color: #111;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n  white-space: nowrap;\n  background-color: #eeeeee;\n  -webkit-border-radius: 4px;\n  border-radius: 4px; }\n  .Button:hover {\n    background-color: #eeeeee; }\n  .Button.ButtonActive, .Button.button-active, .Button.active, .Button:active, html.touch .Button.pressed {\n    background-color: #dddddd; }\n  .Button {\n    border: 1px solid #bbbbbb; }\n  .Button.ButtonActive, .Button.button-active, .Button.active, .Button:active, html.touch .Button.pressed {\n    border-color: #a2a2a2; }\n\n.Button {\n  background-color: #f9fafb;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#f9fafb), to(#eef1f4));\n  background-image: -webkit-linear-gradient(top, #f9fafb, #eef1f4);\n  background-image: -moz-linear-gradient(top, #f9fafb, #eef1f4);\n  background-image: -o-linear-gradient(top, #f9fafb, #eef1f4);\n  background-image: -ms-linear-gradient(top, #f9fafb, #eef1f4);\n  background-image: linear-gradient(top, #f9fafb, #eef1f4);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr='#f9fafb', EndColorStr='#eef1f4');\n  background-position: 50% 50%; }\n  .Button.ButtonActive, .Button.button-active, .Button.active, .Button:active, html.touch .Button.pressed {\n    background: #e8ecf0; }\n  .Button {\n    border: 1px solid #c6daec; }\n  .Button.ButtonActive, .Button.button-active, .Button.active, .Button:active, html.touch .Button.pressed {\n    border-color: #b3cee6; }\n","")}),define("lib/ui/primitives/Button",["require","exports","module","ReactDOM","React","./Button_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React");e("./Button_css");var s=i.createClass({render:function(){return this.transferPropsTo(r.a({className:"Button",role:"button",href:"javascript:;","aria-label":this.props.label,children:this.props.children}))}});n.exports=s}),define("lib/ui/common/Spinner_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/common/Spinner","@-webkit-keyframes 'spin8' {\n  0% {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg); }\n\n  12.499% {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg); }\n\n  12.5% {\n    -webkit-transform: rotate(225deg);\n    -moz-transform: rotate(225deg);\n    -o-transform: rotate(225deg);\n    transform: rotate(225deg); }\n\n  24.999% {\n    -webkit-transform: rotate(225deg);\n    -moz-transform: rotate(225deg);\n    -o-transform: rotate(225deg);\n    transform: rotate(225deg); }\n\n  25% {\n    -webkit-transform: rotate(270deg);\n    -moz-transform: rotate(270deg);\n    -o-transform: rotate(270deg);\n    transform: rotate(270deg); }\n\n  37.499% {\n    -webkit-transform: rotate(270deg);\n    -moz-transform: rotate(270deg);\n    -o-transform: rotate(270deg);\n    transform: rotate(270deg); }\n\n  37.5% {\n    -webkit-transform: rotate(315deg);\n    -moz-transform: rotate(315deg);\n    -o-transform: rotate(315deg);\n    transform: rotate(315deg); }\n\n  49.999% {\n    -webkit-transform: rotate(315deg);\n    -moz-transform: rotate(315deg);\n    -o-transform: rotate(315deg);\n    transform: rotate(315deg); }\n\n  50% {\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); }\n\n  62.499% {\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); }\n\n  62.5% {\n    -webkit-transform: rotate(405deg);\n    -moz-transform: rotate(405deg);\n    -o-transform: rotate(405deg);\n    transform: rotate(405deg); }\n\n  74.999% {\n    -webkit-transform: rotate(405deg);\n    -moz-transform: rotate(405deg);\n    -o-transform: rotate(405deg);\n    transform: rotate(405deg); }\n\n  75% {\n    -webkit-transform: rotate(450deg);\n    -moz-transform: rotate(450deg);\n    -o-transform: rotate(450deg);\n    transform: rotate(450deg); }\n\n  87.499% {\n    -webkit-transform: rotate(450deg);\n    -moz-transform: rotate(450deg);\n    -o-transform: rotate(450deg);\n    transform: rotate(450deg); }\n\n  87.5% {\n    -webkit-transform: rotate(495deg);\n    -moz-transform: rotate(495deg);\n    -o-transform: rotate(495deg);\n    transform: rotate(495deg); }\n\n  99.999% {\n    -webkit-transform: rotate(495deg);\n    -moz-transform: rotate(495deg);\n    -o-transform: rotate(495deg);\n    transform: rotate(495deg); }\n\n  100% {\n    -webkit-transform: rotate(100deg);\n    -moz-transform: rotate(100deg);\n    -o-transform: rotate(100deg);\n    transform: rotate(100deg); } }\n\n@-moz-keyframes spin8 {\n  0% {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg); }\n\n  12.499% {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg); }\n\n  12.5% {\n    -webkit-transform: rotate(225deg);\n    -moz-transform: rotate(225deg);\n    -o-transform: rotate(225deg);\n    transform: rotate(225deg); }\n\n  24.999% {\n    -webkit-transform: rotate(225deg);\n    -moz-transform: rotate(225deg);\n    -o-transform: rotate(225deg);\n    transform: rotate(225deg); }\n\n  25% {\n    -webkit-transform: rotate(270deg);\n    -moz-transform: rotate(270deg);\n    -o-transform: rotate(270deg);\n    transform: rotate(270deg); }\n\n  37.499% {\n    -webkit-transform: rotate(270deg);\n    -moz-transform: rotate(270deg);\n    -o-transform: rotate(270deg);\n    transform: rotate(270deg); }\n\n  37.5% {\n    -webkit-transform: rotate(315deg);\n    -moz-transform: rotate(315deg);\n    -o-transform: rotate(315deg);\n    transform: rotate(315deg); }\n\n  49.999% {\n    -webkit-transform: rotate(315deg);\n    -moz-transform: rotate(315deg);\n    -o-transform: rotate(315deg);\n    transform: rotate(315deg); }\n\n  50% {\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); }\n\n  62.499% {\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); }\n\n  62.5% {\n    -webkit-transform: rotate(405deg);\n    -moz-transform: rotate(405deg);\n    -o-transform: rotate(405deg);\n    transform: rotate(405deg); }\n\n  74.999% {\n    -webkit-transform: rotate(405deg);\n    -moz-transform: rotate(405deg);\n    -o-transform: rotate(405deg);\n    transform: rotate(405deg); }\n\n  75% {\n    -webkit-transform: rotate(450deg);\n    -moz-transform: rotate(450deg);\n    -o-transform: rotate(450deg);\n    transform: rotate(450deg); }\n\n  87.499% {\n    -webkit-transform: rotate(450deg);\n    -moz-transform: rotate(450deg);\n    -o-transform: rotate(450deg);\n    transform: rotate(450deg); }\n\n  87.5% {\n    -webkit-transform: rotate(495deg);\n    -moz-transform: rotate(495deg);\n    -o-transform: rotate(495deg);\n    transform: rotate(495deg); }\n\n  99.999% {\n    -webkit-transform: rotate(495deg);\n    -moz-transform: rotate(495deg);\n    -o-transform: rotate(495deg);\n    transform: rotate(495deg); }\n\n  100% {\n    -webkit-transform: rotate(100deg);\n    -moz-transform: rotate(100deg);\n    -o-transform: rotate(100deg);\n    transform: rotate(100deg); } }\n\n@-ms-keyframes spin8 {\n  0% {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg); }\n\n  12.499% {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg); }\n\n  12.5% {\n    -webkit-transform: rotate(225deg);\n    -moz-transform: rotate(225deg);\n    -o-transform: rotate(225deg);\n    transform: rotate(225deg); }\n\n  24.999% {\n    -webkit-transform: rotate(225deg);\n    -moz-transform: rotate(225deg);\n    -o-transform: rotate(225deg);\n    transform: rotate(225deg); }\n\n  25% {\n    -webkit-transform: rotate(270deg);\n    -moz-transform: rotate(270deg);\n    -o-transform: rotate(270deg);\n    transform: rotate(270deg); }\n\n  37.499% {\n    -webkit-transform: rotate(270deg);\n    -moz-transform: rotate(270deg);\n    -o-transform: rotate(270deg);\n    transform: rotate(270deg); }\n\n  37.5% {\n    -webkit-transform: rotate(315deg);\n    -moz-transform: rotate(315deg);\n    -o-transform: rotate(315deg);\n    transform: rotate(315deg); }\n\n  49.999% {\n    -webkit-transform: rotate(315deg);\n    -moz-transform: rotate(315deg);\n    -o-transform: rotate(315deg);\n    transform: rotate(315deg); }\n\n  50% {\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); }\n\n  62.499% {\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); }\n\n  62.5% {\n    -webkit-transform: rotate(405deg);\n    -moz-transform: rotate(405deg);\n    -o-transform: rotate(405deg);\n    transform: rotate(405deg); }\n\n  74.999% {\n    -webkit-transform: rotate(405deg);\n    -moz-transform: rotate(405deg);\n    -o-transform: rotate(405deg);\n    transform: rotate(405deg); }\n\n  75% {\n    -webkit-transform: rotate(450deg);\n    -moz-transform: rotate(450deg);\n    -o-transform: rotate(450deg);\n    transform: rotate(450deg); }\n\n  87.499% {\n    -webkit-transform: rotate(450deg);\n    -moz-transform: rotate(450deg);\n    -o-transform: rotate(450deg);\n    transform: rotate(450deg); }\n\n  87.5% {\n    -webkit-transform: rotate(495deg);\n    -moz-transform: rotate(495deg);\n    -o-transform: rotate(495deg);\n    transform: rotate(495deg); }\n\n  99.999% {\n    -webkit-transform: rotate(495deg);\n    -moz-transform: rotate(495deg);\n    -o-transform: rotate(495deg);\n    transform: rotate(495deg); }\n\n  100% {\n    -webkit-transform: rotate(100deg);\n    -moz-transform: rotate(100deg);\n    -o-transform: rotate(100deg);\n    transform: rotate(100deg); } }\n\n@-o-keyframes spin8 {\n  0% {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg); }\n\n  12.499% {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg); }\n\n  12.5% {\n    -webkit-transform: rotate(225deg);\n    -moz-transform: rotate(225deg);\n    -o-transform: rotate(225deg);\n    transform: rotate(225deg); }\n\n  24.999% {\n    -webkit-transform: rotate(225deg);\n    -moz-transform: rotate(225deg);\n    -o-transform: rotate(225deg);\n    transform: rotate(225deg); }\n\n  25% {\n    -webkit-transform: rotate(270deg);\n    -moz-transform: rotate(270deg);\n    -o-transform: rotate(270deg);\n    transform: rotate(270deg); }\n\n  37.499% {\n    -webkit-transform: rotate(270deg);\n    -moz-transform: rotate(270deg);\n    -o-transform: rotate(270deg);\n    transform: rotate(270deg); }\n\n  37.5% {\n    -webkit-transform: rotate(315deg);\n    -moz-transform: rotate(315deg);\n    -o-transform: rotate(315deg);\n    transform: rotate(315deg); }\n\n  49.999% {\n    -webkit-transform: rotate(315deg);\n    -moz-transform: rotate(315deg);\n    -o-transform: rotate(315deg);\n    transform: rotate(315deg); }\n\n  50% {\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); }\n\n  62.499% {\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); }\n\n  62.5% {\n    -webkit-transform: rotate(405deg);\n    -moz-transform: rotate(405deg);\n    -o-transform: rotate(405deg);\n    transform: rotate(405deg); }\n\n  74.999% {\n    -webkit-transform: rotate(405deg);\n    -moz-transform: rotate(405deg);\n    -o-transform: rotate(405deg);\n    transform: rotate(405deg); }\n\n  75% {\n    -webkit-transform: rotate(450deg);\n    -moz-transform: rotate(450deg);\n    -o-transform: rotate(450deg);\n    transform: rotate(450deg); }\n\n  87.499% {\n    -webkit-transform: rotate(450deg);\n    -moz-transform: rotate(450deg);\n    -o-transform: rotate(450deg);\n    transform: rotate(450deg); }\n\n  87.5% {\n    -webkit-transform: rotate(495deg);\n    -moz-transform: rotate(495deg);\n    -o-transform: rotate(495deg);\n    transform: rotate(495deg); }\n\n  99.999% {\n    -webkit-transform: rotate(495deg);\n    -moz-transform: rotate(495deg);\n    -o-transform: rotate(495deg);\n    transform: rotate(495deg); }\n\n  100% {\n    -webkit-transform: rotate(100deg);\n    -moz-transform: rotate(100deg);\n    -o-transform: rotate(100deg);\n    transform: rotate(100deg); } }\n\n@keyframes 'spin8' {\n  0% {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg); }\n\n  12.499% {\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg); }\n\n  12.5% {\n    -webkit-transform: rotate(225deg);\n    -moz-transform: rotate(225deg);\n    -o-transform: rotate(225deg);\n    transform: rotate(225deg); }\n\n  24.999% {\n    -webkit-transform: rotate(225deg);\n    -moz-transform: rotate(225deg);\n    -o-transform: rotate(225deg);\n    transform: rotate(225deg); }\n\n  25% {\n    -webkit-transform: rotate(270deg);\n    -moz-transform: rotate(270deg);\n    -o-transform: rotate(270deg);\n    transform: rotate(270deg); }\n\n  37.499% {\n    -webkit-transform: rotate(270deg);\n    -moz-transform: rotate(270deg);\n    -o-transform: rotate(270deg);\n    transform: rotate(270deg); }\n\n  37.5% {\n    -webkit-transform: rotate(315deg);\n    -moz-transform: rotate(315deg);\n    -o-transform: rotate(315deg);\n    transform: rotate(315deg); }\n\n  49.999% {\n    -webkit-transform: rotate(315deg);\n    -moz-transform: rotate(315deg);\n    -o-transform: rotate(315deg);\n    transform: rotate(315deg); }\n\n  50% {\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); }\n\n  62.499% {\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n    transform: rotate(360deg); }\n\n  62.5% {\n    -webkit-transform: rotate(405deg);\n    -moz-transform: rotate(405deg);\n    -o-transform: rotate(405deg);\n    transform: rotate(405deg); }\n\n  74.999% {\n    -webkit-transform: rotate(405deg);\n    -moz-transform: rotate(405deg);\n    -o-transform: rotate(405deg);\n    transform: rotate(405deg); }\n\n  75% {\n    -webkit-transform: rotate(450deg);\n    -moz-transform: rotate(450deg);\n    -o-transform: rotate(450deg);\n    transform: rotate(450deg); }\n\n  87.499% {\n    -webkit-transform: rotate(450deg);\n    -moz-transform: rotate(450deg);\n    -o-transform: rotate(450deg);\n    transform: rotate(450deg); }\n\n  87.5% {\n    -webkit-transform: rotate(495deg);\n    -moz-transform: rotate(495deg);\n    -o-transform: rotate(495deg);\n    transform: rotate(495deg); }\n\n  99.999% {\n    -webkit-transform: rotate(495deg);\n    -moz-transform: rotate(495deg);\n    -o-transform: rotate(495deg);\n    transform: rotate(495deg); }\n\n  100% {\n    -webkit-transform: rotate(100deg);\n    -moz-transform: rotate(100deg);\n    -o-transform: rotate(100deg);\n    transform: rotate(100deg); } }\n\n.Spinner {\n  height: 18px;\n  left: 50%;\n  margin-left: -9px;\n  margin-top: -9px;\n  position: absolute;\n  top: 50%;\n  width: 18px;\n  background-image: url(\"//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/spinner.png\");\n  background-size: 100%;\n  -webkit-animation: spin8 0.8s linear infinite;\n  -moz-animation: spin8 0.8s linear infinite;\n  -o-animation: spin8 0.8s linear infinite;\n  animation: spin8 0.8s linear infinite; }\n","")}),define("lib/ui/common/Spinner",["require","exports","module","ReactDOM","React","./Spinner_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React");e("./Spinner_css");var s=i.createClass({render:function(){return r.div({className:"Spinner"})}});n.exports=s}),define("lib/TimeoutComponentMixin",["require","exports","module","throwIf"],function(e,t,n){var r=e("throwIf"),i={_init:function(){if(this._ready!==undefined)return;this._ready=!0,this._timeouts={},this._intervals={}},componentWillUnmount:function(){if(this._ready===undefined)return;this._ready=!1,Object.keys(this._timeouts).map(clearTimeout),Object.keys(this._intervals).map(clearInterval)},_wrapCallback:function(e){var t=this;return function(){return r(!t._ready,"Callback called while component was not ready"),e.apply(this,arguments)}},setTimeout:function(e,t){this._init(),r(!this._ready,"setTimeout() called while component was not ready"),this._timeouts[setTimeout(this._wrapCallback(e),t)]=!0},setInterval:function(e,t){this._init(),r(!this._ready,"setInterval() called while component was not ready"),this._intervals[setInterval(this._wrapCallback(e),t)]=!0}};n.exports=i}),define("lib/ui/primitives/Image_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/primitives/Image",".iLoading {\n  opacity: 0; }\n\n.iLoaded {\n  opacity: 1; }\n\n.iLoaded.iWithTransition {\n  -webkit-transition: opacity 2s;\n  -moz-transition: opacity 2s;\n  -o-transition: opacity 2s;\n  transition: opacity 2s; }\n\n.Image {\n  background-size: 100% 100%;\n  position: relative; }\n","")}),define("lib/ui/primitives/Image",["require","exports","module","ReactDOM","React","lib/ui/common/Spinner","cx","ExecutionEnvironment","lib/TimeoutComponentMixin","./Image_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("lib/ui/common/Spinner"),o=e("cx"),u=e("ExecutionEnvironment"),a=e("lib/TimeoutComponentMixin"),f=1e3,l=500;e("./Image_css");var c=i.createClass({mixins:[a],getInitialState:function(){return!u.canUseDOM||!this.props.rich?{loaded:!0,loadingIndicator:!1,useTransition:!1}:{loaded:!1,loadingIndicator:!1,useTransition:!1}},componentWillMount:function(){if(!this.props.rich)return;this.image=new window.Image,this.image.src=this.props.src,this.image.onload=function(){this.updateState({loaded:!0})}.bind(this),this.setTimeout(function(){this.updateState({loadingIndicator:!0})}.bind(this),f),this.setTimeout(function(){this.updateState({useTransition:!0})}.bind(this),l)},renderLoaded:function(){return this.transferPropsTo(r.div({className:o({Image:!0,iLoaded:!0,iWithTransition:this.state.useTransition}),style:{backgroundImage:"url("+this.props.src+")"}}))},renderLoading:function(){return this.transferPropsTo(r.div({style:{},className:o({Image:!0,iLoading:!0,iWithTransition:this.state.useTransition}),children:s({})}))},renderEmpty:function(){return this.transferPropsTo(r.div({style:{},className:o({Image:!0,iLoading:!0,iWithTransition:this.state.useTransition})}))},render:function(){return this.state.loaded?this.renderLoaded():this.state.loadingIndicator?this.renderLoading():this.renderEmpty()}});n.exports=c}),define("framework/config",["require","exports","module","copyProperties"],function(e,t,n){var r=e("copyProperties"),i={};t.init=function(e){r(i,e)},t.getConfig=function(){return i}}),define("thirdparty/videojs/video",["require","exports","module"],function(require,exports,module){(function(){function m(){return function(){}}function p(e){return function(){return this[e]}}function r(e){return function(){return e}}function u(e,t,n){if("string"==typeof e){0===e.indexOf("#")&&(e=e.slice(1));if(u.Na[e])return u.Na[e];e=u.s(e)}if(!e||!e.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return e.player||new u.ga(e,t,n)}function A(e,t,n,r){return n!==b?(e.b.style[t]=-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?n:"auto"===n?"":n+"px",r||e.k("resize"),e):e.b?(n=e.b.style[t],r=n.indexOf("px"),-1!==r?parseInt(n.slice(0,r),10):parseInt(e.b["offset"+u.Y(t)],10)):0}function B(e,t){var n,r,i,s;return n=e.b,r=u.Oc(n),s=i=n.offsetWidth,n=e.handle,e.f.md?(s=r.top,r=t.changedTouches?t.changedTouches[0].pageY:t.pageY,n&&(n=n.s().offsetHeight,s+=n/2,i-=n),Math.max(0,Math.min(1,(s-r+i)/i))):(i=r.left,r=t.changedTouches?t.changedTouches[0].pageX:t.pageX,n&&(n=n.s().offsetWidth,i+=n/2,s-=n),Math.max(0,Math.min(1,(r-i)/s)))}function ca(e,t){e.X(t),t.d("click",u.bind(e,function(){this.Ua()}))}function D(e){e.oa=f,e.ua.oc(),e.b.setAttribute("aria-pressed",f),e.G&&0<e.G.length&&e.G[0].s().focus()}function C(e){e.oa=l,e.ua.Ua(),e.b.setAttribute("aria-pressed",l)}function da(e){var t={sources:[],tracks:[]};u.i.B(t,u.wb(e));if(e.hasChildNodes())for(var n,r=e.childNodes,i=0,s=r.length;i<s;i++)e=r[i],n=e.nodeName.toLowerCase(),"source"===n?t.sources.push(u.wb(e)):"track"===n&&t.tracks.push(u.wb(e));return t}function E(e,t,n){e.h?F(e):"Html5"!==t&&e.N&&(e.b.removeChild(e.N),e.N.pc=h,e.N=h),e.ba=t,e.$=l;var r=u.i.B({source:n,parentEl:e.b},e.f[t.toLowerCase()]);n&&(n.src==e.r.src&&0<e.r.currentTime&&(r.startTime=e.r.currentTime),e.r.src=n.src),e.h=new window.videojs[t](e,r),e.h.M(function(){this.a.Ta();if(!this.j.Lb){var e=this.a;e.Db=f,e.Pa=setInterval(u.bind(e,function(){this.r.nb<this.buffered().end(0)?this.k("progress"):1==G(this)&&(clearInterval(this.Pa),this.k("progress"))}),500),e.h.Q("progress",function(){this.j.Lb=f;var e=this.a;e.Db=l,clearInterval(e.Pa)})}this.j.Ob||(e=this.a,e.Eb=f,e.d("play",e.xc),e.d("pause",e.va),e.h.Q("timeupdate",function(){this.j.Ob=f,H(this.a)}))})}function F(e){e.$=l,e.h.C(),e.Db&&(e.Db=l,clearInterval(e.Pa)),e.Eb&&H(e),e.h=l}function H(e){e.Eb=l,e.va(),e.t("play",e.xc),e.t("pause",e.va)}function J(e,t,n){if(e.h&&e.h.$)e.h.M(function(){this[t](n)});else try{e.h[t](n)}catch(r){throw u.log(r),r}}function I(e,t){if(e.h.$)try{return e.h[t]()}catch(n){throw e.h[t]===b?u.log("Video.js: "+t+" method not defined for "+e.ba+" playback technology.",n):"TypeError"==n.name?(u.log("Video.js: "+t+" unavailable on "+e.ba+" playback technology element.",n),e.h.$=l):u.log(n),n}}function G(e){return e.duration()?e.buffered().end(0)/e.duration():0}function K(e){var t=u.Nb.Ra;e.F=l,t?(e.h.j.Ia===l&&e.f.flash.iFrameMode!==f&&(e.pause(),F(e),u.d(document,t.Z,u.bind(e,function(){u.t(document,t.Z,arguments.callee),E(this,this.ba,{src:this.r.src})}))),document[t.pb](),e.k("fullscreenchange")):e.h.Sa()?J(e,"exitFullScreen"):(L(e),e.k("fullscreenchange"))}function L(e){e.Qc=l,u.t(document,"keydown",e.ic),document.documentElement.style.overflow=e.Lc,u.w(document.body,"vjs-full-window"),e.k("exitFullWindow")}function ea(){var e=u.media.Va[i];return function(){throw Error('The "'+e+"\" method is not available on the playback technology's API")}}function fa(){var e=Q[S],t=e.charAt(0).toUpperCase()+e.slice(1);P["set"+t]=function(t){return this.b.vjs_setProperty(e,t)}}function T(e){P[e]=function(){return this.b.vjs_getProperty(e)}}function U(e){return e.wa=e.wa||[],e.wa}function V(e,t,n){for(var r=e.wa,i=0,s=r.length,o,u;i<s;i++)o=r[i],o.id()===t?(o.show(),u=o):n&&o.H()==n&&0<o.mode()&&o.disable();(t=u?u.H():n?n:l)&&e.k(t+"trackchange")}function W(e){0===e.la&&e.load(),0===e.ka&&(e.a.d("timeupdate",u.bind(e,e.update,e.L)),e.a.d("ended",u.bind(e,e.reset,e.L)),("captions"===e.A||"subtitles"===e.A)&&e.a.R.textTrackDisplay.X(e))}function X(e){var t=e.split(":");e=0;var n,r,i;return 3==t.length?(n=t[0],r=t[1],t=t[2]):(n=0,r=t[0],t=t[1]),t=t.split(/\s+/),t=t.splice(0,1)[0],t=t.split(/\.|,/),i=parseFloat(t[1]),t=t[0],e+=3600*parseFloat(n),e+=60*parseFloat(r),e+=parseFloat(t),i&&(e+=i/1e3),e}function $(e,t){var n=e.split("."),r=Z;!(n[0]in r)&&r.execScript&&r.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)!n.length&&t!==b?r[i]=t:r=r[i]?r[i]:r[i]={}}var b=void 0,f=!0,h=null,l=!1,t;document.createElement("video"),document.createElement("audio");var v=u;window.xd=window.yd=u,u.Qb="GENERATED_CDN_VSN",u.Pb="https:"==document.location.protocol?"https://":"http://",u.options={techOrder:["html5","flash"],html5:{},flash:{swf:u.Pb+"vjs.zencdn.net/c/video-js.swf"},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}},u.Na={},"GENERATED_CDN_VSN"!=u.Qb&&(v.options.flash.swf=u.Pb+"vjs.zencdn.net/"+u.Qb+"/video-js.swf"),u.ma=u.CoreObject=m(),u.ma.extend=function(e){var t,n;e=e||{},t=e.init||e.g||this.prototype.init||this.prototype.g||m(),n=function(){t.apply(this,arguments)},n.prototype=u.i.create(this.prototype),n.prototype.constructor=n,n.extend=u.ma.extend,n.create=u.ma.create;for(var r in e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);return n},u.ma.create=function(){var e=u.i.create(this.prototype);return this.apply(e,arguments),e},u.d=function(e,t,n){var r=u.getData(e);r.z||(r.z={}),r.z[t]||(r.z[t]=[]),n.u||(n.u=u.u++),r.z[t].push(n),r.S||(r.disabled=l,r.S=function(t){if(!r.disabled){t=u.hc(t);var n=r.z[t.type];if(n)for(var n=n.slice(0),i=0,s=n.length;i<s&&!t.mc();i++)n[i].call(e,t)}}),1==r.z[t].length&&(document.addEventListener?e.addEventListener(t,r.S,l):document.attachEvent&&e.attachEvent("on"+t,r.S))},u.t=function(e,t,n){if(u.lc(e)){var r=u.getData(e);if(r.z)if(t){var i=r.z[t];if(i){if(n){if(n.u)for(r=0;r<i.length;r++)i[r].u===n.u&&i.splice(r--,1)}else r.z[t]=[];u.ec(e,t)}}else for(i in r.z)t=i,r.z[t]=[],u.ec(e,t)}},u.ec=function(e,t){var n=u.getData(e);0===n.z[t].length&&(delete n.z[t],document.removeEventListener?e.removeEventListener(t,n.S,l):document.detachEvent&&e.detachEvent("on"+t,n.S)),u.Ab(n.z)&&(delete n.z,delete n.S,delete n.disabled),u.Ab(n)&&u.sc(e)},u.hc=function(e){function t(){return f}function n(){return l}if(!e||!e.Bb){var r=e||window.event;e={};for(var i in r)e[i]=r[i];e.target||(e.target=e.srcElement||document),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=l,e.zb=t},e.zb=n,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=f,e.Bb=t},e.Bb=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.mc=t,e.stopPropagation()},e.mc=n;if(e.clientX!=h){i=document.documentElement;var s=document.body;e.pageX=e.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,e.button!=h&&(e.button=e.button&1?0:e.button&4?1:e.button&2?2:0)}return e},u.k=function(e,t){var n=u.lc(e)?u.getData(e):{},r=e.parentNode||e.ownerDocument;return"string"==typeof t&&(t={type:t,target:e}),t=u.hc(t),n.S&&n.S.call(e,t),r&&!t.Bb()?u.k(r,t):!r&&!t.zb()&&(n=u.getData(t.target),t.target[t.type])&&(n.disabled=f,"function"==typeof t.target[t.type]&&t.target[t.type](),n.disabled=l),!t.zb()},u.Q=function(e,t,n){u.d(e,t,function(){u.t(e,t,arguments.callee),n.apply(this,arguments)})};var w=Object.prototype.hasOwnProperty;u.e=function(e,t){var n=document.createElement(e||"div"),r;for(r in t)w.call(t,r)&&(-1!==r.indexOf("aria-")||"role"==r?n.setAttribute(r,t[r]):n[r]=t[r]);return n},u.Y=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},u.i={},u.i.create=Object.create||function(e){function t(){}return t.prototype=e,new t},u.i.sa=function(e,t,n){for(var r in e)w.call(e,r)&&t.call(n||this,r,e[r])},u.i.B=function(e,t){if(!t)return e;for(var n in t)w.call(t,n)&&(e[n]=t[n]);return e},u.i.gc=function(e,t){var n,r,i;e=u.i.copy(e);for(n in t)w.call(t,n)&&(r=e[n],i=t[n],e[n]=u.i.nc(r)&&u.i.nc(i)?u.i.gc(r,i):t[n]);return e},u.i.copy=function(e){return u.i.B({},e)},u.i.nc=function(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object},u.bind=function(e,t,n){function r(){return t.apply(e,arguments)}return t.u||(t.u=u.u++),r.u=n?n+"_"+t.u:t.u,r},u.qa={},u.u=1,u.expando="vdata"+(new Date).getTime(),u.getData=function(e){var t=e[u.expando];return t||(t=e[u.expando]=u.u++,u.qa[t]={}),u.qa[t]},u.lc=function(e){return e=e[u.expando],!!e&&!u.Ab(u.qa[e])},u.sc=function(e){var t=e[u.expando];if(t){delete u.qa[t];try{delete e[u.expando]}catch(n){e.removeAttribute?e.removeAttribute(u.expando):e[u.expando]=h}}},u.Ab=function(e){for(var t in e)if(e[t]!==h)return l;return f},u.p=function(e,t){-1==(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)},u.w=function(e,t){if(-1!=e.className.indexOf(t)){for(var n=e.className.split(" "),r=n.length-1;0<=r;r--)n[r]===t&&n.splice(r,1);e.className=n.join(" ")}},u.ib=u.e("video"),u.O=navigator.userAgent,u.Bc=!!u.O.match(/iPhone/i),u.Ac=!!u.O.match(/iPad/i),u.Cc=!!u.O.match(/iPod/i),u.Ub=u.Bc||u.Ac||u.Cc;var aa=u,x,y=u.O.match(/OS (\d+)_/i);x=y&&y[1]?y[1]:b,aa.qd=x,u.ab=!!u.O.match(/Android.*AppleWebKit/i);var ba=u,z=u.O.match(/Android (\d+)\./i);ba.yc=z&&z[1]?z[1]:h,u.zc=function(){return!!u.O.match("Firefox")},u.wb=function(e){var t={};if(e&&e.attributes&&0<e.attributes.length)for(var n=e.attributes,r,i,s=n.length-1;0<=s;s--){r=n[s].name,i=n[s].value;if("boolean"==typeof e[r]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+r+","))i=i!==h?f:l;t[r]=i}return t},u.td=function(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(n=e["client"+t.substr(0,1).toUpperCase()+t.substr(1)]+"px"),n},u.yb=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},u.Nb={},u.s=function(e){return 0===e.indexOf("#")&&(e=e.slice(1)),document.getElementById(e)},u.Ha=function(e,t){t=t||e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),s=Math.floor(t/60%60),o=Math.floor(t/3600),i=0<i||0<o?i+":":"";return i+(((i||10<=s)&&10>r?"0"+r:r)+":")+(10>n?"0"+n:n)},u.Gc=function(){document.body.focus(),document.onselectstart=r(l)},u.ld=function(){document.onselectstart=r(f)},u.trim=function(e){return e.toString().replace(/^\s+/,"").replace(/\s+$/,"")},u.round=function(e,t){return t||(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},u.tb=function(e,t){return{length:1,start:function(){return e},end:function(){return t}}},u.get=function(e,t,n){var r=0===e.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===e.indexOf("http");"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw Error("This browser does not support XMLHttpRequest.")});var i=new XMLHttpRequest;try{i.open("GET",e)}catch(s){n(s)}i.onreadystatechange=function(){4===i.readyState&&(200===i.status||r&&0===i.status?t(i.responseText):n&&n())};try{i.send()}catch(o){n&&n(o)}},u.dd=function(e){try{var t=window.localStorage||l;t&&(t.volume=e)}catch(n){22==n.code||1014==n.code?u.log("LocalStorage Full (VideoJS)",n):18==n.code?u.log("LocalStorage not allowed (VideoJS)",n):u.log("LocalStorage Error (VideoJS)",n)}},u.jc=function(e){return e.match(/^https?:\/\//)||(e=u.e("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href),e},u.log=function(){u.log.history=u.log.history||[],u.log.history.push(arguments),window.console&&window.console.log(Array.prototype.slice.call(arguments))},u.Oc=function(e){var t,n;return e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),t?(e=document.documentElement,n=document.body,{left:t.left+(window.pageXOffset||n.scrollLeft)-(e.clientLeft||n.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(e.clientTop||n.clientTop||0)}):{left:0,top:0}},u.c=u.ma.extend({g:function(e,t,n){this.a=e,this.f=u.i.copy(this.f),t=this.options(t),this.L=t.id||(t.el&&t.el.id?t.el.id:e.id()+"_component_"+u.u++),this.Tc=t.name||h,this.b=t.el||this.e(),this.D=[],this.rb={},this.R={};if((e=this.f)&&e.children){var r=this;u.i.sa(e.children,function(e,t){t!==l&&!t.loadEvent&&(r[e]=r.X(e,t))})}this.M(n)}}),t=u.c.prototype,t.C=function(){if(this.D)for(var e=this.D.length-1;0<=e;e--)this.D[e].C&&this.D[e].C();this.R=this.rb=this.D=h,this.t(),this.b.parentNode&&this.b.parentNode.removeChild(this.b),u.sc(this.b),this.b=h},t.pc=p("a"),t.options=function(e){return e===b?this.f:this.f=u.i.gc(this.f,e)},t.e=function(e,t){return u.e(e,t)},t.s=p("b"),t.id=p("L"),t.name=p("Tc"),t.children=p("D"),t.X=function(e,t){var n,r;return"string"==typeof e?(r=e,t=t||{},n=t.componentClass||u.Y(r),t.name=r,n=new window.videojs[n](this.a||this,t)):n=e,this.D.push(n),"function"==typeof n.id&&(this.rb[n.id()]=n),(r=r||n.name&&n.name())&&(this.R[r]=n),"function"==typeof n.el&&n.el()&&(this.ra||this.b).appendChild(n.el()),n},t.removeChild=function(e){"string"==typeof e&&(e=this.R[e]);if(e&&this.D){for(var t=l,n=this.D.length-1;0<=n;n--)if(this.D[n]===e){t=f,this.D.splice(n,1);break}t&&(this.rb[e.id]=h,this.R[e.name]=h,(t=e.s())&&t.parentNode===(this.ra||this.b)&&(this.ra||this.b).removeChild(e.s()))}},t.P=r(""),t.d=function(e,t){return u.d(this.b,e,u.bind(this,t)),this},t.t=function(e,t){return u.t(this.b,e,t),this},t.Q=function(e,t){return u.Q(this.b,e,u.bind(this,t)),this},t.k=function(e,t){return u.k(this.b,e,t),this},t.M=function(e){return e&&(this.$?e.call(this):(this.Qa===b&&(this.Qa=[]),this.Qa.push(e))),this},t.Ta=function(){this.$=f;var e=this.Qa;if(e&&0<e.length){for(var t=0,n=e.length;t<n;t++)e[t].call(this);this.Qa=[],this.k("ready")}},t.p=function(e){return u.p(this.b,e),this},t.w=function(e){return u.w(this.b,e),this},t.show=function(){return this.b.style.display="block",this},t.v=function(){return this.b.style.display="none",this},t.ja=function(){return this.w("vjs-fade-out"),this.p("vjs-fade-in"),this},t.Ga=function(){return this.w("vjs-fade-in"),this.p("vjs-fade-out"),this},t.oc=function(){return this.p("vjs-lock-showing"),this},t.Ua=function(){return this.w("vjs-lock-showing"),this},t.disable=function(){this.v(),this.show=m(),this.ja=m()},t.width=function(e,t){return A(this,"width",e,t)},t.height=function(e,t){return A(this,"height",e,t)},t.Kc=function(e,t){return this.width(e,f).height(t)},u.o=u.c.extend({g:function(e,t){u.c.call(this,e,t);var n=l;this.d("touchstart",function(){n=f}),this.d("touchmove",function(){n=l});var r=this;this.d("touchend",function(e){n&&r.n(e),e.preventDefault(),e.stopPropagation()}),this.d("click",this.n),this.d("focus",this.La),this.d("blur",this.Ka)}}),t=u.o.prototype,t.e=function(e,t){return t=u.i.B({className:this.P(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.pa||"Need Text")+"</span></div>",ad:"button","aria-live":"polite",tabIndex:0},t),u.c.prototype.e.call(this,e,t)},t.P=function(){return"vjs-control "+u.c.prototype.P.call(this)},t.n=m(),t.La=function(){u.d(document,"keyup",u.bind(this,this.aa))},t.aa=function(e){if(32==e.which||13==e.which)e.preventDefault(),this.n()},t.Ka=function(){u.t(document,"keyup",u.bind(this,this.aa))},u.J=u.c.extend({g:function(e,t){u.c.call(this,e,t),this.Fc=this.R[this.f.barName],this.handle=this.R[this.f.handleName],e.d(this.qc,u.bind(this,this.update)),this.d("mousedown",this.Ma),this.d("touchstart",this.Ma),this.d("focus",this.La),this.d("blur",this.Ka),this.d("click",this.n),this.a.d("controlsvisible",u.bind(this,this.update)),e.M(u.bind(this,this.update)),this.K={}}}),t=u.J.prototype,t.e=function(e,t){return t=t||{},t.className+=" vjs-slider",t=u.i.B({ad:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),u.c.prototype.e.call(this,e,t)},t.Ma=function(e){e.preventDefault(),u.Gc(),this.K.move=u.bind(this,this.Gb),this.K.end=u.bind(this,this.Hb),u.d(document,"mousemove",this.K.move),u.d(document,"mouseup",this.K.end),u.d(document,"touchmove",this.K.move),u.d(document,"touchend",this.K.end),this.Gb(e)},t.Hb=function(){u.ld(),u.t(document,"mousemove",this.K.move,l),u.t(document,"mouseup",this.K.end,l),u.t(document,"touchmove",this.K.move,l),u.t(document,"touchend",this.K.end,l),this.update()},t.update=function(){if(this.b){var e,t=this.xb(),n=this.handle,r=this.Fc;isNaN(t)&&(t=0),e=t;if(n){e=this.b.offsetWidth;var i=n.s().offsetWidth;e=i?i/e:0,t*=1-e,e=t+e/2,n.s().style.left=u.round(100*t,2)+"%"}r.s().style.width=u.round(100*e,2)+"%"}},t.La=function(){u.d(document,"keyup",u.bind(this,this.aa))},t.aa=function(e){37==e.which?(e.preventDefault(),this.vc()):39==e.which&&(e.preventDefault(),this.wc())},t.Ka=function(){u.t(document,"keyup",u.bind(this,this.aa))},t.n=function(e){e.stopImmediatePropagation(),e.preventDefault()},u.ha=u.c.extend(),u.ha.prototype.defaultValue=0,u.ha.prototype.e=function(e,t){return t=t||{},t.className+=" vjs-slider-handle",t=u.i.B({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},t),u.c.prototype.e.call(this,"div",t)},u.na=u.c.extend(),u.na.prototype.e=function(){var e=this.options().Ic||"ul";return this.ra=u.e(e,{className:"vjs-menu-content"}),e=u.c.prototype.e.call(this,"div",{append:this.ra,className:"vjs-menu"}),e.appendChild(this.ra),u.d(e,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),e},u.I=u.o.extend({g:function(e,t){u.o.call(this,e,t),this.selected(t.selected)}}),u.I.prototype.e=function(e,t){return u.o.prototype.e.call(this,"li",u.i.B({className:"vjs-menu-item",innerHTML:this.f.label},t))},u.I.prototype.n=function(){this.selected(f)},u.I.prototype.selected=function(e){e?(this.p("vjs-selected"),this.b.setAttribute("aria-selected",f)):(this.w("vjs-selected"),this.b.setAttribute("aria-selected",l))},u.ea=u.o.extend({g:function(e,t){u.o.call(this,e,t),this.ua=this.Fa(),this.X(this.ua),this.G&&0===this.G.length&&this.v(),this.d("keyup",this.aa),this.b.setAttribute("aria-haspopup",f),this.b.setAttribute("role","button")}}),t=u.ea.prototype,t.oa=l,t.Fa=function(){var e=new u.na(this.a);this.options().title&&e.s().appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.Y(this.A),jd:-1}));if(this.G=this.sb())for(var t=0;t<this.G.length;t++)ca(e,this.G[t]);return e},t.sb=m(),t.P=function(){return this.className+" vjs-menu-button "+u.o.prototype.P.call(this)},t.La=m(),t.Ka=m(),t.n=function(){this.Q("mouseout",u.bind(this,function(){this.ua.Ua(),this.b.blur()})),this.oa?C(this):D(this)},t.aa=function(e){e.preventDefault(),32==e.which||13==e.which?this.oa?C(this):D(this):27==e.which&&this.oa&&C(this)},u.ga=u.c.extend({g:function(e,t,n){this.N=e,t=u.i.B(da(e),t),this.r={},this.rc=t.poster,this.Ea=t.controls,t.customControlsOnMobile!==f&&(u.Ub||u.ab)?(e.controls=t.controls,this.Ea=l):e.controls=l,u.c.call(this,this,t,n),this.Q("play",function(e){u.k(this.b,{type:"firstplay",target:this.b})||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}),this.d("ended",this.Vc),this.d("play",this.Jb),this.d("firstplay",this.Wc),this.d("pause",this.Ib),this.d("progress",this.Yc),this.d("durationchange",this.Uc),this.d("error",this.Fb),this.d("fullscreenchange",this.Xc),u.Na[this.L]=this,t.plugins&&u.i.sa(t.plugins,function(e,t){this[e](t)},this)}}),t=u.ga.prototype,t.f=u.options,t.C=function(){u.Na[this.L]=h,this.N&&this.N.player&&(this.N.player=h),this.b&&this.b.player&&(this.b.player=h),clearInterval(this.Pa),this.va(),this.h&&this.h.C(),u.c.prototype.C.call(this)},t.e=function(){var e=this.b=u.c.prototype.e.call(this,"div"),t=this.N;t.removeAttribute("width"),t.removeAttribute("height");if(t.hasChildNodes())for(var n=t.childNodes.length,r=0,i=t.childNodes;r<n;r++)("source"==i[0].nodeName.toLowerCase()||"track"==i[0].nodeName.toLowerCase())&&t.removeChild(i[0]);return t.id=t.id||"vjs_video_"+u.u++,e.id=t.id,e.className=t.className,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.p("vjs-paused"),this.width(this.f.width,f),this.height(this.f.height,f),t.parentNode&&t.parentNode.insertBefore(e,t),u.yb(t,e),e},t.xc=function(){this.fc&&this.va(),this.fc=setInterval(u.bind(this,function(){this.k("timeupdate")}),250)},t.va=function(){clearInterval(this.fc)},t.Vc=function(){this.f.loop&&(this.currentTime(0),this.play())},t.Jb=function(){u.w(this.b,"vjs-paused"),u.p(this.b,"vjs-playing")},t.Wc=function(){this.f.starttime&&this.currentTime(this.f.starttime)},t.Ib=function(){u.w(this.b,"vjs-playing"),u.p(this.b,"vjs-paused")},t.Yc=function(){1==G(this)&&this.k("loadedalldata")},t.Uc=function(){this.duration(I(this,"duration"))},t.Fb=function(e){u.log("Video Error",e)},t.Xc=function(){this.F?this.p("vjs-fullscreen"):this.w("vjs-fullscreen")},t.play=function(){return J(this,"play"),this},t.pause=function(){return J(this,"pause"),this},t.paused=function(){return I(this,"paused")===l?l:f},t.currentTime=function(e){return e!==b?(this.r.vd=e,J(this,"setCurrentTime",e),this.Eb&&this.k("timeupdate"),this):this.r.currentTime=I(this,"currentTime")||0},t.duration=function(e){return e!==b?(this.r.duration=parseFloat(e),this):this.r.duration},t.buffered=function(){var e=I(this,"buffered"),t=this.r.nb=this.r.nb||0;return e&&0<e.length&&e.end(0)!==t&&(t=e.end(0),this.r.nb=t),u.tb(0,t)},t.volume=function(e){return e!==b?(e=Math.max(0,Math.min(1,parseFloat(e))),this.r.volume=e,J(this,"setVolume",e),u.dd(e),this):(e=parseFloat(I(this,"volume")),isNaN(e)?1:e)},t.muted=function(e){return e!==b?(J(this,"setMuted",e),this):I(this,"muted")||l},t.Sa=function(){return I(this,"supportsFullScreen")||l},t.Ra=function(){var e=u.Nb.Ra;return this.F=f,e?(u.d(document,e.Z,u.bind(this,function(){this.F=document[e.F],this.F===l&&u.t(document,e.Z,arguments.callee)})),this.h.j.Ia===l&&this.f.flash.iFrameMode!==f&&(this.pause(),F(this),u.d(document,e.Z,u.bind(this,function(){u.t(document,e.Z,arguments.callee),E(this,this.ba,{src:this.r.src})}))),this.b[e.tc](),this.k("fullscreenchange")):this.h.Sa()?J(this,"enterFullScreen"):(this.Qc=f,this.Lc=document.documentElement.style.overflow,u.d(document,"keydown",u.bind(this,this.ic)),document.documentElement.style.overflow="hidden",u.p(document.body,"vjs-full-window"),this.k("enterFullWindow"),this.k("fullscreenchange")),this},t.ic=function(e){27===e.keyCode&&(this.F===f?K(this):L(this))},t.src=function(e){if(e instanceof Array){var t;e:{t=e;for(var n=0,r=this.f.techOrder;n<r.length;n++){var i=u.Y(r[n]),s=window.videojs[i];if(s.isSupported())for(var o=0,a=t;o<a.length;o++){var f=a[o];if(s.canPlaySource(f)){t={source:f,h:i};break e}}}t=l}t?(e=t.source,t=t.h,t==this.ba?this.src(e):E(this,t,e)):this.b.appendChild(u.e("p",{innerHTML:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'}))}else e instanceof Object?window.videojs[this.ba].canPlaySource(e)?this.src(e.src):this.src([e]):(this.r.src=e,this.$?(J(this,"src",e),"auto"==this.f.preload&&this.load(),this.f.autoplay&&this.play()):this.M(function(){this.src(e)}));return this},t.load=function(){return J(this,"load"),this},t.currentSrc=function(){return I(this,"currentSrc")||this.r.src||""},t.Oa=function(e){return e!==b?(J(this,"setPreload",e),this.f.preload=e,this):I(this,"preload")},t.autoplay=function(e){return e!==b?(J(this,"setAutoplay",e),this.f.autoplay=e,this):I(this,"autoplay")},t.loop=function(e){return e!==b?(J(this,"setLoop",e),this.f.loop=e,this):I(this,"loop")},t.poster=function(e){return e!==b&&(this.rc=e),this.rc},t.controls=function(e){return e!==b&&this.Ea!==e&&(this.Ea=!!e,this.k("controlschange")),this.Ea},t.error=function(){return I(this,"error")};var M,N,O;O=document.createElement("div"),N={},O.rd!==b?(N.tc="requestFullscreen",N.pb="exitFullscreen",N.Z="fullscreenchange",N.F="fullScreen"):(document.mozCancelFullScreen?(M="moz",N.F=M+"FullScreen"):(M="webkit",N.F=M+"IsFullScreen"),O[M+"RequestFullScreen"]&&(N.tc=M+"RequestFullScreen",N.pb=M+"CancelFullScreen"),N.Z=M+"fullscreenchange"),document[N.pb]&&(u.Nb.Ra=N),u.da=u.c.extend({g:function(e,t){u.c.call(this,e,t),e.controls()||this.disable(),e.Q("play",u.bind(this,function(){var e,t=u.bind(this,this.ja),n=u.bind(this,this.Ga);this.ja(),"ontouchstart"in window||(this.a.d("mouseover",t),this.a.d("mouseout",n),this.a.d("pause",u.bind(this,this.oc)),this.a.d("play",u.bind(this,this.Ua))),e=l,this.a.d("touchstart",function(){e=f}),this.a.d("touchmove",function(){e=l}),this.a.d("touchend",u.bind(this,function(t){var n;e&&(n=this.s().className.search("fade-in"),-1!==n?this.Ga():this.ja()),e=l,this.a.paused()||t.preventDefault()}))}))}}),u.da.prototype.f={wd:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}},u.da.prototype.e=function(){return u.e("div",{className:"vjs-control-bar"})},u.da.prototype.ja=function(){u.c.prototype.ja.call(this),this.a.k("controlsvisible")},u.da.prototype.Ga=function(){u.c.prototype.Ga.call(this),this.a.k("controlshidden")},u.Xb=u.o.extend({g:function(e,t){u.o.call(this,e,t),e.d("play",u.bind(this,this.Jb)),e.d("pause",u.bind(this,this.Ib))}}),t=u.Xb.prototype,t.pa="Play",t.P=function(){return"vjs-play-control "+u.o.prototype.P.call(this)},t.n=function(){this.a.paused()?this.a.play():this.a.pause()},t.Jb=function(){u.w(this.b,"vjs-paused"),u.p(this.b,"vjs-playing"),this.b.children[0].children[0].innerHTML="Pause"},t.Ib=function(){u.w(this.b,"vjs-playing"),u.p(this.b,"vjs-paused"),this.b.children[0].children[0].innerHTML="Play"},u.Ya=u.c.extend({g:function(e,t){u.c.call(this,e,t),e.d("timeupdate",u.bind(this,this.ya))}}),u.Ya.prototype.e=function(){var e=u.c.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=u.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),e.appendChild(u.e("div").appendChild(this.content)),e},u.Ya.prototype.ya=function(){var e=this.a.Mb?this.a.r.currentTime:this.a.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+u.Ha(e,this.a.duration())},u.Za=u.c.extend({g:function(e,t){u.c.call(this,e,t),e.d("timeupdate",u.bind(this,this.ya))}}),u.Za.prototype.e=function(){var e=u.c.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=u.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),e.appendChild(u.e("div").appendChild(this.content)),e},u.Za.prototype.ya=function(){this.a.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+u.Ha(this.a.duration()))},u.ac=u.c.extend({g:function(e,t){u.c.call(this,e,t)}}),u.ac.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},u.gb=u.c.extend({g:function(e,t){u.c.call(this,e,t),e.d("timeupdate",u.bind(this,this.ya))}}),u.gb.prototype.e=function(){var e=u.c.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=u.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),e.appendChild(u.e("div").appendChild(this.content)),e},u.gb.prototype.ya=function(){this.a.duration()&&this.a.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+u.Ha(this.a.duration()-this.a.currentTime()))},u.Aa=u.o.extend({g:function(e,t){u.o.call(this,e,t)}}),u.Aa.prototype.pa="Fullscreen",u.Aa.prototype.P=function(){return"vjs-fullscreen-control "+u.o.prototype.P.call(this)},u.Aa.prototype.n=function(){this.a.F?(K(this.a),this.b.children[0].children[0].innerHTML="Fullscreen"):(this.a.Ra(),this.b.children[0].children[0].innerHTML="Non-Fullscreen")},u.fb=u.c.extend({g:function(e,t){u.c.call(this,e,t)}}),u.fb.prototype.f={children:{seekBar:{}}},u.fb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})},u.Yb=u.J.extend({g:function(e,t){u.J.call(this,e,t),e.d("timeupdate",u.bind(this,this.xa)),e.M(u.bind(this,this.xa))}}),t=u.Yb.prototype,t.f={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},t.qc="timeupdate",t.e=function(){return u.J.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},t.xa=function(){var e=this.a.Mb?this.a.r.currentTime:this.a.currentTime();this.b.setAttribute("aria-valuenow",u.round(100*this.xb(),2)),this.b.setAttribute("aria-valuetext",u.Ha(e,this.a.duration()))},t.xb=function(){return this.a.currentTime()/this.a.duration()},t.Ma=function(e){u.J.prototype.Ma.call(this,e),this.a.Mb=f,this.nd=!this.a.paused(),this.a.pause()},t.Gb=function(e){e=B(this,e)*this.a.duration(),e==this.a.duration()&&(e-=.1),this.a.currentTime(e)},t.Hb=function(e){u.J.prototype.Hb.call(this,e),this.a.Mb=l,this.nd&&this.a.play()},t.wc=function(){this.a.currentTime(this.a.currentTime()+5)},t.vc=function(){this.a.currentTime(this.a.currentTime()-5)},u.bb=u.c.extend({g:function(e,t){u.c.call(this,e,t),e.d("progress",u.bind(this,this.update))}}),u.bb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},u.bb.prototype.update=function(){this.b.style&&(this.b.style.width=u.round(100*G(this.a),2)+"%")},u.Wb=u.c.extend({g:function(e,t){u.c.call(this,e,t)}}),u.Wb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},u.hb=u.ha.extend(),u.hb.prototype.defaultValue="00:00",u.hb.prototype.e=function(){return u.ha.prototype.e.call(this,"div",{className:"vjs-seek-handle"})},u.kb=u.c.extend({g:function(e,t){u.c.call(this,e,t),e.h&&e.h.j&&e.h.j.T===l&&this.p("vjs-hidden"),e.d("loadstart",u.bind(this,function(){e.h.j&&e.h.j.T===l?this.p("vjs-hidden"):this.w("vjs-hidden")}))}}),u.kb.prototype.f={children:{volumeBar:{}}},u.kb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})},u.jb=u.J.extend({g:function(e,t){u.J.call(this,e,t),e.d("volumechange",u.bind(this,this.xa)),e.M(u.bind(this,this.xa)),setTimeout(u.bind(this,this.update),0)}}),t=u.jb.prototype,t.xa=function(){this.b.setAttribute("aria-valuenow",u.round(100*this.a.volume(),2)),this.b.setAttribute("aria-valuetext",u.round(100*this.a.volume(),2)+"%")},t.f={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},t.qc="volumechange",t.e=function(){return u.J.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},t.Gb=function(e){this.a.volume(B(this,e))},t.xb=function(){return this.a.muted()?0:this.a.volume()},t.wc=function(){this.a.volume(this.a.volume()+.1)},t.vc=function(){this.a.volume(this.a.volume()-.1)},u.bc=u.c.extend({g:function(e,t){u.c.call(this,e,t)}}),u.bc.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},u.lb=u.ha.extend(),u.lb.prototype.defaultValue="00:00",u.lb.prototype.e=function(){return u.ha.prototype.e.call(this,"div",{className:"vjs-volume-handle"})},u.fa=u.o.extend({g:function(e,t){u.o.call(this,e,t),e.d("volumechange",u.bind(this,this.update)),e.h&&e.h.j&&e.h.j.T===l&&this.p("vjs-hidden"),e.d("loadstart",u.bind(this,function(){e.h.j&&e.h.j.T===l?this.p("vjs-hidden"):this.w("vjs-hidden")}))}}),u.fa.prototype.e=function(){return u.o.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},u.fa.prototype.n=function(){this.a.muted(this.a.muted()?l:f)},u.fa.prototype.update=function(){var e=this.a.volume(),t=3;0===e||this.a.muted()?t=0:.33>e?t=1:.67>e&&(t=2),this.a.muted()?"Unmute"!=this.b.children[0].children[0].innerHTML&&(this.b.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.b.children[0].children[0].innerHTML&&(this.b.children[0].children[0].innerHTML="Mute");for(e=0;4>e;e++)u.w(this.b,"vjs-vol-"+e);u.p(this.b,"vjs-vol-"+t)},u.Ca=u.ea.extend({g:function(e,t){u.ea.call(this,e,t),e.d("volumechange",u.bind(this,this.update)),e.h&&e.h.j&&e.h.j.T===l&&this.p("vjs-hidden"),e.d("loadstart",u.bind(this,function(){e.h.j&&e.h.j.T===l?this.p("vjs-hidden"):this.w("vjs-hidden")})),this.p("vjs-menu-button")}}),u.Ca.prototype.Fa=function(){var e=new u.na(this.a,{Ic:"div"}),t=new u.jb(this.a,u.i.B({md:f},this.f.zd));return e.X(t),e},u.Ca.prototype.n=function(){u.fa.prototype.n.call(this),u.ea.prototype.n.call(this)},u.Ca.prototype.e=function(){return u.o.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},u.Ca.prototype.update=u.fa.prototype.update,u.eb=u.o.extend({g:function(e,t){u.o.call(this,e,t),(!e.poster()||!e.controls())&&this.v(),e.d("play",u.bind(this,this.v))}}),u.eb.prototype.e=function(){var e=u.e("div",{className:"vjs-poster",tabIndex:-1}),t=this.a.poster();return t&&("backgroundSize"in e.style?e.style.backgroundImage='url("'+t+'")':e.appendChild(u.e("img",{src:t}))),e},u.eb.prototype.n=function(){this.a.play()},u.Vb=u.c.extend({g:function(e,t){u.c.call(this,e,t),e.d("canplay",u.bind(this,this.v)),e.d("canplaythrough",u.bind(this,this.v)),e.d("playing",u.bind(this,this.v)),e.d("seeked",u.bind(this,this.v)),e.d("seeking",u.bind(this,this.show)),e.d("seeked",u.bind(this,this.v)),e.d("error",u.bind(this,this.show)),e.d("waiting",u.bind(this,this.show))}}),u.Vb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})},u.Wa=u.o.extend({g:function(e,t){u.o.call(this,e,t),e.controls()||this.v(),e.d("play",u.bind(this,this.v))}}),u.Wa.prototype.e=function(){return u.o.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})},u.Wa.prototype.n=function(){this.a.play()},u.q=u.c.extend({g:function(e,t,n){u.c.call(this,e,t,n)}}),u.q.prototype.n=u.ab?m():function(){this.a.controls()&&(this.a.paused()?this.a.play():this.a.pause())},u.q.prototype.j={T:f,Ia:l,Lb:l,Ob:l},u.media={},u.media.Va="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");for(var i=u.media.Va.length-1;0<=i;i--)u.q.prototype[u.media.Va[i]]=ea();u.m=u.q.extend({g:function(e,t,n){this.j.T=u.m.Hc(),this.j.Sc=!u.Ub,this.j.Ia=f,u.q.call(this,e,t,n),(t=t.source)&&this.b.currentSrc==t.src?e.k("loadstart"):t&&(this.b.src=t.src),e.M(function(){this.f.autoplay&&this.paused()&&(this.N.poster=h,this.play())}),this.d("click",this.n);for(e=u.m.$a.length-1;0<=e;e--)u.d(this.b,u.m.$a[e],u.bind(this.a,this.Nc));this.Ta()}}),t=u.m.prototype,t.C=function(){u.q.prototype.C.call(this)},t.e=function(){var e=this.a,t=e.N;if(!t||this.j.Sc===l)t?(e.s().removeChild(t),t=t.cloneNode(l)):t=u.e("video",{id:e.id()+"_html5_api",className:"vjs-tech"}),t.player=e,u.yb(t,e.s());for(var n=["autoplay","preload","loop","muted"],r=n.length-1;0<=r;r--){var i=n[r];e.f[i]!==h&&(t[i]=e.f[i])}return t},t.Nc=function(e){this.k(e),e.stopPropagation()},t.play=function(){this.b.play()},t.pause=function(){this.b.pause()},t.paused=function(){return this.b.paused},t.currentTime=function(){return this.b.currentTime},t.cd=function(e){try{this.b.currentTime=e}catch(t){u.log(t,"Video is not ready. (Video.js)")}},t.duration=function(){return this.b.duration||0},t.buffered=function(){return this.b.buffered},t.volume=function(){return this.b.volume},t.hd=function(e){this.b.volume=e},t.muted=function(){return this.b.muted},t.fd=function(e){this.b.muted=e},t.width=function(){return this.b.offsetWidth},t.height=function(){return this.b.offsetHeight},t.Sa=function(){return"function"==typeof this.b.webkitEnterFullScreen&&(/Android/.test(u.O)||!/Chrome|Mac OS X 10.5/.test(u.O))?f:l},t.src=function(e){this.b.src=e},t.load=function(){this.b.load()},t.currentSrc=function(){return this.b.currentSrc},t.Oa=function(){return this.b.Oa},t.gd=function(e){this.b.Oa=e},t.autoplay=function(){return this.b.autoplay},t.bd=function(e){this.b.autoplay=e},t.loop=function(){return this.b.loop},t.ed=function(e){this.b.loop=e},t.error=function(){return this.b.error},u.m.isSupported=function(){return!!document.createElement("video").canPlayType},u.m.ob=function(e){return!!document.createElement("video").canPlayType(e.type)},u.m.Hc=function(){var e=u.ib.volume;return u.ib.volume=e/2+.1,e!==u.ib.volume},u.m.$a="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" "),u.ab&&3>u.yc&&(document.createElement("video").constructor.prototype.canPlayType=function(e){return e&&-1!=e.toLowerCase().indexOf("video/mp4")?"maybe":""}),u.l=u.q.extend({g:function(e,t,n){u.q.call(this,e,t,n),n=t.source;var r=t.parentEl,i=this.b=u.e("div",{id:e.id()+"_temp_flash"}),s=e.id()+"_flash_api";e=e.f;var o=u.i.B({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.Oa,loop:e.loop,muted:e.muted},t.flashVars),a=u.i.B({wmode:"opaque",bgcolor:"#000000"},t.params),l=u.i.B({id:s,name:s,"class":"vjs-tech"},t.attributes);n&&(o.src=encodeURIComponent(u.jc(n.src))),u.yb(i,r),t.startTime&&this.M(function(){this.load(),this.play(),this.currentTime(t.startTime)});if(t.iFrameMode===f&&!u.zc){var c=u.e("iframe",{id:s+"_iframe",name:s+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});o.readyFunction="ready",o.eventProxyFunction="events",o.errorEventProxyFunction="errors",u.d(c,"load",u.bind(this,function(){var e,n=c.contentWindow;e=c.contentDocument?c.contentDocument:c.contentWindow.document,e.write(u.l.kc(t.swf,o,a,l)),n.player=this.a,n.ready=u.bind(this.a,function(t){t=e.getElementById(t);var n=this.h;n.b=t,u.d(t,"click",n.bind(n.n)),u.l.qb(n)}),n.events=u.bind(this.a,function(e,t){this&&"flash"===this.ba&&this.k(t)}),n.errors=u.bind(this.a,function(e,t){u.log("Flash Error",t)})})),i.parentNode.replaceChild(c,i)}else u.l.Mc(t.swf,i,o,a,l)}}),t=u.l.prototype,t.C=function(){u.q.prototype.C.call(this)},t.play=function(){this.b.vjs_play()},t.pause=function(){this.b.vjs_pause()},t.src=function(e){e=u.jc(e),this.b.vjs_src(e);if(this.a.autoplay()){var t=this;setTimeout(function(){t.play()},0)}},t.load=function(){this.b.vjs_load()},t.poster=function(){this.b.vjs_getProperty("poster")},t.buffered=function(){return u.tb(0,this.b.vjs_getProperty("buffered"))},t.Sa=r(l);var P=u.l.prototype,Q="preload currentTime defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),R="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),S;for(S=0;S<Q.length;S++)T(Q[S]),fa();for(S=0;S<R.length;S++)T(R[S]);u.l.isSupported=function(){return 10<=u.l.version()[0]},u.l.ob=function(e){if(e.type in u.l.Pc)return"maybe"},u.l.Pc={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},u.l.onReady=function(e){e=u.s(e);var t=e.player||e.parentNode.player,n=t.h;e.player=t,n.b=e,n.d("click",n.n),u.l.qb(n)},u.l.qb=function(e){e.s().vjs_getProperty?e.Ta():setTimeout(function(){u.l.qb(e)},50)},u.l.onEvent=function(e,t){u.s(e).player.k(t)},u.l.onError=function(e,t){u.s(e).player.k("error"),u.log("Flash Error",t,e)},u.l.version=function(){var e="0,0,0";try{e=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(",")},u.l.Mc=function(e,t,n,r,i){e=u.l.kc(e,n,r,i),e=u.e("div",{innerHTML:e}).childNodes[0],n=t.parentNode,t.parentNode.replaceChild(e,t);var s=n.childNodes[0];setTimeout(function(){s.style.display="block"},1e3)},u.l.kc=function(e,t,n,r){var i="",s="",o="";return t&&u.i.sa(t,function(e,t){i+=e+"="+t+"&amp;"}),n=u.i.B({movie:e,flashvars:i,allowScriptAccess:"always",allowNetworking:"all"},n),u.i.sa(n,function(e,t){s+='<param name="'+e+'" value="'+t+'" />'}),r=u.i.B({data:e,width:"100%",height:"100%"},r),u.i.sa(r,function(e,t){o+=e+'="'+t+'" '}),'<object type="application/x-shockwave-flash"'+o+">"+s+"</object>"},u.Dc=u.c.extend({g:function(e,t,n){u.c.call(this,e,t,n);if(!e.f.sources||0===e.f.sources.length){t=0;for(n=e.f.techOrder;t<n.length;t++){var r=u.Y(n[t]),i=window.videojs[r];if(i&&i.isSupported()){E(e,r);break}}}else e.src(e.f.sources)}}),u.U=u.c.extend({g:function(e,t){u.c.call(this,e,t),this.L=t.id||"vjs_"+t.kind+"_"+t.language+"_"+u.u++,this.uc=t.src,this.Jc=t["default"]||t.dflt,this.kd=t.title,this.ud=t.srclang,this.Rc=t.label,this.ia=[],this.cc=[],this.ka=this.la=0,this.a.d("fullscreenchange",u.bind(this,this.Ec))}}),t=u.U.prototype,t.H=p("A"),t.src=p("uc"),t.ub=p("Jc"),t.title=p("kd"),t.label=p("Rc"),t.readyState=p("la"),t.mode=p("ka"),t.Ec=function(){this.b.style.fontSize=this.a.F?140*(screen.width/this.a.width())+"%":""},t.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-"+this.A+" vjs-text-track"})},t.show=function(){W(this),this.ka=2,u.c.prototype.show.call(this)},t.v=function(){W(this),this.ka=1,u.c.prototype.v.call(this)},t.disable=function(){2==this.ka&&this.v(),this.a.t("timeupdate",u.bind(this,this.update,this.L)),this.a.t("ended",u.bind(this,this.reset,this.L)),this.reset(),this.a.R.textTrackDisplay.removeChild(this),this.ka=0},t.load=function(){0===this.la&&(this.la=1,u.get(this.uc,u.bind(this,this.Zc),u.bind(this,this.Fb)))},t.Fb=function(e){this.error=e,this.la=3,this.k("error")},t.Zc=function(e){var t,n;e=e.split("\n");for(var r="",i=1,s=e.length;i<s;i++)if(r=u.trim(e[i])){-1==r.indexOf("-->")?(t=r,r=u.trim(e[++i])):t=this.ia.length,t={id:t,index:this.ia.length},n=r.split(" --> "),t.startTime=X(n[0]),t.ta=X(n[1]);for(n=[];e[++i]&&(r=u.trim(e[i]));)n.push(r);t.text=n.join("<br/>"),this.ia.push(t)}this.la=2,this.k("loaded")},t.update=function(){if(0<this.ia.length){var e=this.a.currentTime();if(this.Kb===b||e<this.Kb||this.Ja<=e){var t=this.ia,n=this.a.duration(),r=0,i=l,s=[],o,u,a,c;e>=this.Ja||this.Ja===b?c=this.vb!==b?this.vb:0:(i=f,c=this.Cb!==b?this.Cb:t.length-1);for(;;){a=t[c];if(a.ta<=e)r=Math.max(r,a.ta),a.Da&&(a.Da=l);else if(e<a.startTime){if(n=Math.min(n,a.startTime),a.Da&&(a.Da=l),!i)break}else i?(s.splice(0,0,a),u===b&&(u=c),o=c):(s.push(a),o===b&&(o=c),u=c),n=Math.min(n,a.ta),r=Math.max(r,a.startTime),a.Da=f;if(i){if(0===c)break;c--}else{if(c===t.length-1)break;c++}}this.cc=s,this.Ja=n,this.Kb=r,this.vb=o,this.Cb=u,e=this.cc,t="",n=0;for(r=e.length;n<r;n++)t+='<span class="vjs-tt-cue">'+e[n].text+"</span>";this.b.innerHTML=t,this.k("cuechange")}}},t.reset=function(){this.Ja=0,this.Kb=this.a.duration(),this.Cb=this.vb=0},u.Rb=u.U.extend(),u.Rb.prototype.A="captions",u.Zb=u.U.extend(),u.Zb.prototype.A="subtitles",u.Tb=u.U.extend(),u.Tb.prototype.A="chapters",u.$b=u.c.extend({g:function(e,t,n){u.c.call(this,e,t,n);if(e.f.tracks&&0<e.f.tracks.length){t=this.a,e=e.f.tracks;var r;for(n=0;n<e.length;n++){r=e[n];var i=t,s=r.kind,o=r.label,a=r.language,f=r;r=i.wa=i.wa||[],f=f||{},f.kind=s,f.label=o,f.language=a,s=u.Y(s||"subtitles"),i=new window.videojs[s+"Track"](i,f),r.push(i)}}}}),u.$b.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-text-track-display"})},u.W=u.I.extend({g:function(e,t){var n=this.ca=t.track;t.label=n.label(),t.selected=n.ub(),u.I.call(this,e,t),this.a.d(n.H()+"trackchange",u.bind(this,this.update))}}),u.W.prototype.n=function(){u.I.prototype.n.call(this),V(this.a,this.ca.L,this.ca.H())},u.W.prototype.update=function(){2==this.ca.mode()?this.selected(f):this.selected(l)},u.cb=u.W.extend({g:function(e,t){t.track={H:function(){return t.kind},pc:e,label:function(){return t.kind+" off"},ub:r(l),mode:r(l)},u.W.call(this,e,t),this.selected(f)}}),u.cb.prototype.n=function(){u.W.prototype.n.call(this),V(this.a,this.ca.L,this.ca.H())},u.cb.prototype.update=function(){for(var e=U(this.a),t=0,n=e.length,r,i=f;t<n;t++)r=e[t],r.H()==this.ca.H()&&2==r.mode()&&(i=l);i?this.selected(f):this.selected(l)},u.V=u.ea.extend({g:function(e,t){u.ea.call(this,e,t),1>=this.G.length&&this.v()}}),u.V.prototype.sb=function(){var e=[],t;e.push(new u.cb(this.a,{kind:this.A}));for(var n=0;n<U(this.a).length;n++)t=U(this.a)[n],t.H()===this.A&&e.push(new u.W(this.a,{track:t}));return e},u.za=u.V.extend({g:function(e,t,n){u.V.call(this,e,t,n),this.b.setAttribute("aria-label","Captions Menu")}}),u.za.prototype.A="captions",u.za.prototype.pa="Captions",u.za.prototype.className="vjs-captions-button",u.Ba=u.V.extend({g:function(e,t,n){u.V.call(this,e,t,n),this.b.setAttribute("aria-label","Subtitles Menu")}}),u.Ba.prototype.A="subtitles",u.Ba.prototype.pa="Subtitles",u.Ba.prototype.className="vjs-subtitles-button",u.Sb=u.V.extend({g:function(e,t,n){u.V.call(this,e,t,n),this.b.setAttribute("aria-label","Chapters Menu")}}),t=u.Sb.prototype,t.A="chapters",t.pa="Chapters",t.className="vjs-chapters-button",t.sb=function(){for(var e=[],t,n=0;n<U(this.a).length;n++)t=U(this.a)[n],t.H()===this.A&&e.push(new u.W(this.a,{track:t}));return e},t.Fa=function(){for(var e=U(this.a),t=0,n=e.length,r,i,s=this.G=[];t<n;t++)if(r=e[t],r.H()==this.A&&r.ub()){if(2>r.readyState()){this.sd=r,r.d("loaded",u.bind(this,this.Fa));return}i=r;break}e=this.ua=new u.na(this.a),e.b.appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.Y(this.A),jd:-1}));if(i){r=i.ia;for(var o,t=0,n=r.length;t<n;t++)o=r[t],o=new u.Xa(this.a,{track:i,cue:o}),s.push(o),e.X(o)}return 0<this.G.length&&this.show(),e},u.Xa=u.I.extend({g:function(e,t){var n=this.ca=t.track,r=this.cue=t.cue,i=e.currentTime();t.label=r.text,t.selected=r.startTime<=i&&i<r.ta,u.I.call(this,e,t),n.d("cuechange",u.bind(this,this.update))}}),u.Xa.prototype.n=function(){u.I.prototype.n.call(this),this.a.currentTime(this.cue.startTime),this.update(this.cue.startTime)},u.Xa.prototype.update=function(){var e=this.cue,t=this.a.currentTime();e.startTime<=t&&t<e.ta?this.selected(f):this.selected(l)},u.i.B(u.da.prototype.f.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!=typeof window.JSON&&"function"===window.JSON.parse)u.JSON=window.JSON;else{u.JSON={};var Y=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;u.JSON.parse=function(a,c){function d(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=d(i,n),r!==b?i[n]=r:delete i[n]);return c.call(e,t,i)}var e;a=String(a),Y.lastIndex=0,Y.test(a)&&(a=a.replace(Y,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}u.dc=function(){var e,t,n=document.getElementsByTagName("video");if(n&&0<n.length)for(var r=0,i=n.length;r<i;r++){if(!(t=n[r])||!t.getAttribute){u.mb();break}t.player===b&&(e=t.getAttribute("data-setup"),e!==h&&(e=u.JSON.parse(e||"{}"),v(t,e)))}else u.od||u.mb()},u.mb=function(){setTimeout(u.dc,1)},u.Q(window,"load",function(){u.od=f}),u.mb(),u.$c=function(e,t){u.ga.prototype[e]=t};var Z=this;Z.pd=f,$("videojs",u),$("_V_",u),$("videojs.options",u.options),$("videojs.cache",u.qa),$("videojs.Component",u.c),u.c.prototype.dispose=u.c.prototype.C,u.c.prototype.createEl=u.c.prototype.e,u.c.prototype.el=u.c.prototype.s,u.c.prototype.addChild=u.c.prototype.X,u.c.prototype.children=u.c.prototype.children,u.c.prototype.on=u.c.prototype.d,u.c.prototype.off=u.c.prototype.t,u.c.prototype.one=u.c.prototype.Q,u.c.prototype.trigger=u.c.prototype.k,u.c.prototype.triggerReady=u.c.prototype.Ta,u.c.prototype.show=u.c.prototype.show,u.c.prototype.hide=u.c.prototype.v,u.c.prototype.width=u.c.prototype.width,u.c.prototype.height=u.c.prototype.height,u.c.prototype.dimensions=u.c.prototype.Kc,u.c.prototype.ready=u.c.prototype.M,$("videojs.Player",u.ga),u.ga.prototype.dispose=u.ga.prototype.C,$("videojs.MediaLoader",u.Dc),$("videojs.TextTrackDisplay",u.$b),$("videojs.ControlBar",u.da),$("videojs.Button",u.o),$("videojs.PlayToggle",u.Xb),$("videojs.FullscreenToggle",u.Aa),$("videojs.BigPlayButton",u.Wa),$("videojs.LoadingSpinner",u.Vb),$("videojs.CurrentTimeDisplay",u.Ya),$("videojs.DurationDisplay",u.Za),$("videojs.TimeDivider",u.ac),$("videojs.RemainingTimeDisplay",u.gb),$("videojs.Slider",u.J),$("videojs.ProgressControl",u.fb),$("videojs.SeekBar",u.Yb),$("videojs.LoadProgressBar",u.bb),$("videojs.PlayProgressBar",u.Wb),$("videojs.SeekHandle",u.hb),$("videojs.VolumeControl",u.kb),$("videojs.VolumeBar",u.jb),$("videojs.VolumeLevel",u.bc),$("videojs.VolumeHandle",u.lb),$("videojs.MuteToggle",u.fa),$("videojs.PosterImage",u.eb),$("videojs.Menu",u.na),$("videojs.MenuItem",u.I),$("videojs.SubtitlesButton",u.Ba),$("videojs.CaptionsButton",u.za),$("videojs.ChaptersButton",u.Sb),$("videojs.MediaTechController",u.q),u.q.prototype.features=u.q.prototype.j,u.q.prototype.j.volumeControl=u.q.prototype.j.T,u.q.prototype.j.fullscreenResize=u.q.prototype.j.Ia,u.q.prototype.j.progressEvents=u.q.prototype.j.Lb,u.q.prototype.j.timeupdateEvents=u.q.prototype.j.Ob,$("videojs.Html5",u.m),u.m.Events=u.m.$a,u.m.isSupported=u.m.isSupported,u.m.canPlaySource=u.m.ob,u.m.prototype.setCurrentTime=u.m.prototype.cd,u.m.prototype.setVolume=u.m.prototype.hd,u.m.prototype.setMuted=u.m.prototype.fd,u.m.prototype.setPreload=u.m.prototype.gd,u.m.prototype.setAutoplay=u.m.prototype.bd,u.m.prototype.setLoop=u.m.prototype.ed,$("videojs.Flash",u.l),u.l.isSupported=u.l.isSupported,u.l.canPlaySource=u.l.ob,u.l.onReady=u.l.onReady,$("videojs.TextTrack",u.U),u.U.prototype.label=u.U.prototype.label,$("videojs.CaptionsTrack",u.Rb),$("videojs.SubtitlesTrack",u.Zb),$("videojs.ChaptersTrack",u.Tb),$("videojs.autoSetup",u.dc),$("videojs.plugin",u.$c),$("videojs.createTimeRange",u.tb)})(),module.exports=videojs}),define("thirdparty/videojs/video-js_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("thirdparty/videojs/video-js",'/*\nVideoJS Default Styles (http://videojs.com)\nVersion GENERATED_AT_BUILD\n*/\n\n/*\nREQUIRED STYLES (be careful overriding)\n================================================================================ */\n/* When loading the player, the video tag is replaced with a DIV,\n   that will hold the video tag or object tag for other playback methods.\n   The div contains the video playback element (Flash or HTML5) and controls, and sets the width and height of the video.\n\n   ** If you want to add some kind of border/padding (e.g. a frame), or special positioning, use another containing element.\n   Otherwise you risk messing up control positioning and full window mode. **\n*/\n.video-js {\n  background-color: #000;\n  position: relative;\n  padding: 0;\n  /* Start with 10px for base font size so other dimensions can be em based and easily calculable. */\n  font-size: 10px;\n  /* Allow poster to be vertially aligned. */\n  vertical-align: middle;\n  /*  display: table-cell; */ /*This works in Safari but not Firefox.*/\n}\n\n/* Playback technology elements expand to the width/height of the containing div.\n    <video> or <object> */\n.video-js .vjs-tech {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n/* Fix for Firefox 9 fullscreen (only if it is enabled). Not needed when checking fullScreenEnabled. */\n.video-js:-moz-full-screen { position: absolute; }\n\n/* Fullscreen Styles */\nbody.vjs-full-window {\n  padding: 0;\n  margin: 0;\n  height: 100%;\n  overflow-y: auto; /* Fix for IE6 full-window. http://www.cssplay.co.uk/layouts/fixed.html */\n}\n.video-js.vjs-fullscreen {\n  position: fixed;\n  overflow: hidden;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 100% !important;\n  height: 100% !important;\n  _position: absolute; /* IE6 Full-window (underscore hack) */\n}\n.video-js:-webkit-full-screen {\n  width: 100% !important; height: 100% !important;\n}\n\n/* Poster Styles */\n.vjs-poster {\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: contain;\n  cursor: pointer;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  position: relative;\n  width: 100%;\n}\n.vjs-poster img {\n  display: block;\n  margin: 0 auto;\n  max-height: 100%;\n  padding: 0;\n  width: 100%;\n}\n\n/* Text Track Styles */\n/* Overall track holder for both captions and subtitles */\n.video-js .vjs-text-track-display {\n  text-align: center;\n  position: absolute;\n  bottom: 4em;\n  left: 1em; /* Leave padding on left and right */\n  right: 1em;\n  font-family: Arial, sans-serif;\n}\n/* Individual tracks */\n.video-js .vjs-text-track {\n  display: none;\n  font-size: 1.4em;\n  text-align: center;\n  margin-bottom: 0.1em;\n  /* Transparent black background, or fallback to all black (oldIE) */\n  background: rgb(0, 0, 0); background: rgba(0, 0, 0, 0.50);\n}\n.video-js .vjs-subtitles { color: #fff; } /* Subtitles are white */\n.video-js .vjs-captions { color: #fc6; } /* Captions are yellow */\n.vjs-tt-cue { display: block; }\n\n/* Fading sytles, used to fade control bar. */\n.vjs-fade-in {\n  display: block !important;\n  visibility: visible; /* Needed to make sure things hide in older browsers too. */\n  opacity: 1;\n\n  -webkit-transition: visibility 0.1s, opacity 0.1s;\n     -moz-transition: visibility 0.1s, opacity 0.1s;\n      -ms-transition: visibility 0.1s, opacity 0.1s;\n       -o-transition: visibility 0.1s, opacity 0.1s;\n          transition: visibility 0.1s, opacity 0.1s;\n}\n.vjs-fade-out {\n  display: block !important;\n  visibility: hidden;\n  opacity: 0;\n\n  -webkit-transition: visibility 1.5s, opacity 1.5s;\n     -moz-transition: visibility 1.5s, opacity 1.5s;\n      -ms-transition: visibility 1.5s, opacity 1.5s;\n       -o-transition: visibility 1.5s, opacity 1.5s;\n          transition: visibility 1.5s, opacity 1.5s;\n\n  /* Wait a moment before fading out the control bar */\n  -webkit-transition-delay: 2s;\n     -moz-transition-delay: 2s;\n      -ms-transition-delay: 2s;\n       -o-transition-delay: 2s;\n          transition-delay: 2s;\n}\n/* Hide disabled or unsupported controls */\n.vjs-default-skin .vjs-hidden { display: none; }\n\n.vjs-lock-showing {\n  display: block !important;\n  opacity: 1;\n  visibility: visible;\n}\n\n/* DEFAULT SKIN (override in another file to create new skins)\n================================================================================\nInstead of editing this file, I recommend creating your own skin CSS file to be included after this file,\nso you can upgrade to newer versions easier. You can remove all these styles by removing the \'vjs-default-skin\' class from the tag. */\n\n/* Base UI Component Classes\n-------------------------------------------------------------------------------- */\n@font-face{\n  font-family: \'VideoJS\';\n  src: url(\'../f/1/vjs.eot\');\n  src: url(\'../f/1/vjs.eot\') format(\'embedded-opentype\'),\n  url(\'../f/1/vjs.woff\') format(\'woff\'),\n  url(\'../f/1/vjs.ttf\') format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n\n.vjs-default-skin {\n  color: #ccc;\n}\n\n/* Slider - used for Volume bar and Seek bar */\n.vjs-default-skin .vjs-slider {\n  outline: 0; /* Replace browser focus hightlight with handle highlight */\n  position: relative;\n  cursor: pointer;\n  padding: 0;\n\n  background: rgb(50, 50, 50); /* IE8- Fallback */\n  background: rgba(100, 100, 100, 0.5);\n}\n\n.vjs-default-skin .vjs-slider:focus {\n  background: rgb(70, 70, 70); /* IE8- Fallback */\n  background: rgba(100, 100, 100, 0.70);\n\n  -webkit-box-shadow: 0 0 2em rgba(255, 255, 255, 1);\n     -moz-box-shadow: 0 0 2em rgba(255, 255, 255, 1);\n          box-shadow: 0 0 2em rgba(255, 255, 255, 1);\n}\n\n.vjs-default-skin .vjs-slider-handle {\n  position: absolute;\n  /* Needed for IE6 */\n  left: 0;\n  top: 0;\n}\n\n.vjs-default-skin .vjs-slider-handle:before {\n  /*content: "\\f111";*/ /* Circle icon = f111 */\n  content: "\\e009"; /* Square icon */\n  font-family: VideoJS;\n  font-size: 1em;\n  line-height: 1;\n  text-align: center;\n  text-shadow: 0em 0em 1em #fff;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  /* Rotate the square icon to make a diamond */\n  -webkit-transform: rotate(-45deg);\n     -moz-transform: rotate(-45deg);\n      -ms-transform: rotate(-45deg);\n       -o-transform: rotate(-45deg);\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\n}\n\n/* Control Bar\n-------------------------------------------------------------------------------- */\n/* The default control bar. Created by controls.js */\n.vjs-default-skin .vjs-control-bar {\n  display: none; /* Start hidden */\n  position: absolute;\n  /* Distance from the bottom of the box/video. Keep 0. Use height to add more bottom margin. */\n  bottom: 0;\n  /* 100% width of player div */\n  left: 0;\n  right: 0;\n  /* Controls are absolutely position, so no padding necessary */\n  padding: 0;\n  margin: 0;\n  /* Height includes any margin you want above or below control items */\n  height: 3.0em;\n  background-color: rgb(0, 0, 0);\n  /* Slight blue so it can be seen more easily on black. */\n  background-color: rgba(7, 40, 50, 0.7);\n  /* Default font settings */\n  font-style: normal;\n  font-weight: normal;\n  font-family: Arial, sans-serif;\n}\n\n/* General styles for individual controls. */\n.vjs-default-skin .vjs-control {\n  outline: none;\n  position: relative;\n  float: left;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: 3.0em;\n  width: 4em;\n}\n\n/* FontAwsome button icons */\n.vjs-default-skin .vjs-control:before {\n  font-family: VideoJS;\n  font-size: 1.5em;\n  line-height: 2;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  text-shadow: 1px 1px 1px rgba(0,0,0,0.5);\n}\n\n/* Replacement for focus outline */\n.vjs-default-skin .vjs-control:focus:before,\n.vjs-default-skin .vjs-control:hover:before {\n  text-shadow: 0em 0em 1em rgba(255, 255, 255, 1);\n}\n\n.vjs-default-skin .vjs-control:focus { /*  outline: 0; */ /* keyboard-only users cannot see the focus on several of the UI elements when this is set to 0 */ }\n\n/* Hide control text visually, but have it available for screenreaders: h5bp.com/v */\n.vjs-default-skin .vjs-control-text { border: 0; clip: rect(0 0 0 0); height: 1px; margin: -1px; overflow: hidden; padding: 0; position: absolute; width: 1px; }\n\n/* Play/Pause\n-------------------------------------------------------------------------------- */\n.vjs-default-skin .vjs-play-control {\n  width: 5em;\n  cursor: pointer;\n}\n.vjs-default-skin .vjs-play-control:before {\n  content: "\\e001"; /* Play Icon */\n}\n.vjs-default-skin.vjs-playing .vjs-play-control:before {\n  content: "\\e002"; /* Pause Icon */\n}\n\n/* Rewind\n-------------------------------------------------------------------------------- */\n/*.vjs-default-skin .vjs-rewind-control { width: 5em; cursor: pointer !important; }\n.vjs-default-skin .vjs-rewind-control div { width: 19px; height: 16px; background: url(\'video-js.png\'); margin: 0.5em auto 0; }\n*/\n\n/* Volume/Mute\n-------------------------------------------------------------------------------- */\n.vjs-default-skin .vjs-mute-control,\n.vjs-default-skin .vjs-volume-menu-button {\n  cursor: pointer;\n  float: right;\n}\n.vjs-default-skin .vjs-mute-control:before,\n.vjs-default-skin .vjs-volume-menu-button:before {\n  content: "\\e006"; /* Full volume */\n}\n.vjs-default-skin .vjs-mute-control.vjs-vol-0:before,\n.vjs-default-skin .vjs-volume-menu-button.vjs-vol-0:before {\n  content: "\\e003"; /* No volume */\n}\n.vjs-default-skin .vjs-mute-control.vjs-vol-1:before,\n.vjs-default-skin .vjs-volume-menu-button.vjs-vol-1:before {\n  content: "\\e004"; /* Half volume */\n}\n.vjs-default-skin .vjs-mute-control.vjs-vol-2:before,\n.vjs-default-skin .vjs-volume-menu-button.vjs-vol-2:before {\n  content: "\\e005"; /* Full volume */\n}\n\n.vjs-default-skin .vjs-volume-control {\n  width: 5em;\n  float: right;\n}\n.vjs-default-skin .vjs-volume-bar {\n  width: 5em;\n  height: 0.6em;\n  margin: 1.1em auto 0;\n}\n\n.vjs-default-skin .vjs-volume-menu-button .vjs-menu-content {\n  height: 2.9em;\n}\n\n.vjs-default-skin .vjs-volume-level {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 0.5em;\n\n  background: #66A8CC\n    url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAP0lEQVQIHWWMAQoAIAgDR/QJ/Ub//04+w7ZICBwcOg5FZi5iBB82AGzixEglJrd4TVK5XUJpskSTEvpdFzX9AB2pGziSQcvAAAAAAElFTkSuQmCC)\n    -50% 0 repeat;\n}\n.vjs-default-skin .vjs-volume-bar .vjs-volume-handle {\n  width: 0.5em;\n  height: 0.5em;\n}\n\n.vjs-default-skin .vjs-volume-handle:before {\n  font-size: 0.9em;\n  top: -0.2em;\n  left: -0.2em;\n\n  width: 1em;\n  height: 1em;\n}\n\n.vjs-default-skin .vjs-volume-menu-button .vjs-menu .vjs-menu-content {\n  width: 6em;\n  left: -4em;\n}\n\n/*.vjs-default-skin .vjs-menu-button .vjs-volume-control {\n  height: 1.5em;\n}*/\n\n/* Progress\n-------------------------------------------------------------------------------- */\n.vjs-default-skin .vjs-progress-control {\n  position: absolute;\n  left: 0;\n  right: 0;\n  width: auto;\n  font-size: 0.3em;\n  height: 1em;\n  /* Set above the rest of the controls. */\n  top: -1em;\n\n  /* Shrink the bar slower than it grows. */\n  -webkit-transition: top 0.4s, height 0.4s, font-size 0.4s, -webkit-transform 0.4s;\n     -moz-transition: top 0.4s, height 0.4s, font-size 0.4s,    -moz-transform 0.4s;\n       -o-transition: top 0.4s, height 0.4s, font-size 0.4s,      -o-transform 0.4s;\n          transition: top 0.4s, height 0.4s, font-size 0.4s,         transform 0.4s;\n\n}\n\n/* On hover, make the progress bar grow to something that\'s more clickable.\n    This simply changes the overall font for the progress bar, and this\n    updates both the em-based widths and heights, as wells as the icon font */\n.vjs-default-skin:hover .vjs-progress-control {\n  font-size: .9em;\n\n  /* Even though we\'re not changing the top/height, we need to include them in\n      the transition so they\'re handled correctly. */\n  -webkit-transition: top 0.2s, height 0.2s, font-size 0.2s, -webkit-transform 0.2s;\n     -moz-transition: top 0.2s, height 0.2s, font-size 0.2s,    -moz-transform 0.2s;\n       -o-transition: top 0.2s, height 0.2s, font-size 0.2s,      -o-transform 0.2s;\n          transition: top 0.2s, height 0.2s, font-size 0.2s,         transform 0.2s;\n}\n\n/* Box containing play and load progresses. Also acts as seek scrubber. */\n.vjs-default-skin .vjs-progress-holder {\n  /* Placement within the progress control item */\n  height: 100%;\n}\n\n/* Progress Bars */\n.vjs-default-skin .vjs-progress-holder .vjs-play-progress,\n.vjs-default-skin .vjs-progress-holder .vjs-load-progress {\n  position: absolute;\n  display: block;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  /* Needed for IE6 */\n  left: 0;\n  top: 0;\n}\n\n.vjs-default-skin .vjs-play-progress {\n  /*\n    Using a data URI to create the white diagonal lines with a transparent\n      background. Surprising works in IE8.\n      Created using http://www.patternify.com\n    Changing the first color value will change the bar color.\n    Also using a paralax effect to make the lines move backwards.\n      The -50% left position makes that happen.\n  */\n  background: #66A8CC\n    url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAP0lEQVQIHWWMAQoAIAgDR/QJ/Ub//04+w7ZICBwcOg5FZi5iBB82AGzixEglJrd4TVK5XUJpskSTEvpdFzX9AB2pGziSQcvAAAAAAElFTkSuQmCC)\n    -50% 0 repeat;\n}\n.vjs-default-skin .vjs-load-progress {\n  background: rgb(100, 100, 100); /* IE8- Fallback */\n  background: rgba(255, 255, 255, 0.4);\n}\n\n.vjs-default-skin .vjs-seek-handle {\n  width: 1.5em;\n  height: 100%;\n}\n\n.vjs-default-skin .vjs-seek-handle:before {\n  padding-top: 0.1em; /* Minor adjustment */\n}\n\n/* Time Display\n-------------------------------------------------------------------------------- */\n.vjs-default-skin .vjs-time-controls {\n  font-size: 1em;\n  /* Align vertically by making the line height the same as the control bar */\n  line-height: 3em;\n}\n.vjs-default-skin .vjs-current-time { float: left; }\n.vjs-default-skin .vjs-duration { float: left; }\n/* Remaining time is in the HTML, but not included in default design */\n.vjs-default-skin .vjs-remaining-time { display: none; float: left; }\n.vjs-time-divider { float: left; line-height: 3em; }\n\n/* Fullscreen\n-------------------------------------------------------------------------------- */\n.vjs-default-skin .vjs-fullscreen-control {\n  width: 3.8em;\n  cursor: pointer;\n  float: right;\n}\n.vjs-default-skin .vjs-fullscreen-control:before {\n  content: "\\e000"; /* Enter full screen */\n}\n.vjs-default-skin.vjs-fullscreen .vjs-fullscreen-control:before {\n  content: "\\e00b"; /* Exit full screen */\n}\n\n/* Big Play Button (at start)\n---------------------------------------------------------*/\n.vjs-default-skin .vjs-big-play-button {\n  display: block;\n  z-index: 2;\n  position: absolute;\n  top: 2em;\n  left: 2em;\n  width: 12.0em;\n  height: 8.0em;\n  margin: 0;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n  opacity: 1;\n\n  /* Need a slightly gray bg so it can be seen on black backgrounds */\n  background-color: rgb(40, 40, 40);\n  background-color: rgba(7, 40, 50, 0.7);\n\n  border: 0.3em solid rgb(50, 50, 50);\n  border-color: rgba(255, 255, 255, 0.25);\n\n  -webkit-border-radius: 25px;\n     -moz-border-radius: 25px;\n          border-radius: 25px;\n\n  -webkit-box-shadow: 0px 0px 1em rgba(255, 255, 255, 0.25);\n     -moz-box-shadow: 0px 0px 1em rgba(255, 255, 255, 0.25);\n          box-shadow: 0px 0px 1em rgba(255, 255, 255, 0.25);\n\n  -webkit-transition: border 0.4s, -webkit-box-shadow 0.4s, -webkit-transform 0.4s;\n     -moz-transition: border 0.4s,    -moz-box-shadow 0.4s,    -moz-transform 0.4s;\n       -o-transition: border 0.4s,      -o-box-shadow 0.4s,      -o-transform 0.4s;\n          transition: border 0.4s,         box-shadow 0.4s,         transform 0.4s;\n}\n\n.vjs-default-skin:hover .vjs-big-play-button,\n.vjs-default-skin .vjs-big-play-button:focus {\n  outline: 0;\n  border-color: rgb(255, 255, 255);\n  border-color: rgba(255, 255, 255, 1);\n  /* IE8 needs a non-glow hover state */\n  background-color: rgb(80, 80, 80);\n  background-color: rgba(50, 50, 50, 0.75);\n\n  -webkit-box-shadow: 0 0 3em #fff;\n     -moz-box-shadow: 0 0 3em #fff;\n          box-shadow: 0 0 3em #fff;\n\n  -webkit-transition: border 0s, -webkit-box-shadow 0s, -webkit-transform 0s;\n     -moz-transition: border 0s,    -moz-box-shadow 0s,    -moz-transform 0s;\n       -o-transition: border 0s,      -o-box-shadow 0s,      -o-transform 0s;\n          transition: border 0s,         box-shadow 0s,         transform 0s;\n}\n\n.vjs-default-skin .vjs-big-play-button:before {\n  content: "\\e001"; /* Play icon */\n  font-family: VideoJS;\n  font-size: 3em;\n  line-height: 2.66;\n  text-shadow: 0.05em 0.05em 0.1em #000;\n  text-align: center; /* Needed for IE8 */\n\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n/* Loading Spinner\n---------------------------------------------------------*/\n.vjs-loading-spinner {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  font-size: 5em;\n  line-height: 1;\n\n  width: 1em;\n  height: 1em;\n\n  margin-left: -0.5em;\n  margin-top: -0.5em;\n\n  opacity: 0.75;\n\n  -webkit-animation: spin 1.5s infinite linear;\n     -moz-animation: spin 1.5s infinite linear;\n       -o-animation: spin 1.5s infinite linear;\n          animation: spin 1.5s infinite linear;\n}\n\n.vjs-default-skin .vjs-loading-spinner:before {\n  content: "\\e00a"; /* Loading spinner icon */\n  font-family: VideoJS;\n\n  position: absolute;\n  width: 1em;\n  height: 1em;\n  text-align: center;\n  text-shadow: 0em 0em 0.1em #000;\n}\n\n/* Add a gradient to the spinner by overlaying another copy.\n   Text gradient plus a text shadow doesn\'t work\n   and `background-clip: text` only works in Webkit. */\n.vjs-default-skin .vjs-loading-spinner:after {\n  content: "\\e00a"; /* Loading spinner icon */\n  font-family: VideoJS;\n\n  position: absolute;\n  width: 1em;\n  height: 1em;\n  text-align: center;\n\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n\n@-moz-keyframes spin {\n  0% { -moz-transform: rotate(0deg); }\n  100% { -moz-transform: rotate(359deg); }\n}\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(359deg); }\n}\n@-o-keyframes spin {\n  0% { -o-transform: rotate(0deg); }\n  100% { -o-transform: rotate(359deg); }\n}\n@-ms-keyframes spin {\n  0% { -ms-transform: rotate(0deg); }\n  100% { -ms-transform: rotate(359deg); }\n}\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(359deg); }\n}\n\n/* Menu Buttons (Captions/Subtitles/etc.)\n-------------------------------------------------------------------------------- */\n.vjs-default-skin .vjs-menu-button {\n  float: right;\n  cursor: pointer;\n}\n\n.vjs-default-skin .vjs-menu {\n  display: none;\n  position: absolute;\n  bottom: 0;\n  left: 0em; /* (Width of vjs-menu - width of button) / 2 */\n  width: 0em;\n  height: 0em;\n  margin-bottom: 3em;\n\n  border-left: 2em solid transparent;\n  border-right: 2em solid transparent;\n\n  border-top: 1.55em solid rgb(0, 0, 0); /* Same top as ul bottom */\n  border-top-color: rgba(7, 40, 50, 0.5); /* Same as ul background */\n}\n\n/* Button Pop-up Menu */\n.vjs-default-skin .vjs-menu-button .vjs-menu .vjs-menu-content {\n  display: block;\n  padding: 0; margin: 0;\n  position: absolute;\n  width: 10em;\n  bottom: 1.5em; /* Same bottom as vjs-menu border-top */\n  max-height: 15em;\n  overflow: auto;\n\n  left: -5em; /* Width of menu - width of button / 2 */\n\n  background-color: rgb(0, 0, 0);\n  background-color: rgba(7, 40, 50, 0.7);\n\n  -webkit-box-shadow: -20px -20px 0px rgba(255, 255, 255, 0.5);\n     -moz-box-shadow: 0 0 1em rgba(255, 255, 255, 0.5);\n          box-shadow: -0.2em -0.2em 0.3em rgba(255, 255, 255, 0.2);\n}\n\n/*.vjs-default-skin .vjs-menu-button:focus ul,*/ /* This is not needed because keyboard accessibility for the caption button is not handled with the focus any more. */\n.vjs-default-skin .vjs-menu-button:hover .vjs-menu {\n  display: block;\n}\n.vjs-default-skin .vjs-menu-button ul li {\n  list-style: none;\n  margin: 0;\n  padding: 0.3em 0 0.3em 0;\n  line-height: 1.4em;\n  font-size: 1.2em;\n  font-weight: normal;\n  text-align: center;\n  text-transform: lowercase;\n}\n.vjs-default-skin .vjs-menu-button ul li.vjs-selected {\n  background-color: #000;\n}\n.vjs-default-skin .vjs-menu-button ul li:focus,\n.vjs-default-skin .vjs-menu-button ul li:hover,\n.vjs-default-skin .vjs-menu-button ul li.vjs-selected:focus,\n.vjs-default-skin .vjs-menu-button ul li.vjs-selected:hover {\n  background-color: rgb(255, 255, 255);\n  background-color: rgba(255, 255, 255, 0.75);\n  color: #111;\n  outline: 0;\n\n  -webkit-box-shadow: 0 0 1em rgba(255, 255, 255, 1);\n     -moz-box-shadow: 0 0 1em rgba(255, 255, 255, 1);\n          box-shadow: 0 0 1em rgba(255, 255, 255, 1);\n}\n.vjs-default-skin .vjs-menu-button ul li.vjs-menu-title {\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0;\n  margin: 0 0 0.3em 0;\n  font-weight: bold;\n  cursor: default;\n}\n\n/* Subtitles Button */\n.vjs-default-skin .vjs-subtitles-button:before { content: "\\e00c"; }\n\n/* There\'s unfortunately no CC button in FontAwesome, so we need\n    to manually create one. Please +1 the fontawesome request.\n    https://github.com/FortAwesome/Font-Awesome/issues/968 */\n.vjs-default-skin .vjs-captions-button {\n  font-size: 1em; /* Font icons are 1.5em */\n}\n.vjs-default-skin .vjs-captions-button:before {\n  content: "\\e008";\n  font-family: VideoJS;\n  font-size: 1.5em;\n  line-height: 2;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  text-shadow: none;\n}\n\n\n/* Replacement for focus outline */\n.vjs-default-skin .vjs-captions-button:focus .vjs-control-content:before,\n.vjs-default-skin .vjs-captions-button:hover .vjs-control-content:before {\n  -webkit-box-shadow: 0 0 1em rgba(255, 255, 255, 1);\n     -moz-box-shadow: 0 0 1em rgba(255, 255, 255, 1);\n          box-shadow: 0 0 1em rgba(255, 255, 255, 1);\n}\n',"")}),define("lib/ui/primitives/VideoJS_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/primitives/VideoJS",".vjsTestMode .vjs-loading-spinner {\n  display: none !important; }\n","")}),define("lib/ui/primitives/VideoJS",["require","exports","module","ReactDOM","React","cx","emptyFunction","framework/config","thirdparty/videojs/video","thirdparty/videojs/video-js_css","./VideoJS_css"],function(e,t,n){function l(e){f=e}var r=e("ReactDOM"),i=e("React"),s=e("cx"),o=e("emptyFunction"),u=e("framework/config"),a=e("thirdparty/videojs/video");e("thirdparty/videojs/video-js_css"),e("./VideoJS_css");var f=!1;a.options.flash.swf=u.getConfig().staticRoot+"/images/video-js.swf";var c=i.createClass({INTERESTING_EVENTS:["loadstart","loadedmetadata","loadeddata","loadedalldata","play","pause","error","ended"],componentWillMount:function(){this.player=null},render:function(){var e={"video-js":!0,"vjs-default-skin":!this.props.skipDefaultSkin,vjsTestMode:f};return this.transferPropsTo(r.video({className:s(e),autoplay:this.props.playing,children:r.source({src:this.props.src,type:this.props.type})}))},handlePlayerEvent:function(e,t){e==="ended"&&this.player.currentTime(0),this.props.onPlayerEvent&&this.props.onPlayerEvent(e,this.player,t)},componentDidMount:function(e){var t=this,n;navigator.appVersion.indexOf("MSIE")>-1?n={techOrder:["flash","links"],width:this.props.width,height:this.props.height}:n={},a(e,n,function(){t.player=this,t.INTERESTING_EVENTS.map(function(e){t.player.on(e,t.handlePlayerEvent.bind(t,e))}),t.configurePlayer({playing:t.props.playing},t.props)})},componentDidUpdate:function(e){this.configurePlayer(e,this.props)},configurePlayer:function(e,t){e.muted!==t.muted&&(t.muted?this.player.volume(0):this.player.volume(1)),e.playing!==t.playing&&(t.playing?this.player.play():this.player.pause())}});n.exports=c,n.exports.injectIsTest=l}),define("lib/io/logClientAction",["require","exports","module","emptyFunction","ExecutionEnvironment"],function(e,t,n){function u(e,t){e.length>0&&$.post("/client_action/",{k:e.join(",")},t)}function a(){u(o,r),o.length=0}function f(e,t){t?u([e],t):o.push(e)}var r=e("emptyFunction"),i=e("ExecutionEnvironment"),s=1e4,o=[];i.canUseDOM&&window.setInterval(a,s),n.exports=f}),define("lib/ui/media/Video_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/media/Video",'.Video {\n  position: relative; }\n\n.vStatesHide .vStatePlay,\n.vStatesHide .vStatePause,\n.vStatesHide .vStatePrebuffer,\n.vStatesHide .vStateBuffering,\n.vStatesHide .vStateSound,\n.vStatesHide .vStateMuted {\n  opacity: 0;\n  -webkit-transition-delay: 0.1s;\n  -moz-transition-delay: 0.1s;\n  -o-transition-delay: 0.1s;\n  transition-delay: 0.1s; }\n\n.vStatePlay,\n.vStatePause,\n.vStatePrebuffer,\n.vStateBuffering,\n.vStateSound,\n.vStateMuted {\n  background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/frame/vesper-frame-assets.png") no-repeat 0 0;\n  display: block;\n  position: absolute;\n  -webkit-transition: opacity 0.2s ease-out;\n  -moz-transition: opacity 0.2s ease-out;\n  -o-transition: opacity 0.2s ease-out;\n  transition: opacity 0.2s ease-out; }\n\n.vOffsetIndicator .vStatePlay,\n.vOffsetIndicator .vStatePause,\n.vOffsetIndicator .vStatePrebuffer,\n.vOffsetIndicator .vStateBuffering,\n.vOffsetIndicator .vStateSound,\n.vOffsetIndicator .vStateMuted {\n  background-position: -17px -15px;\n  background-size: 190px 300px;\n  height: 36px;\n  left: auto;\n  margin: 0;\n  right: 16px;\n  top: 16px;\n  width: 38px; }\n\n.vStatePlay,\n.vStatePause,\n.vStatePrebuffer,\n.vStateBuffering {\n  height: 135px;\n  left: 50%;\n  margin-left: -61px;\n  margin-top: -55px;\n  top: 50%;\n  width: 135px; }\n\n.vStateSound,\n.vStateMuted {\n  left: 11px;\n  bottom: 11px;\n  width: 48px;\n  height: 48px;\n  display: none; }\n\n.vCoverLayer {\n  bottom: 0;\n  display: block;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 2; }\n\n.Video .vStateSound {\n  background-position: -29px -389px; }\n\n.Video .vStatePause {\n  display: none; }\n\n.Video .vStatePaused,\n.Video .vStatePause {\n  background-position: -18px -78px; }\n\n.Video.vOffsetIndicator .vStatePause {\n  display: block; }\n\n.Video .vStateMuted {\n  background-position: -149px -389px; }\n\n.Video .vjs-control-bar,\n.Video .vjs-control,\n.Video .vjs-loading-spinner,\n.Video .vjs-big-play-button,\n.Video .text-track-display {\n  display: none; }\n\nhtml.touch .Video .vStates {\n  display: none; }\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .vStatePlay,\n  .vStatePause,\n  .vStatePrebuffer,\n  .vStateBuffering,\n  .vStateSound,\n  .vStateMuted {\n    background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/frame/vesper-frame-assets@2x.png") no-repeat 0 0;\n    background-size: 360px 600px; }\n\n  .vOffsetIndicator .vStatePlay,\n  .vOffsetIndicator .vStatePause,\n  .vOffsetIndicator .vStatePrebuffer,\n  .vOffsetIndicator .vStateBuffering,\n  .vOffsetIndicator .vStateSound,\n  .vOffsetIndicator .vStateMuted {\n    background-size: 180px 300px; }\n\n  .Video .vStateMuted {\n    background-position: -156px -389px; } }\n',"")}),define("lib/ui/media/Video",["require","exports","module","ReactDOM","React","cx","lib/ui/primitives/VideoJS","lib/io/logClientAction","./Video_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("cx"),o=e("lib/ui/primitives/VideoJS"),u=e("lib/io/logClientAction");e("./Video_css");var a={notLoaded:0,loading:1,playing:2,paused:3,finished:4},f=i.createClass({getInitialState:function(){return{mouseOver:!1,playing:this.props.autoplay,playerState:a.notLoaded,muted:!1,forceShow:!0}},hidePlayIndicatorOnInit:i.autoBind(function(){this.setState({forceShow:!1})}),flashPlayIcon:i.autoBind(function(){this.setState({forceShow:!0}),setTimeout(this.hidePlayIndicatorOnInit,1e3)}),componentDidMount:function(){this.props.offsetIndicator||this.flashPlayIcon()},logAction:function(e){var t=this.props.embed?"embed.video.":"video.";u(t+e)},handlePlay:i.autoBind(function(){this.state.playing||this.logAction("play.click"),this.setState({playing:!this.state.playing})}),handleMute:i.autoBind(function(){this.setState({muted:!this.state.muted})}),handleFinished:function(){this.logAction("finished"),this.setState({playing:!1,playerState:a.finished}),this.props.offsetIndicator?this.setState({forceShow:!0}):this.flashPlayIcon()},handlePlayerEvent:i.autoBind(function(e,t,n){e==="error"||e==="ended"?this.handleFinished():e==="loadedmetadata"?this.setState({playerState:a.loading}):e==="play"?(this.logAction("play"),this.setState({playerState:a.playing})):e==="pause"&&(this.logAction("pause"),this.setState({playing:!1,playerState:a.paused}))}),handleMouseEnter:i.autoBind(function(){this.setState({mouseOver:!0})}),handleMouseLeave:i.autoBind(function(){this.setState({mouseOver:!1})}),render:function(){var e=o({skipDefaultSkin:!0,playing:this.state.playing,muted:this.state.muted,onPlayerEvent:this.handlePlayerEvent,preload:"none",controls:this.props.controls,hasSound:this.props.hasSound,src:this.props.src,type:this.props.type,poster:this.props.poster,width:"100%",height:"100%"});return this.transferPropsTo(r.div({className:s({Video:!0,vOffsetIndicator:this.props.offsetIndicator,vStatesHide:!this.props.embed&&!this.state.forceShow&&!this.state.mouseOver}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[e,r.a({href:"javascript:;",role:"button",className:s({vCoverLayer:!0}),onClick:this.handlePlay}),r.div({className:s({vStates:!0}),children:[r.a({href:"javascript:;",role:"button",className:s({vStatePlay:!this.state.playing,vStatePause:!this.props.offsetIndicator&&this.state.playing,vStatePaused:this.props.offsetIndicator&&this.state.playerState===a.paused}),onClick:this.handlePlay}),r.a({href:"javascript:;",role:"button",className:s({vStateSound:!this.state.muted&&this.props.hasSound,vStateMuted:this.state.muted||!this.props.hasSound}),onClick:this.handleMute})]})]}))}});n.exports=f}),define("lib/ui/media/Frame",["require","exports","module","React","lib/ui/primitives/Image","lib/ui/media/Video"],function(e,t,n){var r=e("React"),i=e("lib/ui/primitives/Image"),s=e("lib/ui/media/Video"),o=r.createClass({render:function(){return this.props.media.is_video?this.transferPropsTo(s({src:this.props.media.video_url,type:"video/mp4",poster:this.props.media.display_src,controls:!0,hasSound:!0,className:"Frame"})):this.transferPropsTo(i({src:this.props.media.display_src,rich:!0,className:"Frame"}))}});n.exports=o}),define("media_photo",["require","exports","module","ReactDOM","React","ExecutionEnvironment","lib/ui/media/Frame","lib/TimeoutComponentMixin","cx"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("ExecutionEnvironment"),o=e("lib/ui/media/Frame"),u=e("lib/TimeoutComponentMixin"),a=e("cx"),f=s.canUseDOM&&function(e){return"transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"OTransition"in e}(document.createElement("div").style);t.MediaPhoto=i.createClass({mixins:[u],getInitialState:function(){return{pop:!1}},dblClickThreshold:500,handleOnClick:i.autoBind(function(e){var t=+(new Date),n=this._lastClickTime;this._lastClickTime=t,this.props.onClick&&this.props.onClick.call(this,e),this.props.onDblClick&&n&&t-n<this.dblClickThreshold&&(this.props.onDblClick.call(this,e),this.doLikeAnimation())}),doLikeAnimation:function(){var e=this;if(f)e.updateState({pop:!1}),this.setTimeout(function(){e.updateState({pop:!0})},10);else{var t=$(e.refs.heart.getDOMNode());t.css({opacity:.25,backgroundSize:"25%"}),t.animate({opacity:.75,backgroundSize:"50%"},150,"linear",function(){t.animate({opacity:0,backgroundSize:"100%"},150,"linear")})}},render:function(){var e=null,t=null;this.props.media.is_video||(e=this.handleOnClick,t=r.span({ref:"heart",className:a({"i-like-big":!0,"i-like-big-pop":!!this.state.pop})}));var n=this.transferPropsTo(o({}));return r.div({className:"mediaPhoto",onClick:e,children:[t,n]})}})}),define("framework/i18n",["require","exports","module","ExecutionEnvironment","sprintf-0.7"],function(e,t,n){var r=e("ExecutionEnvironment"),i=e("sprintf-0.7").sprintf;t.i18n=function(e,t){if(!r.canUseDOM)return t?i(e,t):e;var n=window._strings[e];return n||(n=e),t&&(n=i(n,t)),n}}),define("framework/tx",["require","exports","module","ReactDOM","framework/i18n","React"],function(e,t,n){var r=e("ReactDOM"),i=e("framework/i18n").i18n,s=e("React"),o=/\%\((.+?)\)s/,u=s.createClass({render:function(){var e="",t={},n=this.props.children;n.length===1&&n[0]instanceof Array&&(n=n[0]),n.map(function(n){n.props&&n.props.name?(e+="%("+n.props.name+")s",t[n.props.name]=n.props.children):e+=n});var s=i(e),u=-1,a=s.split(o).map(function(e){return u++,u%2===1?t[e]:e});return this.transferPropsTo(r.span({children:a}))}});t.tx=u;var a=s.createClass({render:function(){return r.span({})}});t.txp=a}),define("lib/dates",["require","exports","module","framework/i18n","sprintf-0.7"],function(e,t,n){var r=e("framework/i18n").i18n,i=e("sprintf-0.7").sprintf,s=[r("January"),r("February"),r("March"),r("April"),r("May"),r("June"),r("July"),r("August"),r("September"),r("October"),r("November"),r("December")],o=function(e){var t=new Date(e*1e3);return{month_name:s[t.getMonth()],month:t.getMonth(),day:t.getDate(),year:t.getFullYear()}};t.parseDate=o;var u=function(e,t){var n=Math.round(new Date/1e3-e);if(n<1)return r("Now");if(n/60<1)return t?i(r("%(seconds)ss"),{seconds:n}):n==1?r("1 second ago"):i(r("%(seconds)s seconds ago"),{seconds:n});if(n/3600<1){var s=Math.round(n/60);return t?i(r("%(minutes)sm"),{minutes:s}):s==1?r("1 minute ago"):i(r("%(minutes)s minutes ago"),{minutes:s})}if(n/86400<1){var o=Math.round(n/3600);return t?i(r("%(hours)sh"),{hours:o}):o==1?r("1 hour ago"):i(r("%(hours)s hours ago"),{hours:o})}if(n/604800<1){var u=Math.round(n/86400);return t?i(r("%(days)sd"),{days:u}):u==1?r("1 day ago"):i(r("%(days)s days ago"),{days:u})}if(n/2592e3<1){var a=Math.round(n/604800);return t?i(r("%(weeks)sw"),{weeks:a}):a==1?r("1 week ago"):i(r("%(weeks)s weeks ago"),{weeks:a})}var a=Math.round(n/604800),f=Math.round(n/2592e3);return t?i(r("%(weeks)sw"),{weeks:a}):f==1?r("1 month ago"):i(r("%(months)s months ago"),{months:f})};t.ago=function(e){return u(e,!1)},t.agoShortened=function(e){return u(e,!0)}}),define("class_component",["require","exports","module","React","underscore"],function(e,t,n){var r=e("React"),i=e("underscore");t.createComponent=function(e){return e._render=e.render,e.render=function(){return this.transferPropsTo(this._render())},r.createClass(e)}}),define("lib/linkifyAsList",["require","exports","module"],function(e,t,n){function i(e,t){var n=[],i=e.split(r),s=t.text;for(var o=0;o+1<i.length;o+=2){var u=i[o+1],a=t[u.charAt(0)];n.push(s&&s(i[o])||i[o],a&&a(u.slice(1))||u)}return n.push(s&&s(i[o])||i[o]),n}var r=/((?:\B@|#)[a-z0-9\_]+)/gi;n.exports=i}),define("linkify",["require","exports","module","ReactDOM","React","class_component","cx","lib/linkifyAsList"],function(e,t,n){function a(e,t){var n=document,r=n.createElement("a");return r.setAttribute("href",e),r.setAttribute("target","_blank"),r.appendChild(n.createTextNode(t)),r}var r=e("ReactDOM"),i=e("React"),s=e("class_component"),o=e("cx"),u=e("lib/linkifyAsList"),f={text:function(e){return document.createTextNode(e)},"@":function(e){return a("/"+e,"@"+e)},"#":function(e){}},l={text:function(e){return e},"@":function(e){return r.a({target:"_blank",href:"/"+e,children:"@"+e})},"#":function(e){}};t.linkifyAsMarkup=function(e){return u(e,f)},t.LinkifiedText=i.createClass({render:function(){var e=this.props.children[0];return this.transferPropsTo(r.span({children:u(e,l)}))}})}),define("lib/formatNumber",["require","exports","module"],function(e,t,n){function r(e){var t=e.toString(),n=[];if(t.length<=3)return t;for(var r=t.length;r>=1;r-=3)n.push(t.substring(r-3,r));return n.reverse().join(",")}n.exports=r}),define("lib/abbrCount",["require","exports","module","lib/formatNumber"],function(e,t,n){function o(e,t){var n=e,r="";if(e>=t){var o=Math.floor(Math.log(e)/s);n=e/Math.pow(1e3,o),r=i[o]}return{base:n,prefix:r}}function u(e,t){var n=Math.pow(10,t),i=Math.round(e*n)/n,s=i.toString(10).split("."),o=r(s[0]);if(s.length>1){var u=s[1].slice(0,t);u&&(o+="."+u)}return o}function a(e,t,n){if(!e)return"0";var r=o(e,t||1e4),i=0,s=u(r.base,i);n=Math.min(n||4,10);while(++i<10){var a=u(r.base,i);if(a.length>n)break;s=a}return s+r.prefix}var r=e("lib/formatNumber"),i=["","k","m","b","t","q"],s=Math.log(1e3);n.exports=a}),define("lib/ui/media/LikeList_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/media/LikeList",".LikeList {\n  color: #aaaaaa;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8); }\n\n.llRemainingCount,\n.llNameLink {\n  font-weight: bold;\n  max-width: 150px;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n","")}),define("backbone",["require","exports","module","underscore"],function(e,t,n){(function(){var n=this,r=Function("return this")(),i=n.Backbone,s=Array.prototype,o=s.push,u=s.slice,a=s.splice,f;typeof t!="undefined"?f=t:f=n.Backbone={},f.VERSION="0.9.2";var l=r._;!l&&typeof e!="undefined"&&(l=e("underscore")),f.$=r.jQuery||r.Zepto||r.ender,f.noConflict=function(){return n.Backbone=i,this},f.emulateHTTP=!1,f.emulateJSON=!1;var c=/\s+/,h=f.Events={on:function(e,t,n){var r,i,s;if(!t)return this;e=e.split(c),r=this._callbacks||(this._callbacks={});while(i=e.shift())s=r[i]||(r[i]=[]),s.push(t,n);return this},off:function(e,t,n){var r,i,s,o;if(!(i=this._callbacks))return this;if(!(e||t||n))return delete this._callbacks,this;e=e?e.split(c):l.keys(i);while(r=e.shift()){if(!(s=i[r])||!t&&!n){delete i[r];continue}for(o=s.length-2;o>=0;o-=2)t&&s[o]!==t||n&&s[o+1]!==n||s.splice(o,2)}return this},trigger:function(e){var t,n,r,i,s,o,u,a;if(!(n=this._callbacks))return this;a=[],e=e.split(c);for(i=1,s=arguments.length;i<s;i++)a[i-1]=arguments[i];while(t=e.shift()){if(u=n.all)u=u.slice();if(r=n[t])r=r.slice();if(r)for(i=0,s=r.length;i<s;i+=2)r[i].apply(r[i+1]||this,a);if(u){o=[t].concat(a);for(i=0,s=u.length;i<s;i+=2)u[i].apply(u[i+1]||this,o)}}return this}};h.bind=h.on,h.unbind=h.off;var p=f.Model=function(e,t){var n,r=e||{};t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r));if(n=l.result(this,"defaults"))r=l.extend({},n,r);this.attributes={},this._escapedAttributes={},this.cid=l.uniqueId("c"),this.changed={},this._changes={},this._pending={},this.set(r,{silent:!0}),this.changed={},this._changes={},this._pending={},this._previousAttributes=l.clone(this.attributes),this.initialize.apply(this,arguments)};l.extend(p.prototype,h,{changed:null,_changes:null,_pending:null,_changing:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return l.clone(this.attributes)},sync:function(){return f.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=l.escape(n==null?"":""+n)},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i;if(e==null)return this;l.isObject(e)?(i=e,n=t):(i={})[e]=t;var s=n&&n.silent,o=n&&n.unset;i instanceof p&&(i=i.attributes);if(o)for(r in i)i[r]=void 0;if(!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var u=this._changing,a=this.attributes,f=this._escapedAttributes,c=this._previousAttributes||{};for(r in i){t=i[r];if(!l.isEqual(a[r],t)||o&&l.has(a,r))delete f[r],this._changes[r]=!0;o?delete a[r]:a[r]=t,!l.isEqual(c[r],t)||l.has(a,r)!==l.has(c,r)?(this.changed[r]=t,s||(this._pending[r]=!0)):(delete this.changed[r],delete this._pending[r],u||delete this._changes[r]),u&&l.isEqual(a[r],u[r])&&delete this._changes[r]}return s||this.change(n),this},unset:function(e,t){return t=l.extend({},t,{unset:!0}),this.set(e,null,t)},clear:function(e){return e=l.extend({},e,{unset:!0}),this.set(l.clone(this.attributes),e)},fetch:function(e){e=e?l.clone(e):{};var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r,e)},this.sync("read",this,e)},save:function(e,t,n){var r,i,s;e==null||l.isObject(e)?(r=e,n=t):e!=null&&((r={})[e]=t),n=n?l.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;i=l.clone(this.attributes)}var o=l.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?o:n))return!1;if(!r&&!this._validate(null,n))return!1;var u=this,a=n.success;n.success=function(e,t,i){s=!0;var o=u.parse(e,i);n.wait&&(o=l.extend(r||{},o));if(!u.set(o,n))return!1;a&&a(u,e,n)};var f=this.sync(this.isNew()?"create":"update",this,n);return!s&&n.wait&&(this.clear(o),this.set(i,o)),f},destroy:function(e){e=e?l.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e)};if(this.isNew())return e.success(),!1;var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=l.result(this,"urlRoot")||l.result(this.collection,"url")||_();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){var t=this._changing,n=this._changing={};for(var r in this._changes)this._pending[r]=!0;var i=this._changes;this._changes={};var s=[];for(var r in i)n[r]=this.get(r),s.push(r);for(var o=0,u=s.length;o<u;o++)this.trigger("change:"+s[o],this,n[s[o]],e);if(t)return this;while(!l.isEmpty(this._pending)){this._pending={},this.trigger("change",this,e);for(var r in this.changed){if(this._pending[r]||this._changes[r])continue;delete this.changed[r]}this._previousAttributes=l.clone(this.attributes)}return this._changing=null,this},hasChanged:function(e){return e==null?!l.isEmpty(this.changed):l.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?l.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(l.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return l.clone(this._previousAttributes)},isValid:function(e){return!this.validate||!this.validate(this.attributes,e)},_validate:function(e,t){if(t&&t.silent||!this.validate)return!0;e=l.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error&&t.error(this,n,t),this.trigger("error",this,n,t),!1):!0}});var d=f.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&(t.parse&&(e=this.parse(e)),this.reset(e,{silent:!0,parse:t.parse}))};l.extend(d.prototype,h,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return f.sync.apply(this,arguments)},add:function(e,t){var n,r,i,s,u,f=t&&t.at;e=l.isArray(e)?e.slice():[e];for(n=0,i=e.length;n<i;n++){if(e[n]=this._prepareModel(e[n],t))continue;throw new Error("Can't add an invalid model to a collection")}for(n=e.length-1;n>=0;n--){s=e[n],u=s.id!=null&&this._byId[s.id];if(u||this._byCid[s.cid]){t&&t.merge&&u&&u.set(s,t),e.splice(n,1);continue}s.on("all",this._onModelEvent,this),this._byCid[s.cid]=s,s.id!=null&&(this._byId[s.id]=s)}this.length+=e.length,r=[f!=null?f:this.models.length,0],o.apply(r,e),a.apply(this.models,r),this.comparator&&f==null&&this.sort({silent:!0});if(t&&t.silent)return this;while(s=e.shift())s.trigger("add",s,this,t);return this},remove:function(e,t){var n,r,i,s;t||(t={}),e=l.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){s=this.getByCid(e[n])||this.get(e[n]);if(!s)continue;delete this._byId[s.id],delete this._byCid[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference(s)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,l.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return l.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return l.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(l.bind(this.comparator,this)),(!e||!e.silent)&&this.trigger("reset",this,e),this},pluck:function(e){return l.invoke(this.models,"get",e)},reset:function(e,t){for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),e&&this.add(e,l.extend({silent:!0},t)),(!t||!t.silent)&&this.trigger("reset",this,t),this},fetch:function(e){e=e?l.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r,e)},this.sync("read",this,e)},create:function(e,t){var n=this;t=t?l.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},chain:function(){return l(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(n.attributes,t)?n:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortedIndex","toArray","size","first","head","take","initial","rest","tail","last","without","indexOf","shuffle","lastIndexOf","isEmpty"];l.each(v,function(e){d.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.models),l[e].apply(l,t)}});var m=["groupBy","countBy","sortBy"];l.each(m,function(e){d.prototype[e]=function(t,n){var r=l.isFunction(t)?t:function(e){return e.get(t)};return l[e](this.models,r,n)}});var g=f.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},y=/\((.*?)\)/g,b=/:\w+/g,w=/\*\w+/g,E=/[-{}[\]+?.,\\^$|#\s]/g;l.extend(g.prototype,h,{initialize:function(){},route:function(e,t,n){return l.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),f.history.route(e,l.bind(function(r){var i=this._extractParameters(e,r);n&&n.apply(this,i),this.trigger.apply(this,["route:"+t].concat(i)),f.history.trigger("route",this,t,i)},this)),this},navigate:function(e,t){return f.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;var e,t=l.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(y,"(?:$1)?").replace(b,"([^/]+)").replace(w,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var S=f.History=function(){this.handlers=[],l.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},x=/^[#\/]/,T=/^\/+|\/+$/g,N=/msie [\w.]+/,C=/\/$/;S.started=!1,l.extend(S.prototype,h,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(C,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return decodeURIComponent(e.replace(x,""))},start:function(e){if(S.started)throw new Error("Backbone.history has already been started");S.started=!0,this.options=l.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=N.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(T,"/"),r&&this._wantsHashChange&&(this.iframe=f.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?f.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?f.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(x,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search));if(!this.options.silent)return this.loadUrl()},stop:function(){f.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),S.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=l.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!S.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),f.history=new S;var k=f.View=function(e){this.cid=l.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},L=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName"];l.extend(k.prototype,h,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},dispose:function(){return this.undelegateEvents(),this.model&&this.model.off&&this.model.off(null,null,this),this.collection&&this.collection.off&&this.collection.off(null,null,this),this},remove:function(){return this.dispose(),this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&f.$(r).attr(t),n!=null&&f.$(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof f.$?e:f.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=l.result(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];l.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(L),i=r[1],s=r[2];n=l.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.bind(i,n):this.$el.delegate(s,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=l.extend({},this.options,e)),l.extend(this,l.pick(e,A)),this.options=e},_ensureElement:function(){if(!this.el){var e=l.extend({},l.result(this,"attributes"));this.id&&(e.id=l.result(this,"id")),this.className&&(e["class"]=l.result(this,"className")),this.setElement(this.make(l.result(this,"tagName"),e),!1)}else this.setElement(l.result(this,"el"),!1)}});var O={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};f.sync=function(e,t,n){var r=O[e];n||(n={});var i={type:r,dataType:"json"};n.url||(i.url=l.result(t,"url")||_()),!n.data&&t&&(e==="create"||e==="update")&&(i.contentType="application/json",i.data=JSON.stringify(t)),f.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(f.emulateHTTP&&(r==="PUT"||r==="DELETE")){i.type="POST",f.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!f.emulateJSON&&(i.processData=!1);var o=n.success;n.success=function(e,r,i){o&&o(e,r,i),t.trigger("sync",t,e,n)};var u=n.error;return n.error=function(e,r,i){u&&u(t,e,n),t.trigger("error",t,e,n)},f.ajax(l.extend(i,n))},f.ajax=function(){return f.$.ajax.apply(f.$,arguments)};var M=function(e,t){var n=this,r;e&&l.has(e,"constructor")?r=e.constructor:r=function(){n.apply(this,arguments)},l.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&l.extend(r.prototype,e),r.__super__=n.prototype,r};p.extend=d.extend=g.extend=k.extend=S.extend=M;var _=function(){throw new Error('A "url" property or function must be specified')}}).call(this)}),define("framework/Reactlet",["require","exports","module","ReactDOM","React"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=i.createClass({getInitialState:function(){return{componentClass:null,componentProps:null}},componentWillMount:function(){this.bootstrap(this.props.require,this.props.module,this.props.component,this.props.props)},componentWillReceiveProps:function(e){this.bootstrap(e.require,e.module,e.component,e.props)},transition:function(e,t){t.ref="main",this.updateState({componentClass:e,componentProps:t})},bootstrap:function(e,t,n,r){if(!t)return;e([t],function(e){n&&(e=e[n]),this.transition(e,r)}.bind(this))},render:function(){return this.state.componentClass?this.state.componentClass(this.state.componentProps):r.span({children:this.children})},getComponent:function(){return this.refs?this.refs.main:null}});n.exports=s}),define("framework/setImmediate",["require","exports","module"],function(e,t,n){function u(){s=!1;for(var e,t;(t=r.next)&&!t.begun;r=t){t.begun=!0;try{t.cb.call(t.ctx||null)}catch(n){e=e||[n]}}if(e)throw e[0]}var r={},i=r,s=!1,o;if(typeof MessageChannel!="undefined"){var a=new MessageChannel;a.port1.onmessage=u,o=function(){a.port2.postMessage("")}}else typeof requestAnimationFrame!="undefined"?o=requestAnimationFrame:o=function(){setTimeout(u,0)};n.exports=function(e,t){i=i.next={cb:e,ctx:t};if(s)return;s=!0,o()}}),define("framework/fullpage",["require","exports","module","ReactDOM","React","ReactDOM","backbone","throwIf","EventListener","./Reactlet","framework/setImmediate"],function(e,t,n){function v(){return u(!d,"Page has not been bootstrapped yet!"),d}function m(e){var t=document.createElement("span");document.body.appendChild(t),d=h({routes:e}),i.renderComponent(d,t)}function y(){return v().navigate.apply(v(),arguments)}function b(){return v().navigateBack.apply(v(),arguments)}function w(){return v().replaceURL.apply(v(),arguments)}function E(){return v().updatePage.apply(v(),arguments)}function x(){return v().getURL.apply(v(),arguments)}function T(){return v().getPage.apply(v(),arguments)}var r=e("ReactDOM"),i=e("React"),s=e("ReactDOM"),o=e("backbone"),u=e("throwIf"),a=e("EventListener"),f=e("./Reactlet"),l=e("framework/setImmediate"),c=i.createClass({render:function(){return this.transferPropsTo(f({require:requirejs,ref:"main"}))},getComponent:function(){return this.refs.main.getComponent()}}),h=i.createClass({navigate:function(e){l(this.router.navigate.bind(this.router,e,{trigger:!0}))},replaceURL:function(e){l(this.router.navigate.bind(this.router,e,{replace:!0}))},navigateBack:function(){l(window.history.go.bind(window.history,-1))},updatePage:function(e,t,n){this.updateState({moduleName:e,componentName:t,props:n})},getURL:function(){return location.href},componentDidMount:function(){var e=0,t=this.props.routes,n={},r={};for(var i in t){if(!t.hasOwnProperty(i))continue;var s="route"+e++;n[i]=s,r[s]=t[i]}r.routes=n;var u=o.Router.extend(r);this.router=new u,o.history.start({pushState:!0})},getInitialState:function(){return{moduleName:null,componentName:null,props:null}},render:function(){return c({module:this.state.moduleName,component:this.state.componentName,props:this.state.props,ref:"main"})},getPage:function(){return this.refs?this.refs.main.getComponent():null}}),p=i.createClass({_doBodyUpdates:function(e){document.title=e.title,document.body.setAttribute("class",e.className)},componentDidMount:function(){this._doBodyUpdates(this.props),this.addedNodes=[],this.updateHeadMarkup(this.props.dangerouslyAddHeadMarkup),this.addEventListeners(this.props)},componentWillReceiveProps:function(e){this._doBodyUpdates(e),e.dangerouslyAddHeadMarkup!=this.props.dangerouslyAddHeadMarkup?(this.updateHeadMarkup(e.dangerouslyAddHeadMarkup),this.addedNodes=[]):e!=this.props&&(this.removeEventListeners(this.props),this.addEventListeners(e))},componentWillUnmount:function(){this.removeEventListeners(this.props),this.updateHeadMarkup()},addEventListeners:function(e){e.onScroll&&a.listen(window,"scroll",e.onScroll)},removeEventListeners:function(e){e.onScroll&&window.removeEventListener("scroll",e.onScroll,!1)},updateHeadMarkup:function(e){this.addedNodes.map(function(e){document.head.removeChild(e)});if(e){var t=document.createElement("div");t.innerHTML=e,Array.prototype.slice.call(t.childNodes).map(function(e){this.addedNodes.push(e),document.head.appendChild(e)}.bind(this))}},render:function(){return this.props.children[0]}}),d=null,g=i.createClass({onClick:i.autoBind(function(e){var t=e.nativeEvent;if(t.metaKey||t.ctrlKey)return;v().navigate(this.props.href),e.preventDefault()}),render:function(){return this.transferPropsTo(r.a({onClick:this.onClick}))}}),S={componentDidMount:function(){$(window).scrollTop(0)}};n.exports={bootstrap:m,navigate:y,navigateBack:b,replaceURL:w,updatePage:E,getPage:T,getURL:x,FullPage:p,FastLink:g,FullPageMixin:S}}),define("lib/ui/user/RawNameLink",["require","exports","module","React","framework/fullpage"],function(e,t,n){var r=e("React"),i=e("framework/fullpage").FastLink,s=r.createClass({render:function(){return this.transferPropsTo(i({href:"/"+this.props.user.username,children:[this.props.children]}))}});n.exports=s}),define("lib/ui/media/LikeList",["require","exports","module","ReactDOM","React","lib/abbrCount","framework/tx","./LikeList_css","lib/ui/user/RawNameLink"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("lib/abbrCount"),o=e("framework/tx"),u=o.tx,a=o.txp;e("./LikeList_css");var f=e("lib/ui/user/RawNameLink"),l=i.createClass({render:function(){return this.transferPropsTo(f({className:"llNameLink",children:[this.props.user.username]}))}}),c=i.createClass({render:function(){var e=this.props.users.filter(function(e){return e}),t=[],n={},i=-1;for(var o=0;o<e.length;o++)if(e[o].username===this.props.viewer.username){i=o;break}return i>-1&&e.splice(i,1),this.props.viewerLikesThis&&e.splice(0,0,this.props.viewer),e.length===0?r.span({}):e.length===1?this.transferPropsTo(u({className:"LikeList",children:[a({name:"name0",children:[l({user:e[0]})]})," ","likes this."]})):e.length===2?this.transferPropsTo(u({className:"LikeList",children:[a({name:"name0",children:[l({user:e[0]})]})," ","and"," ",a({name:"name1",children:[l({user:e[1]})]})," ","like this."]})):e.length===3?this.transferPropsTo(u({className:"LikeList",children:[a({name:"name0",children:[l({user:e[0]})]}),","," ",a({name:"name1",children:[l({user:e[1]})]})," ","and"," ",a({name:"name2",children:[l({user:e[2]})]})," ","like this."]})):e.length===4?this.transferPropsTo(u({className:"LikeList",children:[a({name:"name0",children:[l({user:e[0]})]}),","," ",a({name:"name1",children:[l({user:e[1]})]}),","," ",a({name:"name2",children:[l({user:e[2]})]})," ","and"," ",a({name:"name3",children:[l({user:e[3]})]})," ","like this."]})):this.transferPropsTo(u({className:"LikeList",children:[a({name:"name0",children:[l({user:e[0]})]}),","," ",a({name:"name1",children:[l({user:e[1]})]}),","," ",a({name:"name2",children:[l({user:e[2]})]})," ","and"," ",a({name:"count",children:[r.span({className:"llRemainingCount",children:s(this.props.fullCount-3)})]})," ","others like this."]}))}});n.exports=c}),define("scrollarea_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("scrollarea",".scrollArea {\n  position: relative;\n  overflow: hidden; }\n\n.scrollAreaInitialized {\n  -webkit-transition: height 0.5s ease-out;\n  -moz-transition: height 0.5s ease-out;\n  -o-transition: height 0.5s ease-out;\n  transition: height 0.5s ease-out; }\n\n.scrollArea.scrollAreaOpen {\n  overflow-y: auto; }\n\n.scrollAreaScrolledTiny {\n  -webkit-box-shadow: inset 0 2px 0 rgba(0,0,0,0.05);\n  -moz-box-shadow: inset 0 2px 0 rgba(0,0,0,0.05);\n  box-shadow: inset 0 2px 0 rgba(0,0,0,0.05); }\n\n.scrollAreaScrolledMore {\n  -webkit-box-shadow: inset 0 2px 0 rgba(0,0,0,0.05), inset 0 3px 0 rgba(0,0,0,.03);\n  -moz-box-shadow: inset 0 2px 0 rgba(0,0,0,0.05), inset 0 3px 0 rgba(0,0,0,.03);\n  box-shadow: inset 0 2px 0 rgba(0,0,0,0.05), inset 0 3px 0 rgba(0,0,0,.03); }\n\n.scrollAreaScrolled {\n  -webkit-box-shadow: inset 0 2px 0 rgba(0,0,0,.03), inset 0 3px 0 rgba(0,0,0,.03), inset 0 4px 0 rgba(0,0,0,.01), inset 0 5px 0 rgba(0,0,0,.01);\n  -moz-box-shadow: inset 0 2px 0 rgba(0,0,0,.03), inset 0 3px 0 rgba(0,0,0,.03), inset 0 4px 0 rgba(0,0,0,.01), inset 0 5px 0 rgba(0,0,0,.01);\n  box-shadow: inset 0 2px 0 rgba(0,0,0,.03), inset 0 3px 0 rgba(0,0,0,.03), inset 0 4px 0 rgba(0,0,0,.01), inset 0 5px 0 rgba(0,0,0,.01); }\n\n.scrollAreaContents {\n  padding: 12px 0 0; }\n\n.scrollAreaEmpty,\n.scrollAreaEmpty .scrollAreaContents {\n  padding: 0 !important; }\n\n.scrollAreaScrolling .scrollAreaContents {\n  padding: 12px 0; }\n","")}),define("scrollarea",["require","exports","module","ReactDOM","React","underscore","class_component","cx","ExecutionEnvironment","lib/TimeoutComponentMixin","scrollarea_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("underscore"),o=e("class_component"),u=e("cx"),a=e("ExecutionEnvironment"),f=e("lib/TimeoutComponentMixin");e("scrollarea_css"),a.canUseDOM&&(jQuery.fn.outerScrollHeight=function(e){var t=this[0],n=$(t),r=t.scrollHeight;return r+=n.outerHeight(e)-n.innerHeight(),r});var l=4;t.ScrollArea=o.createComponent({mixins:[f],getInitialState:function(){return this.bottomEdge=-1,{height:0,open:!0,initialized:!1,scrollPosition:null,scrolling:!1}},componentDidMount:function(e){this.measureAndAdjust()},scrollToBottom:function(){this.bottomEdge=0,this.setTimeout(this.measureAndAdjust.bind(this),0)},doOnScroll:i.autoBind(function(){var e=parseInt($(this.refs.root.getDOMNode()).scrollTop(),10),t=null;e===0?t=null:e<=5?t="scrollAreaScrolledTiny":e<=10?t="scrollAreaScrolledMore":t="scrollAreaScrolled",this.updateState({scrollPosition:t})}),componentWillReceiveProps:function(e){if(a.canUseDOM&&e.children!==this.props.children){var t=$(this.refs.root.getDOMNode()).height(),n=this.measureContentHeight(),r=$(this.refs.root.getDOMNode()).scrollTop();this.bottomEdge=t-(n-r),this.setTimeout(this.measureAndAdjust.bind(this),0)}},measureContentHeight:function(){return Array.prototype.slice.call(this.refs.root.getDOMNode().children).map(function(e){var t=$(e).outerScrollHeight(!0);return t}).reduce(function(e,t){return e+t},0)+($.browser.mozilla||$.browser.msie?l:0)},measureAndAdjust:function(){var e=this.measureContentHeight(),t=Math.min(e,this.props.maxHeight);this.setTimeout(function(){this.updateState({open:!0})}.bind(this),500),this.state.initialized||this.setTimeout(function(){this.updateState({initialized:!0})}.bind(this),0);var n=this.bottomEdge-$(this.refs.root.getDOMNode()).height()+e;this.refs.root.getDOMNode().scrollTop=n,this.updateState({height:t,open:!1,scrolling:t===this.props.maxHeight})},render:function(){var e=s.values(this.props.children[0]).filter(function(e){return e}),t={scrollArea:!0,scrollAreaEmpty:e.length<1,scrollAreaOpen:this.state.open,scrollAreaInitialized:this.state.initialized,scrollAreaScrolling:this.state.scrolling};return this.state.scrollPosition&&(t[this.state.scrollPosition]=!0),r.div({onScroll:this.doOnScroll,className:u(t),ref:"root",style:{height:this.state.height+"px"},children:r.div({className:"scrollAreaContents",children:this.props.children})})}})}),define("lib/io/graphql",["require","exports","module","framework/setImmediate"],function(e,t,n){var r=e("framework/setImmediate"),i=0,s=[],o=function(e){s=e},u=function(e,t,n){if(i<s.length){r(t.bind(null,s[i++]));return}$.post("/query/",{q:e,ref:n},t,"json")},a=function(e,t,n){var r=[],i=0;for(var s=0;s<e.length;s++)(function(s){u(e[s],function(n){r[s]=n,i++,i===e.length&&t(r)},n)})(s)},f=function(e){var t=(new Date).getTime();u(e,function(e){console.log(e),console.log("(query took "+((new Date).getTime()-t)+" ms)")})};n.exports={injectMockData:o,query:u,nquery:a,iquery:f}}),define("LegacyPagedQuery",["require","exports","module","lib/io/graphql","sprintf-0.7"],function(e,t,n){function s(e,t,n,r,i,s,o,u){this.query=e,this.path=t,this.data=n,this.pageSize=r,this.callback=i,this.reversed=o,this.maxNodes=s,this.ref=u,this.pageInfos=[this.getContainer().page_info,this.getContainer().page_info]}var r=e("lib/io/graphql"),i=e("sprintf-0.7").sprintf;s.prototype.getPageInfo=function(){return{start_cursor:this.pageInfos[0].start_cursor,has_previous_page:this.pageInfos[0].has_previous_page,end_cursor:this.pageInfos[1].end_cursor,has_next_page:this.pageInfos[1].has_next_page}},s.prototype.inversePaginate=function(e,t){return this.paginate(undefined,!this.reversed,t)},s.prototype.forceInversePaginate=function(e){return this.inversePaginate(e,!0)},s.prototype.pollInversePaginate=function(e,t){return this.$PagedQuery_paginate(t||this.pageSize,!this.reversed,!0,function(n){var r=this.traversePath(n,this.path);e(r.nodes.length,t||this.pageSize)}.bind(this))},s.prototype.paginate=function(e,t,n){return this.$PagedQuery_paginate(e,t,n,this.mergeData.bind(this,t))},s.prototype.$PagedQuery_paginate=function(e,t,n,s){if(!n&&!this.canPaginate(t))return;e||(e=this.pageSize),t===undefined&&(t=this.reversed);var o=this.getContainer(),u=this.query.replace("$pagination",i("%s(%s, %s)",t?"before":"after",t?this.getPageInfo().start_cursor:this.getPageInfo().end_cursor,this.maxNodes?Math.min(this.maxNodes-o.nodes.length,e):e));r.query(u,s,this.ref)},s.prototype.traversePath=function(e,t){for(var n=0;n<t.length;n++)e=e[t[n]];return e},s.prototype.getContainer=function(){return this.traversePath(this.data,this.path)},s.prototype.mergeData=function(e,t){e===undefined&&(e=this.reversed);var n=this.traversePath(t,this.path),r=this.getContainer();e?n.nodes=n.nodes.concat(r.nodes):n.nodes=r.nodes.concat(n.nodes),this.data=t,this.pageInfos[!e+0]=n.page_info,this.callback&&this.callback()},s.prototype.getData=function(){return this.data},s.prototype.canPaginate=function(e){var t=this.getContainer();return e===undefined&&(e=this.reversed),this.maxNodes&&t.nodes.length>=this.maxNodes?!1:e?!!t.page_info.has_previous_page:!!t.page_info.has_next_page},s.deserialize=function(e,t,n,r){return new s(e.query,e.path,e.initial,t,n,r,e.reversed,e.ref)},n.exports=s}),define("media_more_button_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("media_more_button",'.mediaMoreButtonContainer {\n  position: relative;\n  float: left;\n  display: inline;\n  height: 100%;\n  width: 48px; }\n\n.mediaMoreButton {\n  display: block;\n  cursor: pointer;\n  height: 100%;\n  width: 48px; }\n  .mediaMoreButton:hover {\n    background-color: rgba(255, 255, 255, 0.8); }\n\n.mediaMoreButtonContainer {\n  float: right;\n  margin-right: 1px; }\n\n.mediaMoreButton {\n  background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/feed/feed-assets.png") no-repeat 7px -94px; }\n\n.timelineLikes .mediaMoreButton {\n  border-left: 1px solid #ddd;\n  -webkit-box-shadow: inset 1px 0 0 rgba(255, 255, 255, 0.9);\n  -moz-box-shadow: inset 1px 0 0 rgba(255, 255, 255, 0.9);\n  box-shadow: inset 1px 0 0 rgba(255, 255, 255, 0.9); }\n\n.mediaMoreButton:active {\n  background-color: rgba(0, 0, 0, 0.05);\n  -webkit-box-shadow: 0 1px 0 rgba(0,0,0,.15), 0 2px 0 rgba(255,255,255,.9), inset 0 0 2px rgba(0,0,0,.08);\n  -moz-box-shadow: 0 1px 0 rgba(0,0,0,.15), 0 2px 0 rgba(255,255,255,.9), inset 0 0 2px rgba(0,0,0,.08);\n  box-shadow: 0 1px 0 rgba(0,0,0,.15), 0 2px 0 rgba(255,255,255,.9), inset 0 0 2px rgba(0,0,0,.08); }\n\n.mediaMoreDropdown ul {\n  min-height: 0; }\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .mediaMoreButton {\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/feed/feed-assets@2x.png");\n    -webkit-background-size: 100px 1000px;\n    background-size: 100px 1000px; } }\n',"")}),define("event",["require","exports","module"],function(e,t,n){t.add=function(e,t,n){var r;return e.addEventListener?e.addEventListener(t,r=function(t){n.call(e,t)===!1&&(t.stopPropagation(),t.preventDefault())},!1):e.attachEvent&&e.attachEvent("on"+t,r=function(t){return n.call(e,t||window.event)}),r},t.remove=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}}),define("layers",["require","exports","module","ExecutionEnvironment","event"],function(e,t,n){var r=e("ExecutionEnvironment"),i=e("event"),s=[],o=27;r.canUseDOM&&i.add(document,"keyup",function(e){var t=e.keyCode||e.charCode;if(t===o)while(s.length>0){var n=s.pop();if(!n.canceled){n.callback.call(n.context||null);break}}}),t.pushEscapeListener=function(e,t){var n={callback:e,context:t,canceled:!1};return s.push(n),function(){n.canceled=!0}}}),define("modal_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("modal",".modalBackground {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 199;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n  .modalBackground.modalDialog {\n    background-color: rgba(0, 0, 0, 0.8); }\n\n.modalInner {\n  position: absolute;\n  margin: 0 auto; }\n  .modalDialog .modalInner {\n    position: fixed; }\n","")}),define("confirm_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("confirm",".confirmDialogBackground {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  z-index: 199;\n  /* TODO Manage this centrally */ }\n\n.confirmDialogDropdown {\n  position: absolute;\n  max-width: 180px; }\n  .confirmDialogDropdown .dropdown {\n    position: relative;\n    text-align: center; }\n    .confirmDialogDropdown .dropdown ul li {\n      white-space: normal; }\n","")}),define("modal",["require","exports","module","ReactDOM","underscore","assert","React","framework/i18n","layers","lib/TimeoutComponentMixin","cx","scrollarea","modal_css","event","confirm_css"],function(e,t,n){function c(){s.fail("not implemented")}function p(e){return o.createClass(i.extend(i.clone(h),e))}function b(e,t,n){g?(g.props.parent=e,g.props.children=[t],g.props.onHide=n):g=v({parent:e,onHide:n,children:[t]}),g.show()}var r=e("ReactDOM"),i=e("underscore"),s=e("assert"),o=e("React"),u=e("framework/i18n").i18n,a=e("layers").pushEscapeListener,f=e("lib/TimeoutComponentMixin"),l=e("cx");e("scrollarea"),e("modal_css");var h={mixins:[f],getBackground:function(){var t=this.background;if(!t){var n=document;t=this.background=n.createElement("div"),t.setAttribute("class","modalBackground");var r=e("event").add,i=this.hide.bind(this);r(t,"click",i),r(t,"tap",i)}return t.style.height=$("html").outerScrollHeight()+"px",t},getInitialState:function(){return{open:!1,top:0,left:0}},getOffset:c,show:function(){var e=this,t=$("body"),n=e.getBackground();e._rendered_once||(o.renderComponent(e,n),e._rendered_once=!0),t.append(n);var r=this.getOffset(this.refs.inner.getDOMNode());this.updateState({open:!0,top:r.top,left:r.left}),e.cancelEscape=a(e.hide,e)},getHideDelay:function(){return 0},hide:function(){var e=this;e.cancelEscape&&(e.cancelEscape(),e.cancelEscape=null);var t=e.props.onHide;t&&t(),e.updateState({open:!1});var n=e.getBackground();this.setTimeout(function(){var e=n.parentNode;e&&e.removeChild(n)},e.getHideDelay())},getExtraClasses:function(){return"modalInner"},render:function(){var e=this.props.className||"";return e+=" "+this.getExtraClasses(),r.div({ref:"inner",className:e,onClick:this.hide.bind(this),style:{top:this.state.top,left:this.state.left},children:this.props.children})}},d=10;t.Dialog=p({getBackground:function(){var e=h.getBackground.call(this);return $(e).addClass("modalDialog"),e},getOffset:function(e){var t=$(window),n=$(e),r=t.height()-n.outerHeight()>>1,i=t.width()-n.outerWidth()>>1,s=this.props.minPadding||d,o=s*2;return{top:Math.max(s,r-o)+"px",left:Math.max(s,i-o)+"px"}}});var v=p({getInitialState:function(){var e=h.getInitialState.call(this);return e.dropdownOpen=!1,e},getOffset:function(e){var t=$(e).offset(),n=$(".dropdown i",e),r=n.offset(),i=t.top-r.top-(n.height()>>1),s=t.left-r.left-(n.width()>>1);i+=4;var o=$(this.props.parent),u=o.offset();return{top:u.top+(o.height()>>1)+i+"px",left:u.left+(o.width()>>1)+s+"px"}},getHideDelay:function(){return 200},getExtraClasses:function(){return l({confirmDialogDropdown:!0,"has-dropdown":!0,"dropdown-open":this.state.open?" dropdown-open":""})}}),m=o.createClass({handleConfirm:function(){var e=this.props.onHide;e&&e();var t=this.props.options.buttonCallback;t&&t()},render:function(){var e=this.props.options;return r.div({className:"dropdown",children:[r.i({}),r.ul({children:[r.li({children:e.promptText}),r.li({className:e.buttonClass||"negative",children:r.a({role:"button",onClick:this.handleConfirm.bind(this),children:e.buttonText})})]})]})}}),g,y={promptText:u("Are you sure?"),buttonText:u("Yes"),buttonCallback:function(){}};t.confirm=function(t,n){function r(){g.hide()}e("confirm_css"),n=i.extend(i.clone(y),n);var s=m({options:n,onHide:r});b(t,s,n.onHide)},t.showConfirm=b}),define("report_modal_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("report_modal",".reportModal,\n.reportModalIframe {\n  border-radius: 4px; }\n","")}),define("report_modal",["require","exports","module","ReactDOM","ExecutionEnvironment","React","modal","report_modal_css"],function(e,t,n){var r=e("ReactDOM"),i=e("ExecutionEnvironment"),s=e("React"),o=e("modal").Dialog;e("report_modal_css"),t.show=function(e){var t=o({className:"reportModal",children:[r.iframe({className:"reportModalIframe",src:"/media/"+e+"/flag/",width:"400",height:"250"})]});t.show()}}),define("media_more_button",["require","exports","module","ReactDOM","assert","React","lib/ui/primitives/Button","framework/tx","cx","framework/i18n","media_more_button_css","modal","report_modal"],function(e,t,n){var r=e("ReactDOM"),i=e("assert"),s=e("React"),o=e("lib/ui/primitives/Button"),u=e("framework/tx"),a=u.tx,f=u.txp,l=e("cx"),c=e("framework/i18n").i18n;e("media_more_button_css");var h=n.exports=s.createClass({open:function(t){var n=t.target;e("modal").showConfirm(n,p({isVideo:this.props.isVideo,mediaCode:this.props.mediaCode,mediaId:this.props.mediaId,mediaUrl:this.props.mediaUrl,hideViewPhotoPage:this.props.hideViewPhotoPage}))},render:function(){return r.div({className:"mediaMoreButtonContainer",children:r.a({className:"mediaMoreButton",onClick:this.open.bind(this),children:" "})})}}),p=s.createClass({doReport:function(){e("report_modal").show(this.props.mediaId)},render:function(){var e={dropdownLinkHover:!0},t=[r.li({className:"negative",children:r.a({onClick:this.doReport.bind(this),className:l(e),children:a({children:["Report inappropriate"]})})})];if(!this.props.hideViewPhotoPage){var n;this.props.isVideo?n=a({children:["View Video Page"]}):n=a({children:["View Photo Page"]}),t.push(r.li({children:r.a({href:"/p/"+this.props.mediaCode+"/",className:l(e),target:"_blank",children:n})}))}return r.div({className:"dropdown mediaMoreDropdown",children:[r.i({className:"right"}),r.ul({className:"dropdownOptionList",children:t})]})}})}),define("ReactBinding",["require","exports","module"],function(e,t,n){function r(e,t){this.value=e,this.update=t}r.forState=function(e,t){return new r(e.state[t],e.stateKeyUpdater(t))},r.BindableMixin={bindState:function(e){return r.forState(this,e)}},n.exports=r}),define("lib/ui/primitives/FancyImage",["require","exports","module","ReactDOM","React"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=i.createClass({render:function(){var e=this.props.imgStyle?"img-"+this.props.imgStyle:"",t=r.span({className:"img "+e+" "+this.props.extraClasses,style:{backgroundImage:"url("+this.props.imgURL+");"},children:[r.img({src:this.props.imgURL,onerror:"imageFallback(this);"}),r.b({})]});return this.props.linkToUrl?r.a({href:this.props.linkToUrl,children:t}):t}});n.exports=s}),define("lib/ui/common/UserMenu",["require","exports","module","ReactDOM","React","lib/ui/primitives/FancyImage","framework/fullpage","framework/tx"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("lib/ui/primitives/FancyImage"),o=e("framework/fullpage").FastLink,u=e("framework/tx").tx,a=i.createClass({render:function(){return r.li({id:"link_profile",className:"link-profile has-dropdown",children:[r.a({href:"javascript:;",children:[s({imgURL:this.props.profilePicURL,imgStyle:"outset",extraClasses:"current-user-avatar"}),r.strong({children:this.props.username})]}),r.div({className:"dropdown",children:[r.i({}),r.ul({role:"navigation",children:[r.li({children:o({href:"/"+this.props.username,children:[u({children:["View Profile"]})]})}),r.li({children:r.a({href:"/accounts/edit/",children:u({children:["Edit Profile"]})})}),r.li({children:r.a({href:"/accounts/badges/",children:u({children:["Badges"]})})}),r.li({children:r.a({href:"/accounts/logout/",children:u({children:["Log Out"]})})})]})]})]})}});n.exports=a}),define("lib/ui/common/PrereleaseToggler",["require","exports","module","ReactDOM","React","cx"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("cx"),o=i.createClass({getInitialState:function(){return{open:!1}},onToggle:function(e){var t=document.location.host,n="/__prerelease/";e?n+="enable/":n+="disable/",$.post(n,{},function(){window.location.reload()})},onToggleOpen:i.autoBind(function(e){this.updateState({open:!this.state.open}),e.preventDefault()}),render:function(){if(!this.props.isStaff)return r.div({});var e={"internal-settings":!0,"has-dropdown":!0,"on-prerelease":this.props.prerelease,"dropdown-open":this.state.open},t="",n=null,i=null;return this.props.prerelease?i=r.span({style:{position:"absolute",right:10},dangerouslySetInnerHTML:{__html:"&#10004;"}}):n=r.span({style:{position:"absolute",right:10},dangerouslySetInnerHTML:{__html:"&#10004;"}}),r.div({className:s(e),onClick:this.onToggleOpen,children:[r.a({href:"#",children:r.strong({children:this.props.prerelease?"Prerelease":"Production"})}),r.div({className:"dropdown",children:[r.i({}),r.ul({children:[r.li({children:r.strong({children:"View site in:"})}),r.li({children:r.a({className:"toggle-prerelease",href:"javascript:;",onClick:this.onToggle.bind(this,!1),children:["Production",n]})}),r.li({children:r.a({className:"toggle-prerelease",href:"javascript:;",onClick:this.onToggle.bind(this,!0),children:["Prerelease",i]})})]})]})]})}});n.exports=o}),define("ReactForms",["require","exports","module","ReactDOM","React","ReactDOMIDOperations","ReactBinding","copyProperties"],function(e,t,n){function a(e,t){return e.onChange=e.onKeyDown=e.onKeyUp=e.onMouseDown=e.onMouseUp=t,e}function p(e){var t=e.getValueState();if(!e.refs||t===undefined)return;s.updatePropertyByID(e.refs.field._rootDomId,"value",t)}function k(e){if(!e)return C;var t={};return u(t,C),u(t,e),t}function L(e,t,n,r){if(t[n]&&r)for(var i in t){if(!t.hasOwnProperty(i))continue;e[i]=i===n}return e}function A(e,t){for(var n in t){if(!t.hasOwnProperty(n))continue;if(e[n])return n}return!1}var r=e("ReactDOM"),i=e("React"),s=e("ReactDOMIDOperations"),o=e("ReactBinding"),u=e("copyProperties"),f={getValueBinding:function(){return this.props.valueBinding},getValueState:function(){var e=this.getValueBinding();return e?e.value:c.getValueState.call(this)},handleChange:function(){var e=this.getValueBinding();return e&&e.update(this.getValue()),c.handleChange.call(this)}},l={getValueBinding:function(){return this.props.form?this.props.form.getBindingFor(this.props.name):f.getValueBinding.call(this)},handleSubmit:function(){this.props.form&&this.props.form.submit(this.props.name)}},c={ENTER_KEY:13,getValueState:function(){return this.props.value},handleChange:function(){var e=this.getValue();this.props.onValueChange&&this.props.onValueChange(e)},handleSubmit:function(){this.props.onSubmit&&this.props.onSubmit()},handleKeyUp:function(e){e.nativeEvent.keyCode===this.ENTER_KEY?this.handleSubmit():this.handleChange()},getProps:function(e){return u({},this.props,a(e,this.handleChange.bind(this)),{onKeyUp:this.handleKeyUp.bind(this)})}},h={};u(h,c,f,l);var d=i.createClass({mixins:[h],getValue:function(){return this.refs.field.getDOMNode().value},render:function(){var e=this.getProps({type:"text",ref:"field",value:this.getValueState()});return p(this),r.input(e)}}),v=i.createClass({mixins:[h],getValue:function(){return this.refs.field.getDOMNode().value},render:function(){var e=this.getProps({type:"password",ref:"field",value:this.getValueState()});return p(this),r.input(e)}}),m=i.createClass({mixins:[h],getValue:function(){return this.refs.field.getDOMNode().value},render:function(){var e=this.getProps({type:"file",ref:"field",value:this.getValueState()});return r.input(e)}}),g=i.createClass({mixins:[h],getValue:function(){return this.refs.field.getDOMNode().value},render:function(){var e=this.getProps({ref:"field",content:this.getValueState()});return e.onKeyUp=this.handleChange.bind(this),p(this),r.textarea(e)}}),y=i.createClass({render:function(){return r.input({type:"button",value:this.props.caption,onClick:this.props.onSubmit})}}),b=i.createClass({handleClick:function(){return this.props.form?(this.props.form.submit(),!1):this.props.onSubmit()},render:function(){return this.transferPropsTo(r.input({type:"submit",value:this.props.caption,onClick:this.handleClick.bind(this)}))}}),w=i.createClass({handleClick:function(){return this.props.form?(this.props.form.submit(),!1):this.props.onSubmit()},render:function(){return r.input({type:"image",src:this.props.src,onClick:this.handleClick.bind(this)})}}),E=i.createClass({handleClick:function(){return this.props.form?(this.props.form.reset(),!1):this.props.onSubmit()},render:function(){return r.input({type:"reset",value:this.props.caption,onClick:this.handleClick.bind(this)})}}),S=i.createClass({mixins:[h],getValue:function(){return this.refs.field.getDOMNode().value},render:function(){var e=[];for(var t in this.props.items){if(!this.props.items.hasOwnProperty(t))continue;e.push(r.option({selected:this.getValueState()===t?"selected":undefined,value:t,content:this.props.items[t]}))}var n=this.getProps({ref:"field"});return r.select(n,e)}}),x={getValue:function(){return this.refs.field.getDOMNode().checked},render:function(){var e=this.getProps({type:this.getType(),ref:"field",checked:this.getValueState()?"checked":undefined});return r.input(e)}},T=i.createClass({mixins:[h,x],getType:function(){return"checkbox"}}),N=i.createClass({mixins:[h,x],getType:function(){return"radio"}}),C={getUpdatedFormData:function(e,t,n){return e[t]=n,e},updateSingleField:function(e,t){this.setState({formData:this.getUpdatedFormData(this.getFormData(),e,t)})},updateForm:function(e){var t=this.getFormData();for(var n in e){if(!e.hasOwnProperty(n))continue;t=this.getUpdatedFormData(t,n,e[n])}this.setState({formData:t})},getFormData:function(){return this.state&&this.state.formData||this.getFormDefaults()},getFormDefaults:function(){return{}},submit:function(){},reset:function(){this.updateForm(this.getFormDefaults())},getBindingFor:function(e){return new o(this.getFormData()[e],this.updateSingleField.bind(this,e))}};n.exports={ValueChangeMixin:c,ValueBindingMixin:f,FormFieldMixin:h,InputText:d,InputPassword:v,InputFile:m,InputTextarea:g,InputButton:y,InputSubmit:b,InputImage:w,InputReset:E,InputSelect:S,CheckedMixin:x,InputCheckbox:T,InputRadio:N,FormMixin:C,getFormMixin:k,updateRadioGroup:L,getRadioGroupValue:A}}),define("hasArrayNature",["require","exports","module"],function(e,t,n){function r(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"length"in e&&!("setInterval"in e)&&(Object.prototype.toString.call(e)==="[object Array]"||"callee"in e||"item"in e)}n.exports=r}),define("getObjectValues",["require","exports","module","hasArrayNature"],function(e,t,n){function i(e){var t=[];for(var n in e)t.push(e[n]);return t}var r=e("hasArrayNature");n.exports=i}),define("ReactLayer",["require","exports","module","ReactDOM","ReactCurrentOwner","ReactEvent","ReactMount","getObjectValues","emptyFunction","merge","mixInto","throwIf"],function(e,t,n){function h(e,t){var n=e.propDeclarations,r=e.displayName;for(var i in n){var s=n[i];s(t,i,r)}}function v(e,t){var n=e.prototype;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];d.hasOwnProperty(r)?d[r](e,i):n[r]=i}}var r=e("ReactDOM"),i=e("ReactCurrentOwner"),s=e("ReactEvent"),o=e("ReactMount"),u=e("getObjectValues"),a=e("emptyFunction"),f=e("merge"),l=e("mixInto"),c=e("throwIf"),p={construct:function(e,t){this.props=e||{},typeof t!="undefined"&&(this.props.children=t),this.props.owner=i.current},immutableProps:{},getDefaultEnabledBehaviors:function(){return{}},createLayer:null,receiveProps:null,mountLayer:function(){this.constructor.propDeclarations&&h(this.constructor,this.props),this.container=document.createElement("div"),this._rootDomId=o.registerContainer(this.container),this.reactContent=this.wrapReactContent(this.props.children),this.reactContent.mountInContainerNode(this._rootDomId,this.container),this.layer=this.createLayer(this.container),c(!this.layer,"`createLayer` did not return a layer."),this.layerSubscriptions=[],this.layerSubscribe(["show","hide"],function(e){this.props.onToggle&&this.props.onToggle(e==="show")}.bind(this))},setProps:function(e){this.replaceProps(f(this.props,e))},replaceProps:function(e){this.constructor.propDeclarations&&h(this.constructor,e);var t;for(t in this.immutableProps)c(this.props[t]!==e[t],"`"+t+"` is not mutable.");var n=this.reactContent,r=this.wrapReactContent(e.children);n.replaceProps(r.props),this.receiveProps(e),this.props=e},enumerateBehaviors:function(e){return e=this.getEffectiveBehaviors(e),u(e).filter(a.thatReturnsArgument)},updateBehaviors:function(e){var t=this.getEffectiveBehaviors(this.props.behaviors),n=this.getEffectiveBehaviors(e),r;for(r in t)n[r]||this.layer.disableBehavior(t[r]);for(r in n){var i=t[r],s=n[r];if(i&&s){c(i!==s,"Do not reuse keys for different behaviors: "+r);continue}i&&this.layer.disableBehavior(i),s&&this.layer.enableBehavior(s)}},getEffectiveBehaviors:function(e){return f(this.getDefaultEnabledBehaviors(),e)},unmountLayer:function(){this.reactContent.unmountComponent(),this.layer.destroy(),delete this.reactContent,delete this.layer,this.container.innerHTML="";while(this.layerSubscriptions.length)this.layerSubscriptions.pop().unsubscribe();var e=this.props;e.ref!=null&&e.owner.refs[e.ref]===this&&e.owner.detachRef(e.ref)},layerSubscribe:function(e,t){this.layerSubscriptions.push(this.layer.subscribe(e,function(e,n){s.isEnabled()&&t(e,n)}))},getNodeForOwnerRef:function(e){return this.props.owner.refs[e].getDOMNode()},wrapReactContent:function(e){return r.div({children:e})}},d={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)v(e,t[n])},props:function(e,t){e.propDeclarations=t}},m={createClass:function(e){var t=function(e,t){this.construct(e,t)};l(t,p),v(t,e);var n=function(e,n){var r=e||this;return new t(r,n)};return n.componentConstructor=t,n.originalSpec=e,n}};n.exports=m}),define("ReactLayeredComponentMixin",["require","exports","module","ReactCurrentOwner"],function(e,t,n){var r=e("ReactCurrentOwner"),i={componentWillMount:function(){this._renderedLayers={}},componentDidMount:function(){this._updateLayers()},componentDidUpdate:function(){this._updateLayers()},componentWillUnmount:function(){var e=this._renderedLayers;for(var t in e)e.hasOwnProperty(t)&&(e[t]&&e[t].unmountLayer(),delete this._renderedLayers[t]);delete this._renderedLayers},_updateLayers:function(){var e=this._renderedLayers;r.current=this;var t=this.renderLayers()||{};r.current=null;var n;for(n in t){var i=t[n];if(i&&t.hasOwnProperty(n)){var s=e.hasOwnProperty(n)?e[n]:null;s&&s.constructor===i.constructor?i.props.isStatic||s.replaceProps(i.props):(s&&s.unmountLayer(),i.mountLayer(),this._renderedLayers[n]=i)}}for(n in e)e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||!t[n])&&(e[n]&&e[n].unmountLayer(),delete this._renderedLayers[n])}};n.exports=i}),define("BehaviorsMixin",["require","exports","module","copyProperties"],function(e,t,n){function i(e){this._behavior=e,this._enabled=!1}function o(e){return e.__BEHAVIOR_ID||(e.__BEHAVIOR_ID=s++),e.__BEHAVIOR_ID}var r=e("copyProperties");r(i.prototype,{enable:function(){this._enabled||(this._enabled=!0,this._behavior.enable())},disable:function(){this._enabled&&(this._enabled=!1,this._behavior.disable())}});var s=1,u={enableBehavior:function(e){this._behaviors||(this._behaviors={});var t=o(e);return this._behaviors[t]||(this._behaviors[t]=new i(new e(this))),this._behaviors[t].enable(),this},disableBehavior:function(e){if(this._behaviors){var t=o(e);this._behaviors[t]&&this._behaviors[t].disable()}return this},enableBehaviors:function(e){return e.forEach(this.enableBehavior.bind(this)),this},destroyBehaviors:function(){if(this._behaviors){for(var e in this._behaviors)this._behaviors[e].disable();this._behaviors={}}}};n.exports=u}),define("framework/Layer",["require","exports","module","copyProperties","BehaviorsMixin"],function(e,t,n){function o(e,t){this.listeners={},this.$Layer_configure(e,t)}var r=e("copyProperties"),i=e("BehaviorsMixin"),s=0;o.prototype.$Layer_configure=function(e,t){this.$Layer_root=t,e.addedBehaviors&&this.enableBehaviors(e.addedBehaviors),this.$Layer_root.style.zIndex=100,this.$Layer_insert()},o.prototype.$Layer_insert=function(){this.$Layer_root.id||(this.$Layer_root.id="layer"+s++),document.body.appendChild(this.$Layer_root)},o.prototype.destroy=function(){document.body.removeChild(this.$Layer_root),this.destroyBehaviors()},o.prototype.hide=function(){this.inform("hide")},o.prototype.inform=function(e){(this.listeners[e]||[]).map(function(t){t(e)})},o.prototype.subscribe=function(e,t){return e.map(function(e){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}.bind(this)),{unsubscribe:function(){e.map(function(e){var n=this.listeners[e].indexOf(t);if(n<0)return;this.listeners[e].splice(n,1)}.bind(this))}.bind(this)}},o.prototype.getRoot=function(){return this.$Layer_root},r(o.prototype,i),n.exports=o}),define("framework/ModalLayer",["require","exports","module"],function(e,t,n){function r(){}r.prototype.enable=function(){document.body.style.overflow="hidden"},r.prototype.disable=function(){document.body.style.overflow="auto"},n.exports=r}),define("lib/ui/primitives/VerticalCenter_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/primitives/VerticalCenter",".VerticalCenter {\n  display: table;\n  height: 100%;\n  width: 100%; }\n\n.vcCell {\n  display: table-cell;\n  vertical-align: middle; }\n","")}),define("lib/ui/primitives/VerticalCenter",["require","exports","module","ReactDOM","React","./VerticalCenter_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React");e("./VerticalCenter_css");var s=i.createClass({render:function(){return this.transferPropsTo(r.div({className:"VerticalCenter",children:r.div({className:"vcCell",children:this.props.children})}))}});n.exports=s}),define("lib/layers/IGDialog_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/layers/IGDialog",'.igModalDialog .igDialogInner,\n.igModalDialog .igDialogHeader {\n  border: none;\n  margin: 0; }\n.igModalDialog .igDialogHeader {\n  -webkit-border-radius: 3px 3px 0 0;\n  border-radius: 3px 3px 0 0; }\n\n.igDialogLayer {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  padding: 16px;\n  background-color: rgba(1, 1, 1, 0.725);\n  z-index: 100;\n  overflow: auto; }\n\n.touch .igDialogLayer {\n  cursor: pointer; }\n\n.igDialogLayer.vcCell {\n  padding: 16px; }\n\n.igdContentWrap {\n  padding: 8px 32px; }\n\n.igDialogContent {\n  margin: 0 auto;\n  background: #fdfdfd;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);\n  -webkit-background-clip: padding-box;\n  background-clip: padding-box; }\n\n.igDialogHeader {\n  position: relative;\n  height: 44px;\n  border: 1px solid #1c5380;\n  border-width: 1px 1px 0;\n  -webkit-box-shadow: 0 -1px 0 #06365f inset, 0 1px 0 rgba(255,255,255,0.2) inset;\n  -moz-box-shadow: 0 -1px 0 #06365f inset, 0 1px 0 rgba(255,255,255,0.2) inset;\n  box-shadow: 0 -1px 0 #06365f inset, 0 1px 0 rgba(255,255,255,0.2) inset;\n  -webkit-border-radius: 4px 4px 0 0;\n  border-radius: 4px 4px 0 0;\n  background-color: #517fa4;\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), -webkit-gradient(linear, left top, left bottom, from(#517fa4), to(#306088));\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), -webkit-linear-gradient(top, #517fa4, #306088);\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), -moz-linear-gradient(top, #517fa4, #306088);\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), -o-linear-gradient(top, #517fa4, #306088);\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), -ms-linear-gradient(top, #517fa4, #306088);\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), linear-gradient(top, #517fa4, #306088);\n  background-position: 50% 50%;\n  margin: -1px -1px 1px; }\n\n.igDialogTitle {\n  margin: 0;\n  line-height: 44px; }\n\n.formAdjacent label {\n  display: inline-block;\n  width: 35%; }\n\n.igDialogClose {\n  position: fixed;\n  right: 8px;\n  top: 0;\n  display: block;\n  font: 30px/30px "Helvetica Neue", Arial, Helvetica, sans-serif;\n  font-weight: bold;\n  font-style: normal;\n  color: #fff;\n  cursor: pointer; }\n\n.igDialogTitle {\n  color: #fff;\n  font-size: 18px;\n  text-align: center;\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.4); }\n\n@media screen and (max-width: 920px) {\n  .igDialogLayer {\n    padding: 32px; } }\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .igDialogClose,\n  .igdContentWrap {\n    -webkit-transform: translate3d(0, 0, 0);\n    -moz-transform: translate3d(0, 0, 0);\n    -o-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0); } }\n',"")}),define("lib/layers/IGDialog",["require","exports","module","ReactDOM","React","ReactLayer","ReactLayeredComponentMixin","cx","framework/Layer","framework/ModalLayer","lib/ui/primitives/VerticalCenter","./IGDialog_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("ReactLayer"),o=e("ReactLayeredComponentMixin"),u=e("cx"),a=e("framework/Layer"),f=e("framework/ModalLayer"),l=e("lib/ui/primitives/VerticalCenter");e("./IGDialog_css");var c=s.createClass({createLayer:function(e){return new a({addedBehaviors:[f]},e)},receiveProps:function(e){}}),h=i.createClass({mixins:[o],killClick:function(e){e.stopPropagation()},hide:i.autoBind(function(){this.props.visibleBinding.update(!1)}),onToggle:i.autoBind(function(e){e||this.hide()}),render:function(){return r.span({})},renderLayers:function(){return this.props.visibleBinding.value?{layer:c({onToggle:this.onToggle,children:[this.renderContent()]})}:{layer:null}},renderContent:function(){var e=this.transferPropsTo(r.div({className:u({igDialogContent:!0}),onClick:this.killClick,children:this.props.children}));return r.div({className:u({igDialogLayer:!0}),onClick:this.hide,children:[l({children:[r.div({className:"igdContentWrap",children:e})]}),r.i({className:"igDialogClose",children:""})]})}});n.exports=h}),define("lib/FadeOnChange",["require","exports","module","ReactDOM","React","lib/TimeoutComponentMixin"],function(e,t,n){function o(e){return e["-webkit-transition"]=e.transition,e["-moz-transition"]=e.transition,e}var r=e("ReactDOM"),i=e("React"),s=e("lib/TimeoutComponentMixin");n.exports=i.createClass({mixins:[s],getInitialState:function(){return{children:this.props.children,nextChildren:null,opacity:1}},componentWillReceiveProps:function(e){var t=!!this.state.nextChildren,n=e.children.length!==this.state.children.length;for(var r=0;r<e.children.length&&!n;r++)n=n||e.children[r]!==this.state.children[r];n&&(this.setState({nextChildren:e.children}),t||(this.setState({opacity:0}),this.setTimeout(this.completeTransition.bind(this),this.props.time*1e3)))},completeTransition:function(){this.updateState({children:this.state.nextChildren,nextChildren:null,opacity:1})},getStyle:function(){return o({opacity:this.state.opacity,transition:"opacity "+this.props.time+"s linear;"})},render:function(){return r.span({style:this.getStyle(),children:this.state.children})}})}),define("lib/layers/login_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/layers/login",".LoginDialogSubmit, .LoginDialogSubmit:visited {\n  color: #fff; }\n.LoginDialogSubmit:hover {\n  color: #fff; }\n.ButtonActive.LoginDialogSubmit, .button-active.LoginDialogSubmit, .active.LoginDialogSubmit, .LoginDialogSubmit:active, html.touch .pressed.LoginDialogSubmit {\n  color: rgba(255, 255, 255, 0.8);\n  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3); }\n\n.LoginDialogSubmit {\n  background-color: #6bb38a;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#6bb38a), to(#3d8b5f));\n  background-image: -webkit-linear-gradient(top, #6bb38a, #3d8b5f);\n  background-image: -moz-linear-gradient(top, #6bb38a, #3d8b5f);\n  background-image: -o-linear-gradient(top, #6bb38a, #3d8b5f);\n  background-image: -ms-linear-gradient(top, #6bb38a, #3d8b5f);\n  background-image: linear-gradient(top, #6bb38a, #3d8b5f);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr='#6bb38a', EndColorStr='#3d8b5f');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #1e693f; }\n  .ButtonActive.LoginDialogSubmit, .button-active.LoginDialogSubmit, .active.LoginDialogSubmit, .LoginDialogSubmit:active, html.touch .pressed.LoginDialogSubmit {\n    background: #3a845a; }\n  .LoginDialogSubmit {\n    border: 1px solid #3d8b5f; }\n  .ButtonActive.LoginDialogSubmit, .button-active.LoginDialogSubmit, .active.LoginDialogSubmit, .LoginDialogSubmit:active, html.touch .pressed.LoginDialogSubmit {\n    border-color: #2d6847; }\n\n.LoginDialog {\n  max-width: 400px; }\n  .LoginDialog.igDialogContent label {\n    color: #06365f; }\n\nh3.LoginDialogMessage {\n  background-color: rgba(221, 221, 221, 0.15);\n  border-bottom: 1px solid #c3cfd9;\n  box-shadow: 0 1px 5px rgba(153, 153, 153, 0.2);\n  color: #3f729b;\n  line-height: 64px;\n  margin: 0;\n  text-align: center;\n  vertical-align: middle; }\n\n.LoginDialogForgot {\n  text-decoration: underline; }\n\n.LoginDialogError {\n  color: #f93855; }\n\n.LoginDialogIframe {\n  border: none;\n  width: 100%;\n  height: 182px; }\n\n.dialog.loginForm {\n  border: none;\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none; }\n","")}),define("lib/layers/login",["require","exports","module","ReactDOM","React","ReactForms","./IGDialog","lib/FadeOnChange","framework/tx","framework/i18n","./login_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("ReactForms"),o=e("./IGDialog"),u=e("lib/FadeOnChange"),a=e("framework/tx").tx,f=e("framework/i18n").i18n,l=s.InputText,c=s.InputPassword,h=s.InputSubmit;e("./login_css");var p=i.createClass({mixins:[s.getFormMixin({submit:function(){var e="/accounts/login/ajax/",t=this.getFormData();t.intent=this.props.intent,$.post(e,t,function(e){window.top.postMessage(JSON.stringify({loginResponse:e}),"*")}.bind(this))}})],render:function(){return r.div({className:"dialog loginForm",children:r.div({className:"dialog-main",children:r.div({className:"adjacent",children:[r.p({children:[r.label({children:a({children:["Username:"]})}),l({form:this,name:"username",maxlength:"30",autocapitalize:"off",autocorrect:"off"})]}),r.p({children:[r.label({children:a({children:["Password:"]})}),c({form:this,autocapitalize:"off",autocorrect:"off",name:"password"})]}),r.p({className:"form-actions",children:[r.a({href:"/accounts/password/reset/",className:"LoginDialogForgot",target:"_top",children:a({children:["Forgot your password?"]})}),h({form:this,caption:f("Log in"),className:"LoginDialogSubmit"})]})]})})})}}),d=i.createClass({getInitialState:function(){return{message:this.props.message||this.props.children}},componentWillReceiveProps:function(e){this.props.message!==e.message&&this.updateState({message:e.message})},componentDidMount:function(){window.addEventListener("message",this.handleMessage,!1)},componentWillUnmount:function(){window.removeEventListener("message",this.handleMessage,!1)},handleMessage:i.autoBind(function(e){if(!this.props.visibleBinding.value)return;e=JSON.parse(e.data),e.loginResponse&&this.onLoginResponse(e.loginResponse)}),onLoginResponse:function(e){if(!e.authenticated){this.updateState({message:r.span({className:"LoginDialogError",children:a({children:["Your username or password was incorrect."]})})});return}this.props.onLoggedIn?this.props.onLoggedIn():window.location.reload()},render:function(){var e=null,t="https://instagram.com/accounts/login/ajax/";return this.state.message&&(e=r.h3({className:"LoginDialogMessage",children:u({time:".25",children:[this.state.message]})})),this.transferPropsTo(o({className:"igModalDialog LoginDialog",children:[r.div({className:"igDialogInner",children:[r.header({className:"igDialogHeader",children:r.h1({className:"igDialogTitle LoginDialogTitle",children:a({children:["Log in"]})})}),e,r.iframe({src:t,className:"LoginDialogIframe"})]})]}))}});n.exports={LoginDialog:d,LoginForm:p}}),define("lib/ui/common/Bluebar",["require","exports","module","ReactDOM","React","ReactBinding","cx","framework/fullpage","lib/ui/common/UserMenu","lib/ui/common/PrereleaseToggler","lib/layers/login","framework/tx","framework/i18n"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("ReactBinding"),o=e("cx"),u=e("framework/fullpage").FastLink,a=e("lib/ui/common/UserMenu"),f=e("lib/ui/common/PrereleaseToggler"),l=e("lib/layers/login").LoginDialog,c=e("framework/tx").tx,h=e("framework/i18n").i18n,p=i.createClass({mixins:[s.BindableMixin],getInitialState:function(){return{loginShown:!1}},render:function(){var e=null,t=null;return this.props.viewer?t=a({profilePicURL:this.props.viewer.profile_pic_url,username:this.props.viewer.username}):e=r.li({id:"link_profile",className:"link-signin",children:r.a({href:"javascript:;",className:"loginLink",onClick:this.stateUpdater({loginShown:!0}),children:[r.i({}),r.strong({children:c({children:["Log in"]})})]})}),r.header({className:"top-bar top-bar-new",children:[l({onLoggedIn:this.onLoggedIn,visibleBinding:this.bindState("loginShown"),intent:"bluebar"}),r.div({className:"top-bar-wrapper",children:[r.h1({className:"logo",children:r.a({href:"/",children:"Instagram"})}),r.div({className:"top-bar-left",children:r.ul({className:"top-bar-actions",children:r.li({children:u({className:o({"top-bar-home":!0,"link-active":this.props.isHome}),href:"/",label:h("Home"),children:[r.i({})]})})})}),r.div({className:"top-bar-right account-state",id:"top_bar_right",children:[r.ul({className:"top-bar-actions",children:[e,t]}),f({isStaff:this.props.viewer&&this.props.viewer.is_staff,prerelease:this.props.prerelease})]})]})]})}});n.exports=p}),define("lib/ui/common/Footer",["require","exports","module","ReactDOM","React","framework/tx"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("framework/tx").tx,o=i.createClass({render:function(){return r.footer({className:"page-footer",role:"contentinfo",children:r.div({className:"wrapper",children:[r.nav({children:r.ul({children:[r.li({children:r.a({href:"/about/us",children:s({children:["About us"]})})}),r.li({children:r.a({href:"http://help.instagram.com/",children:s({children:["Support"]})})}),r.li({children:r.a({href:"http://blog.instagram.com/",children:s({children:["Blog"]})})}),r.li({children:r.a({href:"http://instagram.com/press/",children:s({children:["Press"]})})}),r.li({children:r.a({href:"/developer/",children:"API"})}),r.li({children:r.a({href:"/about/jobs/",children:s({children:["Jobs"]})})}),r.li({children:r.a({href:"/about/legal/privacy/",children:s({children:["Privacy"]})})}),r.li({children:r.a({href:"/about/legal/terms/",children:s({children:["Terms"]})})})]})}),r.p({className:"copyright",children:[""," ",(new Date).getFullYear()," ","Instagram"]})]})})}});n.exports=o}),define("lib/ui/common/Chrome",["require","exports","module","ReactDOM","React","lib/ui/common/Bluebar","lib/ui/common/Footer","framework/fullpage","sprintf-0.7"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("lib/ui/common/Bluebar"),o=e("lib/ui/common/Footer"),u=e("framework/fullpage").FullPage,a=e("sprintf-0.7").sprintf,f=i.createClass({render:function(){var e=this.transferPropsTo(s({viewer:this.props.viewer,prerelease:this.props.prerelease})),t=null;if(this.props.analyticsTitle){var n="var _gaq = _gaq || [];\n_gaq.push(['_setAccount', 'UA-18105282-1']);\n_gaq.push(['_setDomainName', 'none']);\n_gaq.push(['_setAllowLinker', true]);\n"+a('_gaq.push(["_set", "title", %s]);\n_gaq.push(["_setCustomVar", 1, "page", %s, 3]);\n',JSON.stringify(this.props.analyticsTitle),JSON.stringify(this.props.analyticsTitle))+"_gaq.push(['_trackPageview']);\n"+"(function() {\n"+"var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n"+"ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n"+"var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n"+"})();\n";n='<script type="text/javascript">'+n+"</script>",t=r.span({dangerouslySetInnerHTML:{__html:n}})}var i=null;if(this.props.meta){i="";for(var f in this.props.meta){if(!this.props.meta.hasOwnProperty(f))continue;i+=a("<meta property=%s content=%s />",JSON.stringify(f),JSON.stringify(this.props.meta[f]))}}var l=null;return this.props.hideFooter||(l=o({})),this.transferPropsTo(u({dangerouslyAddHeadMarkup:i,children:[r.div({className:"root",children:[r.div({className:"page",children:[e,r.div({className:"main",children:this.props.children})]}),l,t]})]}))}});n.exports=f}),define("framework/serialization",["require","exports","module","React","throwIf"],function(e,t,n){var r=e("React"),i=e("throwIf"),s=null,o={isFreezing:!1,isThawing:!1},u={getFreezer:function(){return s||o},getInitialState:function(){if(this.getFreezer().isThawing){var e=this.getFrozenState();if(e)return this.thawState&&(e=this.thawState(e)),e}return this.getDefaultInitialState()},getOwnerDepth:function(){var e=0,t=this.props.owner;while(t)e++,t=t.props.owner;return e},getIdentity:function(){return this._rootDomId+":"+this.getOwnerDepth()},getFrozenState:function(){return this.getFreezer().currentFrozenState[this.getIdentity()]},componentWillUpdate:function(){if(!this.getFreezer().isFreezing)return;var e=this.state;this.freezeState&&(e=this.freezeState(this.getFreezer().intent)),this.getFreezer().currentFrozenState[this.getIdentity()]=e}},a=r.createClass({isFreezing:!1,isThawing:!1,currentFrozenState:null,intent:null,freeze:function(e){this.isFreezing=!0,this.isThawing=!1,this.intent=e,this.currentFrozenState={},s=this,this.reconcile(),s=null,this.isFreezing=!1;var t=this.currentFrozenState;return this.currentFrozenState=null,this.intent=null,t},render:function(){return this.props.children[0]},componentWillMount:function(){this.isThawing=!!this.props.frozenState,this.currentFrozenState=this.props.frozenState||null,i(!!s,"Cannot nest Freezers"),s=this},componentDidMount:function(){this.isThawing=!1,this.currentFrozenState=null,s=null},componentWillReceiveProps:function(e){i(this.props.frozenState!==e.frozenState,"You can't change frozenState w/o remounting.")}});n.exports={FreezableMixin:u,Freezer:a}}),define("lib/ui/media/LikePopAnimation_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/media/LikePopAnimation",".LikePopAnimation {\n  -webkit-animation: like-pop .3s ease-out 0s;\n  -moz-animation: like-pop .3s ease-out 0s;\n  -o-animation: like-pop .3s ease-out 0s;\n  animation: like-pop .3s ease-out 0s; }\n\n@-webkit-keyframes 'like-pop' {\n  0% {\n    -webkit-background-size: 20% 20%;\n    background-size: 20% 20%;\n    opacity: 0.25; }\n\n  50% {\n    opacity: 0.9; }\n\n  100% {\n    -webkit-background-size: 40% 40%;\n    background-size: 40% 40%;\n    opacity: 0; } }\n\n@-moz-keyframes like-pop {\n  0% {\n    -webkit-background-size: 20% 20%;\n    background-size: 20% 20%;\n    opacity: 0.25; }\n\n  50% {\n    opacity: 0.9; }\n\n  100% {\n    -webkit-background-size: 40% 40%;\n    background-size: 40% 40%;\n    opacity: 0; } }\n\n@-ms-keyframes like-pop {\n  0% {\n    -webkit-background-size: 20% 20%;\n    background-size: 20% 20%;\n    opacity: 0.25; }\n\n  50% {\n    opacity: 0.9; }\n\n  100% {\n    -webkit-background-size: 40% 40%;\n    background-size: 40% 40%;\n    opacity: 0; } }\n\n@-o-keyframes like-pop {\n  0% {\n    -webkit-background-size: 20% 20%;\n    background-size: 20% 20%;\n    opacity: 0.25; }\n\n  50% {\n    opacity: 0.9; }\n\n  100% {\n    -webkit-background-size: 40% 40%;\n    background-size: 40% 40%;\n    opacity: 0; } }\n\n@keyframes 'like-pop' {\n  0% {\n    -webkit-background-size: 20% 20%;\n    background-size: 20% 20%;\n    opacity: 0.25; }\n\n  50% {\n    opacity: 0.9; }\n\n  100% {\n    -webkit-background-size: 40% 40%;\n    background-size: 40% 40%;\n    opacity: 0; } }\n","")}),define("lib/ui/media/LikePopAnimation",["require","exports","module","ReactDOM","React","cx","./LikePopAnimation_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("cx");e("./LikePopAnimation_css");var o=i.createClass({render:function(){return r.span({className:s({LikePopAnimation:this.props.animating,lbAnimation:!0})})}});n.exports=o}),define("lib/ui/primitives/IconButton_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/primitives/IconButton",".IconButton {\n  width: 44px;\n  height: 36px;\n  padding: 0 !important;\n  text-indent: -9999em; }\n\n.ibInner {\n  display: block;\n  height: 100%; }\n","")}),define("lib/ui/primitives/IconButton",["require","exports","module","ReactDOM","React","./IconButton_css","lib/ui/primitives/Button"],function(e,t,n){var r=e("ReactDOM"),i=e("React");e("./IconButton_css");var s=e("lib/ui/primitives/Button"),o=i.createClass({render:function(){return this.transferPropsTo(s({className:"IconButton",children:[r.span({className:"ibInner"}),this.props.children]}))}});n.exports=o}),define("lib/ui/media/LikeButton_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/media/LikeButton",'.Button.LikeButton {\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.2);\n  -webkit-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  -moz-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ; }\n  .ButtonActive.Button.LikeButton, .button-active.Button.LikeButton, .active.Button.LikeButton, .Button.LikeButton:active, html.touch .pressed.Button.LikeButton {\n    -webkit-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ;\n    -moz-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ;\n    box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ; }\n\n.Button.LikeButton {\n  background-color: #fafafa;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#fafafa), to(#eeeeee));\n  background-image: -webkit-linear-gradient(top, #fafafa, #eeeeee);\n  background-image: -moz-linear-gradient(top, #fafafa, #eeeeee);\n  background-image: -o-linear-gradient(top, #fafafa, #eeeeee);\n  background-image: -ms-linear-gradient(top, #fafafa, #eeeeee);\n  background-image: linear-gradient(top, #fafafa, #eeeeee);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#fafafa\', EndColorStr=\'#eeeeee\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6); }\n  .ButtonActive.Button.LikeButton, .button-active.Button.LikeButton, .active.Button.LikeButton, .Button.LikeButton:active, html.touch .pressed.Button.LikeButton {\n    background: #e9e9e9; }\n  .Button.LikeButton {\n    border: 1px solid #d6d6d6; }\n  .ButtonActive.Button.LikeButton, .button-active.Button.LikeButton, .active.Button.LikeButton, .Button.LikeButton:active, html.touch .pressed.Button.LikeButton {\n    border-color: #c6c6c6; }\n\n.Button.LikeButton .ibInner {\n  background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/MediaItem/MediaItem.png") no-repeat 4px 1px; }\n\n.lbLiked.LikeButton .ibInner {\n  background-position: -44px 1px; }\n\n.lbAnimation {\n  background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/p/glyph-heart-pop-big.png") no-repeat 50% 50%;\n  display: block;\n  position: absolute;\n  left: -1px;\n  top: 1px;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  z-index: 5;\n  pointer-events: none;\n  -webkit-background-size: 40% 40%;\n  background-size: 40% 40%; }\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .Button.LikeButton .ibInner {\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/MediaItem/MediaItem@2x.png");\n    background-size: 160px 480px; } }\n',"")}),define("lib/ui/media/LikeButton",["require","exports","module","React","cx","lib/ui/media/LikePopAnimation","lib/ui/primitives/IconButton","framework/setImmediate","framework/i18n","./LikeButton_css"],function(e,t,n){var r=e("React"),i=e("cx"),s=e("lib/ui/media/LikePopAnimation"),o=e("lib/ui/primitives/IconButton"),u=e("framework/setImmediate"),a=e("framework/i18n").i18n;e("./LikeButton_css");var f=r.createClass({getInitialState:function(){return{animating:!1}},componentWillReceiveProps:function(e){if(this.props.media.id!==e.media.id){this.replaceState(this.getInitialState());return}u(this.stateUpdater({animating:e.media.likes.viewer_has_liked}))},render:function(){var e=null;return this.props.animate&&(e=s({animating:this.state.animating})),this.transferPropsTo(o({label:a("Toggle like"),className:i({LikeButton:!0,lbLiked:this.props.media.likes.viewer_has_liked,ButtonActive:this.props.media.likes.viewer_has_liked}),children:[e]}))}});n.exports=f}),define("lib/io/sendCommentRequest",["require","exports","module"],function(e,t,n){var r=function(e,t,n){$.ajax({url:"/web/comments/"+e+"/add/",type:"POST",data:{comment_text:t},success:function(e){n(e.id)}})};n.exports=r}),define("lib/ui/common/Global_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/common/Global",'@charset "UTF-8";\n/* (c) 2012 Instagram, Inc, */\n/* @license\n * MyFonts Webfont Build ID 2164953, 2012-03-23T23:06:30-0400\n *\n * The fonts listed in this notice are subject to the End User License\n * Agreement(s) entered into by the website owner. All other parties are\n * explicitly restricted from using the Licensed Webfonts(s).\n *\n * You may obtain a valid license at the URLs below.\n *\n *\n * Webfont: Proxima Nova Regular by Mark Simonson\n * URL: http://www.myfonts.com/fonts/marksimonson/proxima-nova/regular/\n * Licensed pageviews: unlimited\n *\n * Webfont: Proxima Nova Semibold by Mark Simonson\n * URL: http://www.myfonts.com/fonts/marksimonson/proxima-nova/semibold/\n * Licensed pageviews: unlimited\n *\n * Webfont: Proxima Nova Bold Italic by Mark Simonson\n * URL: http://www.myfonts.com/fonts/marksimonson/proxima-nova/bold-it/\n * Licensed pageviews: unlimited\n *\n * Webfont: Proxima Nova Bold by Mark Simonson\n * URL: http://www.myfonts.com/fonts/marksimonson/proxima-nova/bold/\n * Licensed pageviews: unlimited\n *\n * Webfont: Proxima Nova Italic by Mark Simonson\n * URL: http://www.myfonts.com/fonts/marksimonson/proxima-nova/regular-it/\n * Licensed pageviews: unlimited\n *\n *\n * License: http://www.myfonts.com/viewlicense?type=web&buildid=2164953\n * Webfonts copyright: Copyright (c) Mark Simonson, 2005. All rights reserved.\n *\n *  2012 Bitstream Inc\n */\n@font-face {\n  font-family: \'proxima-nova\';\n  src: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-bold-webfont.eot");\n  src: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-bold-webfont.eot?#iefix") format("embedded-opentype"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-bold-webfont.woff") format("woff"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-bold-webfont.ttf") format("truetype"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-bold-webfont.svg#ProximaNovaBold") format("svg");\n  font-weight: bold;\n  font-style: normal; }\n\n@font-face {\n  font-family: \'proxima-nova\';\n  src: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-boldit-webfont.eot");\n  src: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-boldit-webfont.eot?#iefix") format("embedded-opentype"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-boldit-webfont.woff") format("woff"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-boldit-webfont.ttf") format("truetype"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-boldit-webfont.svg#ProximaNovaBoldItalic") format("svg");\n  font-weight: bold;\n  font-style: italic; }\n\n@font-face {\n  font-family: \'proxima-nova\';\n  src: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-reg-webfont.eot");\n  src: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-reg-webfont.eot?#iefix") format("embedded-opentype"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-reg-webfont.woff") format("woff"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-reg-webfont.ttf") format("truetype"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-reg-webfont.svg#ProximaNovaRegular") format("svg");\n  font-weight: normal;\n  font-style: normal; }\n\n@font-face {\n  font-family: \'proxima-nova\';\n  src: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-regit-webfont.eot");\n  src: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-regit-webfont.eot?#iefix") format("embedded-opentype"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-regit-webfont.woff") format("woff"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-regit-webfont.ttf") format("truetype"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-regit-webfont.svg#ProximaNovaRegularItalic") format("svg");\n  font-weight: normal;\n  font-style: italic; }\n\n@font-face {\n  font-family: \'proxima-nova\';\n  src: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-sbold-webfont.eot");\n  src: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-sbold-webfont.eot?#iefix") format("embedded-opentype"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-sbold-webfont.woff") format("woff"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-sbold-webfont.ttf") format("truetype"), url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/webfonts/proximanova-sbold-webfont.svg#ProximaNovaSemibold") format("svg");\n  font-weight: 600;\n  font-style: normal; }\n\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nnav,\nsection {\n  display: block; }\n\naudio,\ncanvas,\nvideo {\n  display: inline-block;\n  *display: inline;\n  *zoom: 1; }\n\naudio:not([controls]) {\n  display: none; }\n\n[hidden] {\n  display: none; }\n\nhtml {\n  font-size: 100%;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%; }\n\nhtml,\nbutton,\ninput,\nselect,\ntextarea {\n  font-family: sans-serif; }\n\nbody {\n  margin: 0; }\n\nh1 {\n  font-size: 2em; }\n\nabbr[title] {\n  border-bottom: 1px dotted; }\n\nb,\nstrong {\n  font-weight: bold; }\n\nblockquote {\n  margin: 1em 40px; }\n\ndfn {\n  font-style: italic; }\n\nmark {\n  background: #ff0;\n  color: #000; }\n\npre,\ncode,\nkbd,\nsamp {\n  font-family: monospace, serif;\n  _font-family: \'courier new\', monospace;\n  font-size: 1em; }\n\npre {\n  white-space: pre;\n  white-space: pre-wrap;\n  word-wrap: break-word; }\n\nq {\n  quotes: none; }\n\nq:before,\nq:after {\n  content: \'\';\n  content: none; }\n\nsmall {\n  font-size: 75%; }\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline; }\n\nsup {\n  top: -0.5em; }\n\nsub {\n  bottom: -0.25em; }\n\nul,\nol {\n  margin-left: 0;\n  padding: 0 0 0 40px; }\n\ndd {\n  margin: 0 0 0 40px; }\n\nnav ul,\nnav ol {\n  list-style: none;\n  list-style-image: none; }\n\nimg {\n  border: 0;\n  -ms-interpolation-mode: bicubic; }\n\nsvg:not(:root) {\n  overflow: hidden; }\n\nfigure {\n  margin: 0; }\n\nform {\n  margin: 0; }\n\nfieldset {\n  border: 1px solid #c0c0c0;\n  margin: 0 2px;\n  padding: 0.35em 0.625em 0.75em; }\n\nlegend {\n  border: 0;\n  padding: 0;\n  white-space: normal;\n  *margin-left: -7px; }\n\nbutton,\ninput,\nselect,\ntextarea {\n  font-size: 100%;\n  margin: 0;\n  vertical-align: baseline;\n  *vertical-align: middle; }\n\nbutton,\ninput {\n  line-height: normal; }\n\nbutton,\ninput[type="button"],\ninput[type="reset"],\ninput[type="submit"] {\n  cursor: pointer;\n  -webkit-appearance: button;\n  *overflow: visible; }\n\ninput[type="checkbox"],\ninput[type="radio"] {\n  box-sizing: border-box;\n  padding: 0;\n  *height: 13px;\n  *width: 13px; }\n\ninput[type="search"] {\n  -webkit-appearance: textfield;\n  -moz-box-sizing: content-box;\n  -webkit-box-sizing: content-box;\n  box-sizing: content-box; }\n  input[type="search"]::-webkit-search-decoration, input[type="search"]::-webkit-search-cancel-button {\n    -webkit-appearance: none; }\n\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  border: 0;\n  padding: 0; }\n\ntextarea {\n  overflow: auto;\n  vertical-align: top; }\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0; }\n\nhtml, body {\n  height: 100%; }\n\nhtml {\n  font-size: 62.5%;\n  -webkit-font-smoothing: antialiased; }\n\nbody {\n  background: #fff; }\n\na img, fieldset {\n  border: none; }\n\nfieldset {\n  padding: 0; }\n\ninput[type=submit],\ninput.submit {\n  font-weight: bold;\n  width: auto !important; }\n\ninput[type=image], input.image,\ninput[type=radio], input.radio,\ninput[type=checkbox], input.checkbox {\n  background: none !important;\n  border: none !important;\n  height: auto !important;\n  width: auto !important; }\n\nh1 img, h2 img, h3 img, h4 img, h5 img, h6 img {\n  margin: 0; }\n\nimg.left {\n  display: inline;\n  float: left !important; }\n\nimg.right {\n  display: inline;\n  float: right !important; }\n\ncaption, th {\n  text-align: left; }\n\n.hide {\n  display: none !important; }\n\n.show {\n  display: block !important; }\n\n.invisible {\n  visibility: hidden !important; }\n\n.visible {\n  visibility: visible !important; }\n\n.clear:after, .page-footer:after {\n  clear: both;\n  content: ".";\n  display: block;\n  height: 0;\n  visibility: hidden;\n  font-size: 0.01em !important;\n  line-height: 0.01em !important; }\n\n.clear, .page-footer {\n  display: inline-block; }\n\n* html .clear, * html .page-footer {\n  height: 1%; }\n\n.clear, .page-footer {\n  display: block; }\n\n@media screen and (max-device-width: 480px) {\n  html {\n    -webkit-text-size-adjust: none;\n    -ms-text-size-adjust: none; } }\nform p {\n  margin-bottom: 10px; }\n\nlabel {\n  display: block; }\n\ninput,\nselect,\ntextarea {\n  border: 1px solid #ccc;\n  padding: 9px 8px 7px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,0.05);\n  -moz-box-shadow: inset 0 1px 1px rgba(0,0,0,0.05);\n  box-shadow: inset 0 1px 1px rgba(0,0,0,0.05); }\n  input:focus,\n  select:focus,\n  textarea:focus {\n    border-color: #a4baca !important;\n    background: #f5f7f9; }\n\ninput:focus,\nselect:focus,\ntextarea:focus {\n  border-color: #999; }\n\nselect {\n  padding: 2px; }\n\ninput[type=file] {\n  padding: 2px;\n  border: none;\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none; }\n\nlabel {\n  font-weight: bold; }\n\n.form-checkbox > span label span,\n.form-radio > span label span {\n  padding-left: 10px; }\n\n.form-checkbox > span label span,\n.form-radio > span label span {\n  font-weight: normal; }\n\nbody {\n  line-height: 20px;\n  color: #222222; }\n\n.proxima-nova,\nbody, input, select, textarea {\n  font-family: \'proxima-nova\', \'Helvetica Neue\', Arial, Helvetica, sans-serif; }\n\n.freight-sans-pro,\nh1, h2, h3 {\n  font-family: \'freight-sans-pro\', \'proxima-nova\', \'Helvetica Neue\', Arial, Helvetica, sans-serif; }\n\ncode {\n  font-family: Monaco, Consolas, \'Lucida Console\', monospace; }\n\n.at-symbol {\n  font-family: Verdana, Helvetica, Arial, sans-serif; }\n\nbody {\n  font-size: 14px;\n  font-size: 1.4rem; }\n\nh1 {\n  font-size: 36px;\n  line-height: 40px; }\n\nh2 {\n  font-size: 23px;\n  line-height: 30px; }\n\nh3 {\n  font-size: 16px;\n  font-weight: 600;\n  font-weight: bold; }\n\nh4 {\n  font-size: 14px;\n  font-weight: 600;\n  font-weight: bold;\n  text-transform: uppercase; }\n\nsmall {\n  font-size: 12px; }\n\nh1, h2, h3, h4, h5, h6,\nth {\n  font-weight: 600;\n  font-weight: bold; }\n\nh1 {\n  margin: 40px 0 20px -1px; }\n\nh2 {\n  margin: 20px 0 10px; }\n\nh1 + h2 {\n  margin-top: 20px; }\n\nh3 {\n  margin: 20px 0 10px; }\n\nh4 {\n  margin: 20px 0 10px; }\n\nh1:first-child, h2:first-child {\n  margin-top: 0; }\n\np {\n  margin: 0 0 10px; }\n\npre {\n  margin: 15px 0 25px; }\n  pre code {\n    padding: 14px 14px 14px 19px; }\n\nform label {\n  display: block;\n  margin: 0 0 5px; }\nform input, form select, form textarea {\n  font-size: 14px;\n  font-size: 1.4rem; }\n\ntable {\n  margin: 20px 0 30px; }\n\nth, td {\n  padding: 5px 10px 4px 0;\n  border-bottom: 1px solid #ddd; }\n\nth, tr:last-child td {\n  border-bottom-color: #ccc; }\n\nul, ol {\n  margin: 0 0 20px; }\n  ul ul, ul ol, ol ul, ol ol {\n    margin: 5px 0 15px; }\n\nli {\n  margin: 0 0 5px; }\n\na, a:visited {\n  text-decoration: none; }\na:hover {\n  text-decoration: underline; }\n\na, a:visited {\n  color: #3f729b; }\n\na:hover {\n  color: #1c5380; }\n\ncode {\n  -webkit-font-smoothing: subpixel-antialiased;\n  font-size: 12px;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 15px; }\n\nth {\n  text-transform: uppercase; }\n\n.at-symbol {\n  opacity: 0.6; }\n\np.emphasized {\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 25px; }\n\n.top-bar h1, .top-bar h2 {\n  color: #fff; }\n.top-bar h2 {\n  font-size: 14px;\n  font-weight: bold;\n  text-transform: uppercase;\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.6); }\n.top-bar a, .top-bar a:visited, .top-bar a:hover {\n  text-decoration: none; }\n\n.page-footer {\n  font-size: 12px;\n  line-height: 16px; }\n  .page-footer nav, .page-footer p {\n    text-transform: uppercase;\n    font-weight: bold; }\n  .page-footer p {\n    color: #999999;\n    color: rgba(0, 0, 0, 0.3); }\n\n.account-state {\n  font-weight: bold; }\n  .account-state, .account-state a, .account-state a:hover, .account-state a:active {\n    color: #fff; }\n  .account-state a:active {\n    color: #eee; }\n\n.dropdown {\n  color: #333;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.9);\n  font-weight: bold; }\n  .dropdown, .dropdown a, .dropdown a:link, .dropdown a:active {\n    color: #666;\n    text-decoration: none; }\n  .dropdown a:hover {\n    color: #444; }\n  .dropdown a:active {\n    color: #111; }\n  .dropdown li.negative, .dropdown li.negative a, .dropdown li.negative a:active {\n    color: #c00; }\n  .dropdown li strong {\n    text-align: center;\n    font-weight: bold;\n    text-transform: uppercase;\n    font-size: 10px;\n    line-height: 15px;\n    color: #aaa; }\n\n.page-footer-chromeless, .page-footer-dark,\n.page-home .page-footer {\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6); }\n\n.page-footer-dark span, .page-footer-dark a, .page-footer-dark a:visited, .page-footer-dark a:active, .page-footer-dark a:hover {\n  color: #fff;\n  -moz-opacity: 0.3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n  opacity: 0.3; }\n.page-footer-dark a:hover, .page-footer-dark a:active {\n  -moz-opacity: 0.8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n  opacity: 0.8;\n  opacity: 0.8; }\n\na {\n  -webkit-tap-highlight-color: rgba(63, 114, 155, 0.3); }\n\npre code {\n  display: block;\n  overflow: auto;\n  background: #fafafa;\n  border: 1px solid #ddd; }\n\ncode {\n  max-width: 100%;\n  display: inline;\n  background: #eee; }\n\nform ul.errorlist {\n  display: none; }\n  form ul.errorlist + p input {\n    background-color: #fff6f6;\n    border-color: #eec3c7; }\n\nfieldset {\n  margin: 0 0 20px; }\n\ninput[type=text] {\n  -webkit-appearance: none; }\n\ntextarea {\n  padding: 7px 7px 6px; }\n\n.form-actions {\n  padding-top: 20px; }\n\n.main form.bordered {\n  padding: 40px 0 1px;\n  margin: -1px 0 0;\n  border-top: 1px solid #ddd; }\n  .main form.bordered input:not([type=submit]), .main form.bordered span {\n    width: 50%;\n    display: inline-block; }\n  .main form.bordered span > input:not([type=submit]) {\n    width: 100%; }\n  .main form.bordered textarea {\n    width: 100%; }\n  .main form.bordered .form-actions {\n    margin-top: 40px;\n    border-top: 1px solid #ddd;\n    padding-top: 20px; }\n\n.main form.adjacent fieldset {\n  margin: 0 0 30px; }\n.main form.adjacent p {\n  min-height: 30px;\n  margin-bottom: 10px; }\n.main form.adjacent label {\n  display: inline-block;\n  width: 160px;\n  min-height: 20px; }\n.main form.adjacent.wide label {\n  width: 220px; }\n.main form.adjacent.very-wide label {\n  width: 330px; }\n.main form.adjacent input[type=text],\n.main form.adjacent input[type=email],\n.main form.adjacent input[type=password],\n.main form.adjacent input[type=tel],\n.main form.adjacent textarea {\n  margin-top: -5px;\n  position: relative;\n  top: 0; }\n.main form.adjacent textarea {\n  margin-bottom: 10px; }\n.main form.adjacent span .button {\n  margin: -5px 0 0 10px; }\n.main form.adjacent span.helptext {\n  font-size: 0.9em;\n  font-style: italic;\n  display: block;\n  padding: 10px 0 10px 0;\n  width: auto;\n  max-width: 999px !important; }\n\n.fadedTextField {\n  background-color: rgba(255, 255, 255, 0.2);\n  border-color: rgba(0, 0, 0, 0.08); }\n  .fadedTextField:focus {\n    background: #fff; }\n\ntable {\n  width: 100% !important; }\n\nol, ul {\n  padding-left: 20px;\n  list-style-position: outside; }\n\nul {\n  list-style-type: square; }\n\nol {\n  list-style-type: decimal; }\n\n[type=submit],\n.button {\n  position: relative;\n  cursor: pointer;\n  font-weight: bold;\n  line-height: 1em;\n  text-decoration: none !important;\n  color: #111;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  display: inline-block;\n  position: relative;\n  background-color: #eeeeee;\n  -webkit-border-radius: 4px;\n  border-radius: 4px; }\n  [type=submit]:hover,\n  .button:hover {\n    background-color: #eeeeee; }\n  .ButtonActive[type=submit],\n  .ButtonActive.button, .button-active[type=submit],\n  .button-active.button, .active[type=submit],\n  .active.button, [type=submit]:active,\n  .button:active, html.touch .pressed[type=submit],\n  html.touch .pressed.button {\n    background-color: #dddddd; }\n  [type=submit],\n  .button {\n    border: 1px solid #bbbbbb; }\n  .ButtonActive[type=submit],\n  .ButtonActive.button, .button-active[type=submit],\n  .button-active.button, .active[type=submit],\n  .active.button, [type=submit]:active,\n  .button:active, html.touch .pressed[type=submit],\n  html.touch .pressed.button {\n    border-color: #a2a2a2; }\n\n.button-micro {\n  font-size: 12px;\n  font-size: 1.2rem;\n  padding: 4px 7px 4px;\n  -webkit-border-radius: 2px;\n  border-radius: 2px; }\n\n.button-tiny {\n  font-size: 12px;\n  font-size: 1.2rem;\n  padding: 4px 7px 4px;\n  -webkit-border-radius: 2px;\n  border-radius: 2px; }\n\n.button-small,\n.button-altsmall,\n.main form.adjacent span .button {\n  font-size: 12px;\n  font-size: 1.2rem;\n  padding: 7px 9px 6px; }\n\n[type=button],\n[type=submit],\n.button,\n.button-medium {\n  font-size: 14px;\n  font-size: 1.4rem;\n  padding: 7px 10px 8px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px; }\n\n.button-large {\n  font-size: 16px;\n  font-size: 1.6rem;\n  padding: 9px 12px; }\n\n.button-xlarge {\n  font-size: 23px;\n  font-size: 2.3rem;\n  padding: 10px 13px; }\n\n[type=submit],\n.button,\n.button-light, [type=submit]:visited,\n.button:visited,\n.button-light:visited {\n  color: #0f3556; }\n[type=submit]:hover,\n.button:hover,\n.button-light:hover {\n  color: #062540; }\n.button-active[type=submit],\n.button-active.button,\n.button-active.button-light, .active[type=submit],\n.active.button,\n.active.button-light, [type=submit]:active,\n.button:active,\n.button-light:active, html.touch .pressed[type=submit],\nhtml.touch .pressed.button,\nhtml.touch .pressed.button-light {\n  color: #062540; }\n\n.button-blue, .button-headerblue, .button-gray, .button-green, .button-altgreen, .button-red, .button-darkred, .button-brown, .button-yellow, .button-altblue, .button-blue:visited, .button-headerblue:visited, .button-gray:visited, .button-green:visited, .button-altgreen:visited, .button-red:visited, .button-darkred:visited, .button-brown:visited, .button-yellow:visited, .button-altblue:visited {\n  color: #fff; }\n.button-blue:hover, .button-headerblue:hover, .button-gray:hover, .button-green:hover, .button-altgreen:hover, .button-red:hover, .button-darkred:hover, .button-brown:hover, .button-yellow:hover, .button-altblue:hover {\n  color: #fff; }\n.ButtonActive.button-blue, .ButtonActive.button-headerblue, .ButtonActive.button-gray, .ButtonActive.button-green, .ButtonActive.button-altgreen, .ButtonActive.button-red, .ButtonActive.button-darkred, .ButtonActive.button-brown, .ButtonActive.button-yellow, .ButtonActive.button-altblue, .button-active.button-blue, .button-active.button-headerblue, .button-active.button-gray, .button-active.button-green, .button-active.button-altgreen, .button-active.button-red, .button-active.button-darkred, .button-active.button-brown, .button-active.button-yellow, .button-active.button-altblue, .active.button-blue, .active.button-headerblue, .active.button-gray, .active.button-green, .active.button-altgreen, .active.button-red, .active.button-darkred, .active.button-brown, .active.button-yellow, .active.button-altblue, .button-blue:active, .button-headerblue:active, .button-gray:active, .button-green:active, .button-altgreen:active, .button-red:active, .button-darkred:active, .button-brown:active, .button-yellow:active, .button-altblue:active, html.touch .pressed.button-blue, html.touch .pressed.button-headerblue, html.touch .pressed.button-gray, html.touch .pressed.button-green, html.touch .pressed.button-altgreen, html.touch .pressed.button-red, html.touch .pressed.button-darkred, html.touch .pressed.button-brown, html.touch .pressed.button-yellow, html.touch .pressed.button-altblue {\n  color: rgba(255, 255, 255, 0.8);\n  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3); }\n\n.button-grey, .button-grey:visited {\n  color: #666666; }\n.button-grey:hover {\n  color: #444444; }\n.button-active.button-grey, .active.button-grey, .button-grey:active, html.touch .pressed.button-grey {\n  color: #444444; }\n\n[type=submit],\n.button,\n.button-light, .button-grey {\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.2);\n  -webkit-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  -moz-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ; }\n  .ButtonActive[type=submit],\n  .ButtonActive.button,\n  .ButtonActive.button-light, .ButtonActive.button-grey, .button-active[type=submit],\n  .button-active.button,\n  .button-active.button-light, .button-active.button-grey, .active[type=submit],\n  .active.button,\n  .active.button-light, .active.button-grey, [type=submit]:active,\n  .button:active,\n  .button-light:active, .button-grey:active, html.touch .pressed[type=submit],\n  html.touch .pressed.button,\n  html.touch .pressed.button-light, html.touch .pressed.button-grey {\n    -webkit-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ;\n    -moz-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ;\n    box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ; }\n\n.button-blue, .button-gray,\n.button-brown,\n.button-red,\n.button-green,\n.button-yellow,\n.button-altblue,\n.button-altgreen {\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.2);\n  -webkit-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.1),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  -moz-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.1),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  box-shadow:              0 1px 1px rgba(0, 0, 0, 0.1),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ; }\n  .ButtonActive.button-blue, .ButtonActive.button-gray,\n  .ButtonActive.button-brown,\n  .ButtonActive.button-red,\n  .ButtonActive.button-green,\n  .ButtonActive.button-yellow,\n  .ButtonActive.button-altblue,\n  .ButtonActive.button-altgreen, .button-active.button-blue, .button-active.button-gray,\n  .button-active.button-brown,\n  .button-active.button-red,\n  .button-active.button-green,\n  .button-active.button-yellow,\n  .button-active.button-altblue,\n  .button-active.button-altgreen, .active.button-blue, .active.button-gray,\n  .active.button-brown,\n  .active.button-red,\n  .active.button-green,\n  .active.button-yellow,\n  .active.button-altblue,\n  .active.button-altgreen, .button-blue:active, .button-gray:active,\n  .button-brown:active,\n  .button-red:active,\n  .button-green:active,\n  .button-yellow:active,\n  .button-altblue:active,\n  .button-altgreen:active, html.touch .pressed.button-blue, html.touch .pressed.button-gray,\n  html.touch .pressed.button-brown,\n  html.touch .pressed.button-red,\n  html.touch .pressed.button-green,\n  html.touch .pressed.button-yellow,\n  html.touch .pressed.button-altblue,\n  html.touch .pressed.button-altgreen {\n    -webkit-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.15),             inset 0 0 1px rgba(0, 0, 0, 0.15),             0 1px 0 rgba(255, 255, 255, 0.8)         ;\n    -moz-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.15),             inset 0 0 1px rgba(0, 0, 0, 0.15),             0 1px 0 rgba(255, 255, 255, 0.8)         ;\n    box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.15),             inset 0 0 1px rgba(0, 0, 0, 0.15),             0 1px 0 rgba(255, 255, 255, 0.8)         ; }\n\n[type=submit],\n.button,\n.button-light {\n  background-color: #f9fafb;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#f9fafb), to(#eef1f4));\n  background-image: -webkit-linear-gradient(top, #f9fafb, #eef1f4);\n  background-image: -moz-linear-gradient(top, #f9fafb, #eef1f4);\n  background-image: -o-linear-gradient(top, #f9fafb, #eef1f4);\n  background-image: -ms-linear-gradient(top, #f9fafb, #eef1f4);\n  background-image: linear-gradient(top, #f9fafb, #eef1f4);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#f9fafb\', EndColorStr=\'#eef1f4\');\n  background-position: 50% 50%; }\n  .ButtonActive[type=submit],\n  .ButtonActive.button,\n  .ButtonActive.button-light, .button-active[type=submit],\n  .button-active.button,\n  .button-active.button-light, .active[type=submit],\n  .active.button,\n  .active.button-light, [type=submit]:active,\n  .button:active,\n  .button-light:active, html.touch .pressed[type=submit],\n  html.touch .pressed.button,\n  html.touch .pressed.button-light {\n    background: #e8ecf0; }\n  [type=submit],\n  .button,\n  .button-light {\n    border: 1px solid #c6daec; }\n  .ButtonActive[type=submit],\n  .ButtonActive.button,\n  .ButtonActive.button-light, .button-active[type=submit],\n  .button-active.button,\n  .button-active.button-light, .active[type=submit],\n  .active.button,\n  .active.button-light, [type=submit]:active,\n  .button:active,\n  .button-light:active, html.touch .pressed[type=submit],\n  html.touch .pressed.button,\n  html.touch .pressed.button-light {\n    border-color: #b3cee6; }\n\n.button-blue {\n  background-color: #6f97b6;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#6f97b6), to(#3f729b));\n  background-image: -webkit-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: -moz-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: -o-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: -ms-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: linear-gradient(top, #6f97b6, #3f729b);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#6f97b6\', EndColorStr=\'#3f729b\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #1c5380; }\n  .ButtonActive.button-blue, .button-active.button-blue, .active.button-blue, .button-blue:active, html.touch .pressed.button-blue {\n    background: #3c6d94; }\n  .button-blue {\n    border: 1px solid #1c5380; }\n  .ButtonActive.button-blue, .button-active.button-blue, .active.button-blue, .button-blue:active, html.touch .pressed.button-blue {\n    border-color: #133856; }\n\n.button-headerblue {\n  background-color: #517fa4;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#517fa4), to(#306088));\n  background-image: -webkit-linear-gradient(top, #517fa4, #306088);\n  background-image: -moz-linear-gradient(top, #517fa4, #306088);\n  background-image: -o-linear-gradient(top, #517fa4, #306088);\n  background-image: -ms-linear-gradient(top, #517fa4, #306088);\n  background-image: linear-gradient(top, #517fa4, #306088);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#517fa4\', EndColorStr=\'#306088\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #06365f; }\n  .ButtonActive.button-headerblue, .button-active.button-headerblue, .active.button-headerblue, .button-headerblue:active, html.touch .pressed.button-headerblue {\n    background: #2d5b80; }\n  .button-headerblue {\n    border: 1px solid #06365f; }\n  .ButtonActive.button-headerblue, .button-active.button-headerblue, .active.button-headerblue, .button-headerblue:active, html.touch .pressed.button-headerblue {\n    border-color: #031b2f; }\n\n.button-gray {\n  background-color: #999999;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#999999), to(#7c7c7c));\n  background-image: -webkit-linear-gradient(top, #999999, #7c7c7c);\n  background-image: -moz-linear-gradient(top, #999999, #7c7c7c);\n  background-image: -o-linear-gradient(top, #999999, #7c7c7c);\n  background-image: -ms-linear-gradient(top, #999999, #7c7c7c);\n  background-image: linear-gradient(top, #999999, #7c7c7c);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#999999\', EndColorStr=\'#7c7c7c\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.4); }\n  .ButtonActive.button-gray, .button-active.button-gray, .active.button-gray, .button-gray:active, html.touch .pressed.button-gray {\n    background: #777777; }\n  .button-gray {\n    border: 1px solid #777777; }\n  .ButtonActive.button-gray, .button-active.button-gray, .active.button-gray, .button-gray:active, html.touch .pressed.button-gray {\n    border-color: #666666; }\n\n.button-grey {\n  background-color: #f3f3f3;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#f3f3f3), to(#dddddd));\n  background-image: -webkit-linear-gradient(top, #f3f3f3, #dddddd);\n  background-image: -moz-linear-gradient(top, #f3f3f3, #dddddd);\n  background-image: -o-linear-gradient(top, #f3f3f3, #dddddd);\n  background-image: -ms-linear-gradient(top, #f3f3f3, #dddddd);\n  background-image: linear-gradient(top, #f3f3f3, #dddddd);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#f3f3f3\', EndColorStr=\'#dddddd\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6); }\n  .ButtonActive.button-grey, .button-active.button-grey, .active.button-grey, .button-grey:active, html.touch .pressed.button-grey {\n    background: #d8d8d8; }\n  .button-grey {\n    border: 1px solid #c6c6c6; }\n  .ButtonActive.button-grey, .button-active.button-grey, .active.button-grey, .button-grey:active, html.touch .pressed.button-grey {\n    border-color: #bbbbbb; }\n\n.button-green {\n  background-color: #6bb38a;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#6bb38a), to(#3d8b5f));\n  background-image: -webkit-linear-gradient(top, #6bb38a, #3d8b5f);\n  background-image: -moz-linear-gradient(top, #6bb38a, #3d8b5f);\n  background-image: -o-linear-gradient(top, #6bb38a, #3d8b5f);\n  background-image: -ms-linear-gradient(top, #6bb38a, #3d8b5f);\n  background-image: linear-gradient(top, #6bb38a, #3d8b5f);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#6bb38a\', EndColorStr=\'#3d8b5f\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #1e693f; }\n  .ButtonActive.button-green, .button-active.button-green, .active.button-green, .button-green:active, html.touch .pressed.button-green {\n    background: #3a845a; }\n  .button-green {\n    border: 1px solid #3d8b5f; }\n  .ButtonActive.button-green, .button-active.button-green, .active.button-green, .button-green:active, html.touch .pressed.button-green {\n    border-color: #2d6847; }\n\n.button-altgreen {\n  background-color: #47bc60;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#47bc60), to(#39a64e));\n  background-image: -webkit-linear-gradient(top, #47bc60, #39a64e);\n  background-image: -moz-linear-gradient(top, #47bc60, #39a64e);\n  background-image: -o-linear-gradient(top, #47bc60, #39a64e);\n  background-image: -ms-linear-gradient(top, #47bc60, #39a64e);\n  background-image: linear-gradient(top, #47bc60, #39a64e);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#47bc60\', EndColorStr=\'#39a64e\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #2c803c; }\n  .ButtonActive.button-altgreen, .button-active.button-altgreen, .active.button-altgreen, .button-altgreen:active, html.touch .pressed.button-altgreen {\n    background: #369e4a; }\n  .button-altgreen {\n    border: 1px solid #329345; }\n  .ButtonActive.button-altgreen, .button-active.button-altgreen, .active.button-altgreen, .button-altgreen:active, html.touch .pressed.button-altgreen {\n    border-color: #256d33; }\n\n.button-red {\n  background-color: #e8485f;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#e8485f), to(#b72e42));\n  background-image: -webkit-linear-gradient(top, #e8485f, #b72e42);\n  background-image: -moz-linear-gradient(top, #e8485f, #b72e42);\n  background-image: -o-linear-gradient(top, #e8485f, #b72e42);\n  background-image: -ms-linear-gradient(top, #e8485f, #b72e42);\n  background-image: linear-gradient(top, #e8485f, #b72e42);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#e8485f\', EndColorStr=\'#b72e42\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #b72e42; }\n  .ButtonActive.button-red, .button-active.button-red, .active.button-red, .button-red:active, html.touch .pressed.button-red {\n    background: #af2c3f; }\n  .button-red {\n    border: 1px solid #b72e42; }\n  .ButtonActive.button-red, .button-active.button-red, .active.button-red, .button-red:active, html.touch .pressed.button-red {\n    border-color: #8e2433; }\n\n.button-darkred {\n  background-color: #c6213a;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#c6213a), to(#961427));\n  background-image: -webkit-linear-gradient(top, #c6213a, #961427);\n  background-image: -moz-linear-gradient(top, #c6213a, #961427);\n  background-image: -o-linear-gradient(top, #c6213a, #961427);\n  background-image: -ms-linear-gradient(top, #c6213a, #961427);\n  background-image: linear-gradient(top, #c6213a, #961427);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#c6213a\', EndColorStr=\'#961427\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #961427; }\n  .ButtonActive.button-darkred, .button-active.button-darkred, .active.button-darkred, .button-darkred:active, html.touch .pressed.button-darkred {\n    background: #8d1325; }\n  .button-darkred {\n    border: 1px solid #961427; }\n  .ButtonActive.button-darkred, .button-active.button-darkred, .active.button-darkred, .button-darkred:active, html.touch .pressed.button-darkred {\n    border-color: #690e1b; }\n\n.button-uppercase, .button-altsmall, .main form.adjacent span .button {\n  text-transform: uppercase; }\n\n.button-icon {\n  text-indent: -9999em; }\n  .button-icon i {\n    display: block; }\n  .button-icon:active i, html.touch .button-icon.pressed i {\n    opacity: 0.8; }\n\n.button-icon-left b {\n  padding-left: 24px; }\n\n.button-icon-right b {\n  padding-right: 24px; }\n\n.button-pulldown b {\n  padding-right: 14px;\n  background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/glyphs/arrow-down-small.png") no-repeat 100% 50%; }\n\n.button-light {\n  background-color: white;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(white), to(#f9fafb));\n  background-image: -webkit-linear-gradient(top, white, #f9fafb);\n  background-image: -moz-linear-gradient(top, white, #f9fafb);\n  background-image: -o-linear-gradient(top, white, #f9fafb);\n  background-image: -ms-linear-gradient(top, white, #f9fafb);\n  background-image: linear-gradient(top, white, #f9fafb);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'white\', EndColorStr=\'#f9fafb\');\n  background-position: 50% 50%; }\n  .button-light.ButtonActive, .button-light.button-active, .button-light.active, .button-light:active, html.touch .button-light.pressed {\n    background: #f3f5f7; }\n\n.button-brown {\n  background-color: #8f6a58;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#8f6a58), to(#6c4634));\n  background-image: -webkit-linear-gradient(top, #8f6a58, #6c4634);\n  background-image: -moz-linear-gradient(top, #8f6a58, #6c4634);\n  background-image: -o-linear-gradient(top, #8f6a58, #6c4634);\n  background-image: -ms-linear-gradient(top, #8f6a58, #6c4634);\n  background-image: linear-gradient(top, #8f6a58, #6c4634);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#8f6a58\', EndColorStr=\'#6c4634\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #6c4634; }\n  .button-brown.ButtonActive, .button-brown.button-active, .button-brown.active, .button-brown:active, html.touch .button-brown.pressed {\n    background: #654231; }\n  .button-brown {\n    border: 1px solid #6c4634; }\n  .button-brown.ButtonActive, .button-brown.button-active, .button-brown.active, .button-brown:active, html.touch .button-brown.pressed {\n    border-color: #4a3023; }\n\n.button-yellow {\n  background-color: #c9981a;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#c9981a), to(#a07711));\n  background-image: -webkit-linear-gradient(top, #c9981a, #a07711);\n  background-image: -moz-linear-gradient(top, #c9981a, #a07711);\n  background-image: -o-linear-gradient(top, #c9981a, #a07711);\n  background-image: -ms-linear-gradient(top, #c9981a, #a07711);\n  background-image: linear-gradient(top, #c9981a, #a07711);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#c9981a\', EndColorStr=\'#a07711\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #a07711; }\n  .button-yellow.ButtonActive, .button-yellow.button-active, .button-yellow.active, .button-yellow:active, html.touch .button-yellow.pressed {\n    background: #977010; }\n  .button-yellow {\n    border: 1px solid #a07711; }\n  .button-yellow.ButtonActive, .button-yellow.button-active, .button-yellow.active, .button-yellow:active, html.touch .button-yellow.pressed {\n    border-color: #72550c; }\n\n.button-altblue {\n  background-color: #5daaf3;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#5daaf3), to(#2a85de));\n  background-image: -webkit-linear-gradient(top, #5daaf3, #2a85de);\n  background-image: -moz-linear-gradient(top, #5daaf3, #2a85de);\n  background-image: -o-linear-gradient(top, #5daaf3, #2a85de);\n  background-image: -ms-linear-gradient(top, #5daaf3, #2a85de);\n  background-image: linear-gradient(top, #5daaf3, #2a85de);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr=\'#5daaf3\', EndColorStr=\'#2a85de\');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #2a85de; }\n  .button-altblue.ButtonActive, .button-altblue.button-active, .button-altblue.active, .button-altblue:active, html.touch .button-altblue.pressed {\n    background: #2280dc; }\n  .button-altblue {\n    border: 1px solid #2a85de; }\n  .button-altblue.ButtonActive, .button-altblue.button-active, .button-altblue.active, .button-altblue:active, html.touch .button-altblue.pressed {\n    border-color: #1d6bb8; }\n\n.img-outset,\n.img-inset {\n  background: none; }\n  .img-outset img,\n  .img-inset img {\n    width: auto;\n    display: block;\n    visibility: visible; }\n\n.img,\n.img-outset,\n.img-inset {\n  position: relative;\n  display: inline-block; }\n  .img b,\n  .img-outset b,\n  .img-inset b {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: block;\n    width: 100%;\n    height: 100%; }\n  .img img,\n  .img-outset img,\n  .img-inset img {\n    display: block; }\n\n.img-outset,\n.img-inset {\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  background: no-repeat 0 0;\n  -webkit-background-size: 100%;\n  background-size: 100%; }\n  .img-outset b,\n  .img-inset b {\n    -webkit-border-radius: 2px;\n    border-radius: 2px; }\n  .img-outset img,\n  .img-inset img {\n    display: block; }\n\nspan.img-inset {\n  -webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n  -moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n  box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1); }\n  span.img-inset b {\n    -webkit-box-shadow: inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 2px 0 rgba(0,0,0,.2);\n    -moz-box-shadow: inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 2px 0 rgba(0,0,0,.2);\n    box-shadow: inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 2px 0 rgba(0,0,0,.2); }\n\nspan.img-outset {\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.1), 0 1px 2px rgba(0,0,0,.2);\n  -moz-box-shadow: 0 0 0 1px rgba(0,0,0,.1), 0 1px 2px rgba(0,0,0,.2);\n  box-shadow: 0 0 0 1px rgba(0,0,0,.1), 0 1px 2px rgba(0,0,0,.2); }\n  span.img-outset b {\n    -webkit-box-shadow: inset 0 0 0 1px rgba(255,255,255,.1), inset 0 1px 0 rgba(255,255,255,.3);\n    -moz-box-shadow: inset 0 0 0 1px rgba(255,255,255,.1), inset 0 1px 0 rgba(255,255,255,.3);\n    box-shadow: inset 0 0 0 1px rgba(255,255,255,.1), inset 0 1px 0 rgba(255,255,255,.3); }\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  span.img-outset {\n    -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.15), 0 1px 2px rgba(0,0,0,.1);\n    -moz-box-shadow: 0 0 0 1px rgba(0,0,0,.15), 0 1px 2px rgba(0,0,0,.1);\n    box-shadow: 0 0 0 1px rgba(0,0,0,.15), 0 1px 2px rgba(0,0,0,.1); } }\n.avatar-xsmall, .top-bar-actions > li img, .avatar-xsmall img, .top-bar-actions > li img img {\n  width: 22px;\n  height: 22px; }\n\n.avatar-small, .avatar-small img {\n  width: 30px;\n  height: 30px; }\n\n.avatar-medium, .avatar-medium img {\n  width: 40px;\n  height: 40px; }\n.avatar-medium, .avatar-medium b {\n  -webkit-border-radius: 4px;\n  border-radius: 4px; }\n\n.avatar-large, .avatar-large img {\n  width: 70px;\n  height: 70px; }\n.avatar-large, .avatar-large b {\n  -webkit-border-radius: 4px;\n  border-radius: 4px; }\n\n.avatar-profile, .avatar-profile img {\n  width: 110px;\n  height: 110px; }\n.avatar-profile, .avatar-profile b {\n  -webkit-border-radius: 3px;\n  border-radius: 3px; }\n\n.root {\n  height: 100%;\n  min-width: 320px; }\n\nbody.thirdparty .root {\n  min-width: 240px; }\n\n.page,\n.dialog-outer {\n  position: relative;\n  min-height: 100%; }\n\n.page-footer {\n  position: relative;\n  margin-top: -48px;\n  z-index: 20; }\n\n.hidden {\n  display: none; }\n\n.wrapper {\n  margin: 0 auto;\n  padding: 0 16px;\n  position: relative;\n  width: 992px; }\n\n.top-bar {\n  position: relative;\n  height: 43px;\n  border-bottom: 1px solid #1c5380;\n  border-bottom-color: rgba(4, 40, 71, 0.8);\n  -webkit-box-shadow: 0 1px 0 rgba(111, 151, 182, 0.5) inset, 0 -1px 0 rgba(111, 151, 182, 0.2) inset, 0px 1px 1px rgba(0,0,0,.2);\n  -moz-box-shadow: 0 1px 0 rgba(111, 151, 182, 0.5) inset, 0 -1px 0 rgba(111, 151, 182, 0.2) inset, 0px 1px 1px rgba(0,0,0,.2);\n  box-shadow: 0 1px 0 rgba(111, 151, 182, 0.5) inset, 0 -1px 0 rgba(111, 151, 182, 0.2) inset, 0px 1px 1px rgba(0,0,0,.2);\n  background-color: #517fa4;\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), -webkit-gradient(linear, left top, left bottom, from(#517fa4), to(#306088));\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), -webkit-linear-gradient(top, #517fa4, #306088);\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), -moz-linear-gradient(top, #517fa4, #306088);\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), -o-linear-gradient(top, #517fa4, #306088);\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), -ms-linear-gradient(top, #517fa4, #306088);\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-1.png"), linear-gradient(top, #517fa4, #306088);\n  background-position: 50% 50%;\n  z-index: 100; }\n  .top-bar hgroup {\n    position: relative;\n    height: 44px; }\n  .top-bar .logo {\n    height: 35px;\n    width: 97px;\n    background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/shared-assets.png") no-repeat 0 4px;\n    position: absolute;\n    top: 4px;\n    margin: 0;\n    text-indent: -9999em; }\n    .top-bar .logo a {\n      display: block;\n      height: 100%;\n      width: 100%; }\n  .top-bar h2 {\n    position: absolute;\n    top: 7px;\n    left: 120px;\n    margin: 0; }\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .top-bar {\n    background-color: #517fa4;\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-2.png"), -webkit-gradient(linear, left top, left bottom, from(#517fa4), to(#306088));\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-2.png"), -webkit-linear-gradient(top, #517fa4, #306088);\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-2.png"), -moz-linear-gradient(top, #517fa4, #306088);\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-2.png"), -o-linear-gradient(top, #517fa4, #306088);\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-2.png"), -ms-linear-gradient(top, #517fa4, #306088);\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-2.png"), linear-gradient(top, #517fa4, #306088);\n    background-position: 50% 50%;\n    -webkit-background-size: 30px 20px, auto;\n    background-size: 30px 20px, auto; }\n    .top-bar .logo {\n      background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/shared-assets@2x.png");\n      background-size: 150px 600px; } }\n.top-bar-new {\n  position: relative; }\n  .top-bar-new .logo {\n    position: absolute;\n    left: 50%;\n    margin-left: -50px !important; }\n  .top-bar-new .top-bar-left,\n  .top-bar-new .top-bar-right {\n    position: absolute;\n    top: 0; }\n  .top-bar-new .top-bar-left {\n    left: -1px; }\n  .top-bar-new .top-bar-right {\n    right: 0; }\n  .top-bar-new .top-bar-center {\n    margin-left: auto;\n    margin-right: auto;\n    width: 50px; }\n\n.top-bar-wrapper {\n  position: relative;\n  max-width: 1024px;\n  margin: 0 auto; }\n\n.top-bar-left .top-bar-actions {\n  float: left;\n  display: inline; }\n\n.top-bar-home {\n  height: 44px !important;\n  width: 44px !important;\n  padding: 0 !important; }\n  .top-bar-home i {\n    position: absolute;\n    left: 0;\n    top: 0;\n    display: block;\n    height: 44px !important;\n    width: 44px !important;\n    margin: 0 !important;\n    background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/shared-assets.png") no-repeat 6px -194px; }\n  .top-bar-home:hover {\n    background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/alpha/fff_10.png");\n    background: rgba(255, 255, 255, 0.1); }\n  .top-bar-home:active {\n    background-color: #1c5380;\n    background-color: rgba(6, 54, 95, 0.35);\n    -webkit-box-shadow: -1px 0 0 rgba(255,255,255,.15), inset 0 0 1px rgba(6, 54, 95, 0.4), inset 1px 0 1px rgba(6, 54, 95, 0.4);\n    -moz-box-shadow: -1px 0 0 rgba(255,255,255,.15), inset 0 0 1px rgba(6, 54, 95, 0.4), inset 1px 0 1px rgba(6, 54, 95, 0.4);\n    box-shadow: -1px 0 0 rgba(255,255,255,.15), inset 0 0 1px rgba(6, 54, 95, 0.4), inset 1px 0 1px rgba(6, 54, 95, 0.4); }\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .top-bar-home i {\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/shared-assets@2x.png");\n    background-size: 150px 600px; } }\n.page-footer {\n  clear: both;\n  overflow: hidden;\n  padding: 8px 0 7px;\n  border-top: 1px solid #dddddd;\n  background: #fff;\n  text-align: center; }\n  .page-footer nav, .page-footer nav ul, .page-footer .copyright {\n    margin: 0;\n    padding: 0; }\n  .page-footer nav, .page-footer .copyright, .page-footer li {\n    display: inline-block; }\n  .page-footer li {\n    margin: 0; }\n  .page-footer a {\n    display: block;\n    padding: 8px 6px; }\n  .page-footer .copyright {\n    padding: 8px 6px;\n    margin: 0 0 0 8px; }\n\n.page-footer-chromeless, .page-footer-dark,\n.page-home .page-footer {\n  background: none;\n  border: none; }\n\n.inset-avatar .inset-avatar-border {\n  float: left;\n  width: 22px;\n  height: 22px;\n  margin: -1px 8px 0 0;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n  -webkit-box-shadow: 0 1px 2px #06365f;\n  -moz-box-shadow: 0 1px 2px #06365f;\n  box-shadow: 0 1px 2px #06365f; }\n  .inset-avatar .inset-avatar-border .inset-avatar-frame {\n    width: 22px;\n    height: 22px;\n    -webkit-border-radius: 2px;\n    border-radius: 2px;\n    -webkit-box-shadow: inset 0 0 1px rgba(255, 255, 255, 0.8);\n    -moz-box-shadow: inset 0 0 1px rgba(255, 255, 255, 0.8);\n    box-shadow: inset 0 0 1px rgba(255, 255, 255, 0.8);\n    position: absolute;\n    z-index: 100; }\n  .inset-avatar .inset-avatar-border img {\n    width: 22px !important;\n    -webkit-border-radius: 2px;\n    border-radius: 2px; }\n\n.top-bar-actions {\n  margin: 0;\n  padding: 0;\n  border-right: 1px solid #5786aa;\n  border-right-color: rgba(255, 255, 255, 0.1);\n  border-left: 1px solid #06365f;\n  border-left-color: rgba(0, 0, 0, 0.1); }\n  .top-bar-actions > li {\n    position: relative;\n    float: left;\n    display: inline;\n    margin: 0; }\n    .top-bar-actions > li > a {\n      position: relative;\n      display: block;\n      height: 20px;\n      padding: 11px 11px 13px 12px;\n      border-right: 1px solid #06365f;\n      border-right-color: rgba(0, 0, 0, 0.1);\n      -webkit-box-shadow: inset 1px 0 0 rgba(255,255,255,.1);\n      -moz-box-shadow: inset 1px 0 0 rgba(255,255,255,.1);\n      box-shadow: inset 1px 0 0 rgba(255,255,255,.1);\n      text-shadow: 0 1px 0 rgba(3, 27, 47, 0.5);\n      -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n      .top-bar-actions > li > a i {\n        display: block;\n        float: left;\n        height: 28px;\n        width: 28px;\n        margin: -5px 4px 0 -8px; }\n      .top-bar-actions > li > a:hover {\n        background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/alpha/fff_10.png");\n        background: rgba(255, 255, 255, 0.1);\n        border-right-color: rgba(0, 0, 0, 0.15); }\n      .top-bar-actions > li > a:active, .top-bar-actions > li > a.link-active, html.touch .top-bar-actions > li > a.pressed {\n        border-left: none;\n        background-color: #1c5380;\n        background-color: rgba(6, 54, 95, 0.35);\n        -webkit-box-shadow: -1px 0 0 rgba(255,255,255,.15), inset 0 0 1px rgba(6, 54, 95, 0.4), inset 1px 0 1px rgba(6, 54, 95, 0.4);\n        -moz-box-shadow: -1px 0 0 rgba(255,255,255,.15), inset 0 0 1px rgba(6, 54, 95, 0.4), inset 1px 0 1px rgba(6, 54, 95, 0.4);\n        box-shadow: -1px 0 0 rgba(255,255,255,.15), inset 0 0 1px rgba(6, 54, 95, 0.4), inset 1px 0 1px rgba(6, 54, 95, 0.4); }\n    .top-bar-actions > li .img-outset {\n      float: left;\n      display: inline;\n      margin: -2px 10px 1px -1px; }\n    .top-bar-actions > li img {\n      width: 24px;\n      height: 24px;\n      visibility: hidden; }\n  .top-bar-actions .link-signin i {\n    background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/glyph-assets.png") no-repeat 2px 3px; }\n  .top-bar-actions .link-settings i {\n    background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/glyph-assets.png") no-repeat 3px -196px; }\n  .top-bar-actions .link-open-instagram i {\n    width: 26px;\n    height: 28px;\n    margin-left: 1px !important;\n    background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/glyph-assets.png") no-repeat 0px -399px; }\n  .top-bar-actions .link-open-instagram strong {\n    position: relative;\n    color: #e5ebf0;\n    top: -1px; }\n\n.account-state {\n  position: absolute;\n  top: 0;\n  right: 15px; }\n  .account-state p, .account-state .top-bar-actions {\n    float: right;\n    display: inline; }\n  .account-state p {\n    padding: 8px 0 0 15px;\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3); }\n  .account-state .dropdown {\n    right: 1px;\n    top: 38px; }\n    .account-state .dropdown a {\n      padding-right: 18px;\n      -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n    .account-state .dropdown i {\n      top: 0;\n      left: auto;\n      right: 13px;\n      height: 10px;\n      width: 13px;\n      background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/dropdown-arrow.png") no-repeat 0 0; }\n    .account-state .dropdown ul {\n      min-width: 150px; }\n\n.dropdown {\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 50;\n  margin: -10px 0 0;\n  padding: 10px 0 0;\n  pointer-events: none;\n  -webkit-transition: opacity 0.2s ease-out, margin 0.2s ease-out;\n  -moz-transition: opacity 0.2s ease-out, margin 0.2s ease-out;\n  -o-transition: opacity 0.2s ease-out, margin 0.2s ease-out;\n  transition: opacity 0.2s ease-out, margin 0.2s ease-out;\n  opacity: 0;\n  /* Add .dropdownOptionList if extra specificity is needed. */ }\n  html.android .dropdown, html.no-csstransitions .dropdown, html.msie .dropdown, html.opera .dropdown {\n    display: none; }\n  .dropdown ul.dropdownOptionList,\n  .dropdown ul {\n    background: #eeeeee url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/bg/white-gradient-300px.png") repeat-x 0 0;\n    background-color: rgba(255, 255, 255, 0.3);\n    -webkit-border-radius: 3px;\n    border-radius: 3px;\n    -webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,0.95), 0 1px 8px rgba(0,0,0,.2), 0 0 0 1px rgba(0,0,0,.08);\n    -moz-box-shadow: inset 0 1px 0 rgba(255,255,255,0.95), 0 1px 8px rgba(0,0,0,.2), 0 0 0 1px rgba(0,0,0,.08);\n    box-shadow: inset 0 1px 0 rgba(255,255,255,0.95), 0 1px 8px rgba(0,0,0,.2), 0 0 0 1px rgba(0,0,0,.08);\n    min-width: 100px;\n    padding: 1px 3px;\n    margin: 0;\n    list-style: none; }\n  .dropdown li {\n    padding: 5px 0 5px;\n    margin: 0;\n    border-top: 1px solid #eee;\n    -webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,0.95);\n    -moz-box-shadow: inset 0 1px 0 rgba(255,255,255,0.95);\n    box-shadow: inset 0 1px 0 rgba(255,255,255,0.95); }\n    .dropdown li:first-child {\n      border-top: none;\n      -webkit-box-shadow: none;\n      -moz-box-shadow: none;\n      box-shadow: none; }\n    .dropdown li a {\n      display: block;\n      padding: 4px 8px 4px 8px;\n      margin: -3px 0px -3px;\n      border: 1px solid transparent;\n      -webkit-border-radius: 2px;\n      border-radius: 2px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      /* Add .dropdownLinkHover if extra specificity is needed. */ }\n      .dropdown li a:hover.dropdownLinkHover, .dropdown li a:hover {\n        border: 1px solid #eee;\n        background: #999999 url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/bg/white-gradient-300px.png") repeat-x 50% 50%;\n        -webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,0.9);\n        -moz-box-shadow: inset 0 1px 0 rgba(255,255,255,0.9);\n        box-shadow: inset 0 1px 0 rgba(255,255,255,0.9); }\n      html.touch .dropdown li a:hover, .dropdown li a:active {\n        border: 1px solid #ddd;\n        border-top-color: #d6d6d6;\n        background: #eaeaea;\n        -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,.1), 0 1px 0 rgba(255,255,255,0.9);\n        -moz-box-shadow: inset 0 0 3px rgba(0,0,0,.1), 0 1px 0 rgba(255,255,255,0.9);\n        box-shadow: inset 0 0 3px rgba(0,0,0,.1), 0 1px 0 rgba(255,255,255,0.9); }\n    .dropdown li > strong {\n      display: block;\n      margin-bottom: -5px;\n      padding-bottom: 5px;\n      border-bottom: 1px solid #ddd; }\n  .dropdown i {\n    position: absolute;\n    left: 10px;\n    right: auto;\n    top: 0;\n    height: 10px;\n    width: 13px;\n    z-index: 10;\n    background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/glyph-assets.png") no-repeat -1px -800px; }\n  .dropdown i.right {\n    left: auto;\n    right: 10px; }\n\n.dropdown-inverted {\n  margin: 0 0 -10px;\n  padding: 0 0 5px;\n  top: auto;\n  bottom: 0; }\n  .dropdown-inverted i {\n    background-position: -1px -701px; }\n\n.dropdown-open .dropdown {\n  margin: 0;\n  opacity: 0.99;\n  pointer-events: all; }\n  html.android .dropdown-open .dropdown, html.no-csstransitions .dropdown-open .dropdown, html.msie .dropdown-open .dropdown, html.opera .dropdown-open .dropdown {\n    display: block; }\n\n.alerts {\n  margin-bottom: 20px; }\n\n.alert-red,\n.alert-blue,\n.alert-green {\n  padding: 11px 12px 9px;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  margin-bottom: 10px;\n  border: solid 1px;\n  min-height: 0; }\n\n.alert-red {\n  color: #b94a5c;\n  background-color: #f2dede;\n  border-color: #eed3d7; }\n\n.alert-blue {\n  color: #3a87ad;\n  background-color: #d9edf7;\n  border-color: #bce8f1; }\n\n.alert-green {\n  color: #468847;\n  background-color: #dff0d8;\n  border-color: #d6e9c6; }\n\n.p-error .main {\n  padding: 0 0 160px; }\n\n.error-container {\n  width: 400px;\n  border: 1px solid #a4baca;\n  background: #fdfdfd;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);\n  -webkit-background-clip: padding-box;\n  background-clip: padding-box;\n  margin: 100px auto 0;\n  padding: 25px 30px 20px;\n  text-align: center; }\n\n.top-bar .internal-settings {\n  position: relative;\n  float: right;\n  display: inline;\n  width: 110px;\n  height: 44px;\n  margin: 0 0 -1px;\n  padding: 0; }\n  .top-bar .internal-settings > a {\n    position: absolute;\n    left: 0;\n    top: 0;\n    display: block;\n    width: 40px;\n    height: 40px;\n    margin: 2px;\n    color: #2e4253;\n    background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/glyphs/internal-settings.png") no-repeat 0 -1px;\n    opacity: 0.6; }\n    .top-bar .internal-settings > a > strong {\n      display: block;\n      height: 40px;\n      padding-top: 9px;\n      margin-left: 34px; }\n  .top-bar .internal-settings .dropdown {\n    right: 0;\n    margin-right: -1px; }\n    .top-bar .internal-settings .dropdown i {\n      right: 17px; }\n  .top-bar .internal-settings.dropdown-open a, .top-bar .internal-settings:hover a {\n    opacity: 1; }\n.top-bar .on-prerelease > a {\n  background-position: 0 -41px;\n  color: #fff; }\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .top-bar .internal-settings > a {\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/glyphs/internal-settings@2x.png");\n    background-size: 40px 80px; } }\n@media screen and (max-width: 460px) {\n  .p-error .main {\n    padding-bottom: 0; }\n\n  .error-container {\n    margin: 0;\n    border: none;\n    width: auto; } }\n@media screen and (max-width: 990px) {\n  body, .root {\n    width: 100%; }\n\n  .wrapper {\n    width: 100%;\n    box-sizing: border-box; }\n\n  .account-state {\n    right: 0; }\n    .account-state ul {\n      border-right-width: 0; } }\n@media screen and (max-width: 480px) {\n  .account-state .link-signin > a strong,\n  .account-state .link-profile > a strong {\n    display: none; }\n  .account-state a {\n    padding-bottom: 12px; }\n    .account-state a .img-inset,\n    .account-state a .img-outset {\n      margin-right: 0; } }\n@media screen and (max-width: 480px) {\n  .top-bar .wrapper {\n    padding: 0 9px; } }\n@-webkit-keyframes \'fade-in\' {\n  0% {\n    opacity: 0; }\n\n  100% {\n    opacity: 1; } }\n\n@-moz-keyframes fade-in {\n  0% {\n    opacity: 0; }\n\n  100% {\n    opacity: 1; } }\n\n@-ms-keyframes fade-in {\n  0% {\n    opacity: 0; }\n\n  100% {\n    opacity: 1; } }\n\n@-o-keyframes fade-in {\n  0% {\n    opacity: 0; }\n\n  100% {\n    opacity: 1; } }\n\n@keyframes \'fade-in\' {\n  0% {\n    opacity: 0; }\n\n  100% {\n    opacity: 1; } }\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .top-bar {\n    -webkit-transform: translate3d(0,0,0);\n    -moz-transform: translate3d(0,0,0);\n    -o-transform: translate3d(0,0,0);\n    transform: translate3d(0,0,0); }\n\n  .account-state .link-signin i,\n  .account-state .link-settings i,\n  .account-state .link-open-instagram i {\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/glyph-assets@2x.png");\n    -webkit-background-size: 150px 1600px;\n    background-size: 150px 1600px; }\n\n  .dropdown {\n    -webkit-transform: translate3d(0, 0, 0);\n    -moz-transform: translate3d(0, 0, 0);\n    -o-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n    -webkit-transition: all 0.2s ease-out;\n    -moz-transition: all 0.2s ease-out;\n    -o-transition: all 0.2s ease-out;\n    transition: all 0.2s ease-out; }\n\n  .dropdown-open .dropdown {\n    margin: -10px 0 0;\n    -webkit-transform: translate3d(0, 10px, 0);\n    -moz-transform: translate3d(0, 10px, 0);\n    -o-transform: translate3d(0, 10px, 0);\n    transform: translate3d(0, 10px, 0); } }\n.mobileAvatarImage img {\n  height: 100%;\n  visibility: hidden;\n  width: auto; }\n',"")}),define("timeline/timeline_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("timeline/timeline",'.i-like-pop {\n  -webkit-animation: like-pop .3s ease-out 0s;\n  -moz-animation: like-pop .3s ease-out 0s;\n  -o-animation: like-pop .3s ease-out 0s;\n  animation: like-pop .3s ease-out 0s; }\n\n@-webkit-keyframes \'like-pop\' {\n  0% {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px 40px;\n    opacity: 0.5; }\n\n  60% {\n    opacity: 1; }\n\n  100% {\n    -webkit-background-size: 60px 60px;\n    background-size: 60px 60px;\n    opacity: 0; } }\n\n@-moz-keyframes like-pop {\n  0% {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px 40px;\n    opacity: 0.5; }\n\n  60% {\n    opacity: 1; }\n\n  100% {\n    -webkit-background-size: 60px 60px;\n    background-size: 60px 60px;\n    opacity: 0; } }\n\n@-ms-keyframes like-pop {\n  0% {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px 40px;\n    opacity: 0.5; }\n\n  60% {\n    opacity: 1; }\n\n  100% {\n    -webkit-background-size: 60px 60px;\n    background-size: 60px 60px;\n    opacity: 0; } }\n\n@-o-keyframes like-pop {\n  0% {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px 40px;\n    opacity: 0.5; }\n\n  60% {\n    opacity: 1; }\n\n  100% {\n    -webkit-background-size: 60px 60px;\n    background-size: 60px 60px;\n    opacity: 0; } }\n\n@keyframes \'like-pop\' {\n  0% {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px 40px;\n    opacity: 0.5; }\n\n  60% {\n    opacity: 1; }\n\n  100% {\n    -webkit-background-size: 60px 60px;\n    background-size: 60px 60px;\n    opacity: 0; } }\n\n.timelineBookmarkAvatar::after,\n.timelineCommentAvatar::after,\n.timelinePhoto::after {\n  display: block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  content: \'\';\n  z-index: 1; }\n.timelineBookmarkAvatar .Image,\n.timelineCommentAvatar .Image,\n.timelinePhoto .Image {\n  -webkit-box-shadow: 0 1px 0 rgba(255, 255, 255, 0.95);\n  -moz-box-shadow: 0 1px 0 rgba(255, 255, 255, 0.95);\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.95); }\n.timelineBookmarkAvatar::after,\n.timelineCommentAvatar::after,\n.timelinePhoto::after {\n  border: 1px solid rgba(0, 0, 0, 0.15); }\n\n.timelineBookmarkAvatar::after,\n.timelineBookmarkAvatar .Image,\n.timelineCommentAvatar::after,\n.timelineCommentAvatar .Image {\n  -webkit-border-radius: 2px;\n  border-radius: 2px; }\n\n.timelinePhoto,\n.timelinePhoto .Image,\n.timelinePhoto::after {\n  -webkit-border-radius: 3px 3px 0 0;\n  border-radius: 3px 3px 0 0; }\n\n.timelinePhoto {\n  -webkit-box-shadow: 0 0 15px rgba(0,0,0,.08);\n  -moz-box-shadow: 0 0 15px rgba(0,0,0,.08);\n  box-shadow: 0 0 15px rgba(0,0,0,.08); }\n  .timelinePhoto::after {\n    -webkit-box-shadow: inset 0 0 0 1px rgba(255,255,255,0.15);\n    -moz-box-shadow: inset 0 0 0 1px rgba(255,255,255,0.15);\n    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.15);\n    border-color: rgba(0, 0, 0, 0.2); }\n\n.timelineSidebar {\n  float: left;\n  width: 224px;\n  padding: 16px 0; }\n\n.timelineCenter {\n  background: #e0e1e2 url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-2.png");\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-width: 0 1px;\n  min-width: 240px;\n  max-width: 512px;\n  padding: 16px 32px;\n  margin-left: 224px; }\n\n.timelineFirst .timelineSidebar,\n.timelineFirst .timelineCenter {\n  padding-top: 32px; }\n\n.timelineLast .timelineSidebar,\n.timelineLast .timelineCenter {\n  padding-bottom: 32px; }\n\n.timelineLast .timelineCenter {\n  border-width: 0 1px 1px;\n  -webkit-border-radius: 0 0 3px 3px;\n  border-radius: 0 0 3px 3px; }\n\n.timelineBookmark {\n  margin-right: 24px;\n  padding-top: 4px;\n  position: relative; }\n  .timelineBookmark .timelineBookmarkAvatar {\n    position: absolute;\n    right: 0;\n    top: 0; }\n  .timelineBookmark .Image {\n    width: 40px;\n    height: 40px; }\n\n.timelineBookmarkInfo {\n  padding: 0 52px 0 0; }\n\n.timelineBookmarkInfoUsername,\n.timelineBookmarkInfoTimestamp {\n  display: block;\n  text-align: right; }\n\n.timelineBookmarkInfoUsername {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-left: 4px; }\n\n.timelineBookmarkLocation {\n  float: right;\n  background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/feed/feed-assets.png") no-repeat -4px -204px;\n  padding: 0 0 0 14px;\n  margin: 12px 0 0 20px;\n  max-width: 85%;\n  text-align: left;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap; }\n\n.timelineCard {\n  background: #fafafa;\n  border: 1px solid #c0c0c0;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 16px rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: 0 1px 16px rgba(0, 0, 0, 0.1);\n  box-shadow: 0 1px 16px rgba(0, 0, 0, 0.1);\n  text-align: left; }\n\n.timelineCard .mediaPhoto {\n  position: relative;\n  padding-bottom: 100%;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.timelineCard .mediaPhoto .timelinePhoto {\n  position: absolute;\n  top: -1px;\n  right: -1px;\n  bottom: -1px;\n  left: -1px; }\n  .timelineCard .mediaPhoto .timelinePhoto .Image {\n    -webkit-box-shadow: none;\n    -moz-box-shadow: none;\n    box-shadow: none; }\n\n.timelineCard .mediaPhoto .i-like-big {\n  display: block;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/p/glyph-heart-pop-big.png") no-repeat 50% 50%;\n  z-index: 100;\n  -webkit-background-size: 40% 40%;\n  background-size: 40% 40%;\n  -moz-opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  opacity: 0;\n  opacity: 0;\n  pointer-events: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.timelineCard .mediaPhoto .i-like-big-pop {\n  -webkit-animation: like-big-pop 0.3s ease-out;\n  -moz-animation: like-big-pop 0.3s ease-out;\n  -o-animation: like-big-pop 0.3s ease-out;\n  animation: like-big-pop 0.3s ease-out; }\n\n@-webkit-keyframes \'like-big-pop\' {\n  0% {\n    -webkit-background-size: 40% 40%;\n    background-size: 40% 40%;\n    opacity: 0.25; }\n\n  50% {\n    opacity: 0.9; }\n\n  100% {\n    -webkit-background-size: 60% 60%;\n    background-size: 60% 60%;\n    opacity: 0; } }\n\n@-moz-keyframes like-big-pop {\n  0% {\n    -webkit-background-size: 40% 40%;\n    background-size: 40% 40%;\n    opacity: 0.25; }\n\n  50% {\n    opacity: 0.9; }\n\n  100% {\n    -webkit-background-size: 60% 60%;\n    background-size: 60% 60%;\n    opacity: 0; } }\n\n@-ms-keyframes like-big-pop {\n  0% {\n    -webkit-background-size: 40% 40%;\n    background-size: 40% 40%;\n    opacity: 0.25; }\n\n  50% {\n    opacity: 0.9; }\n\n  100% {\n    -webkit-background-size: 60% 60%;\n    background-size: 60% 60%;\n    opacity: 0; } }\n\n@-o-keyframes like-big-pop {\n  0% {\n    -webkit-background-size: 40% 40%;\n    background-size: 40% 40%;\n    opacity: 0.25; }\n\n  50% {\n    opacity: 0.9; }\n\n  100% {\n    -webkit-background-size: 60% 60%;\n    background-size: 60% 60%;\n    opacity: 0; } }\n\n@keyframes \'like-big-pop\' {\n  0% {\n    -webkit-background-size: 40% 40%;\n    background-size: 40% 40%;\n    opacity: 0.25; }\n\n  50% {\n    opacity: 0.9; }\n\n  100% {\n    -webkit-background-size: 60% 60%;\n    background-size: 60% 60%;\n    opacity: 0; } }\n\n.timelineLikes {\n  position: relative;\n  height: 40px;\n  border-bottom: 1px solid #ddd;\n  margin: 1px 0 -1px;\n  background: #e6e6e6 url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/bg/white-gradient-100px.png") repeat-x 50% 50%;\n  -webkit-box-shadow: inset 0 0 0 1px rgba(255,255,255,.15), 0 0 3px rgba(0,0,0,.1);\n  -moz-box-shadow: inset 0 0 0 1px rgba(255,255,255,.15), 0 0 3px rgba(0,0,0,.1);\n  box-shadow: inset 0 0 0 1px rgba(255,255,255,.15), 0 0 3px rgba(0,0,0,.1); }\n\n.timelineLikeList {\n  line-height: 16px;\n  margin: 0 52px 0 48px;\n  padding: 12px 0 12px 12px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap; }\n\n.noLikes {\n  font-weight: bold;\n  visibility: hidden; }\n\n.timelineLikeButton {\n  position: relative;\n  float: left;\n  display: inline;\n  height: 100%;\n  width: 48px;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none; }\n\n.timelineLikeButton {\n  background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/feed/feed-assets.png") no-repeat 8px 6px;\n  border-right: 1px solid #ddd;\n  -webkit-box-shadow: 1px 0 0 rgba(255, 255, 255, 0.9);\n  -moz-box-shadow: 1px 0 0 rgba(255, 255, 255, 0.9);\n  box-shadow: 1px 0 0 rgba(255, 255, 255, 0.9); }\n\n.timelineLiked {\n  background-position: 8px -44px; }\n\n.timelineLikeButtonAnimation {\n  background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/p/glyph-heart-pop.png") no-repeat 50% 50%;\n  display: block;\n  position: relative;\n  left: -1px;\n  top: 1px;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  z-index: 5;\n  pointer-events: none;\n  -webkit-background-size: 40px 40px;\n  background-size: 40px 40px; }\n\n.timelineLikeButton:active,\n.timelineLiked,\n.timelineLiked:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n  -webkit-box-shadow: 0 1px 0 rgba(0,0,0,.15), 0 2px 0 rgba(255,255,255,.9), inset 0 0 2px rgba(0,0,0,.08);\n  -moz-box-shadow: 0 1px 0 rgba(0,0,0,.15), 0 2px 0 rgba(255,255,255,.9), inset 0 0 2px rgba(0,0,0,.08);\n  box-shadow: 0 1px 0 rgba(0,0,0,.15), 0 2px 0 rgba(255,255,255,.9), inset 0 0 2px rgba(0,0,0,.08); }\n\n.timelineComments {\n  padding: 0; }\n  .timelineComments .delete-comment {\n    right: 12px !important; }\n\n.timelineCommentsViewport {\n  max-height: 320px; }\n\n.timelineCommentsViewport.scrollAreaScrolling {\n  margin-top: -1px;\n  border-bottom: 1px solid #ddd; }\n\n.timelineComment,\n.timelineCommentMore,\n.timelineCommentComposer {\n  position: relative; }\n\n.timelineComment,\n.timelineCommentMore {\n  margin: 0 0 12px;\n  padding: 0 11px 0 48px; }\n\n.timelineComment {\n  -webkit-transition: opacity 0.2s;\n  -moz-transition: opacity 0.2s;\n  -o-transition: opacity 0.2s;\n  transition: opacity 0.2s;\n  text-overflow: ellipsis; }\n\n.timelineComment:last-child {\n  margin: 0; }\n\n.timelineCommentNew {\n  opacity: 0; }\n\n.timelineCommentAvatar.Image {\n  position: absolute;\n  left: 12px;\n  top: 0;\n  width: 24px;\n  height: 24px; }\n\n.timelineCommentUsername,\n.timelineCommentText {\n  position: relative;\n  top: 1px; }\n\n.timelineCommentUsername {\n  margin: 0 0.4em 0 0; }\n\n.timelineCommentComposer {\n  padding: 12px;\n  margin-bottom: 0; }\n  .timelineCommentComposer .timelineCommentText {\n    top: 0; }\n  .timelineCommentComposer .timelineCommentAvatar {\n    display: none; }\n\n.timelineCommentTextField {\n  width: 100%;\n  margin: 0;\n  padding: 8px 9px 7px;\n  border-color: #d8d8d8;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n  -webkit-font-smoothing: antialiased; }\n\n.timelineCommentMore {\n  padding-bottom: 12px;\n  margin: 0; }\n\n.timelineCaption.timelineComment {\n  border-bottom: 1px solid #e6e6e6;\n  padding: 12px 12px 11px 48px;\n  margin-bottom: 0;\n  word-wrap: break-word;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n  -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04); }\n  .timelineCaption.timelineComment .timelineCommentAvatar {\n    top: 11px; }\n\n@media screen and (max-width: 744px) {\n  .timelineSidebar {\n    padding: 8px 0;\n    width: 30.108%; }\n\n  .timelineCenter {\n    margin-left: 30.108%;\n    padding: 8px 20px 16px; }\n\n  .timelineFirst .timelineSidebar {\n    padding-top: 20px; }\n\n  .timelineFirst .timelineCenter {\n    padding-top: 20px; }\n\n  .timelineLast .timelineCenter {\n    padding-bottom: 24px; }\n\n  .timelineBookmark {\n    margin-right: 16px; } }\n@media screen and (min-width: 521px) {\n  .timelineCenter {\n    -webkit-box-shadow: inset 1px 0 0 rgba(0,0,0,.05), inset -1px 0 0 rgba(0,0,0,.05);\n    -moz-box-shadow: inset 1px 0 0 rgba(0,0,0,.05), inset -1px 0 0 rgba(0,0,0,.05);\n    box-shadow: inset 1px 0 0 rgba(0,0,0,.05), inset -1px 0 0 rgba(0,0,0,.05); }\n\n  .timelineLast .timelineCenter {\n    -webkit-box-shadow: inset 1px 0 0 rgba(0,0,0,.05), inset -1px 0 0 rgba(0,0,0,.05), inset 0 -1px 0 rgba(0,0,0,.05);\n    -moz-box-shadow: inset 1px 0 0 rgba(0,0,0,.05), inset -1px 0 0 rgba(0,0,0,.05), inset 0 -1px 0 rgba(0,0,0,.05);\n    box-shadow: inset 1px 0 0 rgba(0,0,0,.05), inset -1px 0 0 rgba(0,0,0,.05), inset 0 -1px 0 rgba(0,0,0,.05); } }\n@media screen and (max-width: 520px) {\n  .timelineCenter,\n  .timelineSidebar {\n    background: transparent; }\n\n  .timelineDivider .timelineDividerText {\n    background: #edeeef url(../../images/shared/noise-2.png); }\n\n  .timelineCenter {\n    margin-left: 0;\n    border: none; }\n\n  .timelineCenter,\n  .timelineFirst .timelineCenter {\n    padding-top: 12px; }\n\n  .timelineFirst .timelineSidebar {\n    padding-top: 20px; }\n\n  .timelineLast .timelineSidebar {\n    display: none; }\n\n  .timelineLast .timelineCenter {\n    -webkit-border-radius: 0;\n    border-radius: 0;\n    padding-bottom: 24px; }\n\n  .timelineSidebar {\n    width: auto;\n    float: none;\n    padding-bottom: 0; }\n\n  .timelineBookmark {\n    min-height: 36px;\n    padding-left: 72px;\n    margin-right: 20px;\n    text-align: left; }\n    .timelineBookmark .timelineBookmarkAvatar {\n      top: 0;\n      left: 20px;\n      right: auto; }\n\n  .timelineBookmarkInfo {\n    padding: 0; }\n\n  .timelineBookmarkInfoUsername {\n    float: left;\n    padding-left: 0; }\n\n  .timelineBookmarkInfoTimestamp {\n    float: right; }\n\n  .timelineBookmarkInfoUsername {\n    margin-right: 0.4em; }\n\n  .timelineBookmarkLocation {\n    float: left;\n    clear: left;\n    margin-top: 0;\n    margin-left: -1px; } }\n@media screen and (max-width: 480px) {\n  .timelineCenter,\n  .timelineFirst .timelineCenter {\n    padding: 8px; }\n\n  .timelineFirst .timelineSidebar {\n    padding-top: 12px; }\n\n  .timelineBookmark {\n    min-height: 36px;\n    padding-left: 56px;\n    margin-right: 9px; }\n    .timelineBookmark .timelineBookmarkAvatar {\n      left: 8px; }\n\n  .timelineBookmarkInfoTimestamp .timelineBookmarkInfoTimestampContent {\n    display: none; }\n  .timelineBookmarkInfoTimestamp:after {\n    text-indent: 0;\n    content: attr(data-timestamp-short); } }\n@media screen and (max-width: 400px) {\n  .timelineCenter,\n  .timelineFirst .timelineCenter {\n    padding: 8px 4px; }\n\n  .timelineBookmark {\n    min-height: 32px;\n    padding-left: 44px;\n    padding-top: 0;\n    margin-right: 5px; }\n    .timelineBookmark .timelineBookmarkAvatar {\n      left: 4px; }\n    .timelineBookmark .Image {\n      width: 32px;\n      height: 32px; }\n\n  .timelineCommentsViewport .scrollAreaContents {\n    padding: 4px 0 0; }\n\n  .timelineComment,\n  .timelineCommentMore,\n  .timelineCaption {\n    margin: 0; }\n\n  .timelineComment {\n    padding: 4px 8px 0 12px; }\n    .timelineComment .delete-comment {\n      top: 6px !important; }\n\n  .timelineComment:last-child {\n    padding-bottom: 0; }\n\n  .timelineCommentMore {\n    margin-top: 0; }\n\n  .timelineCommentAvatar {\n    display: none !important; }\n\n  .timelineCaption {\n    padding: 8px 8px 8px 12px; } }\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .timelineLikeButton {\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/feed/feed-assets@2x.png");\n    -webkit-background-size: 100px 1000px;\n    background-size: 100px 1000px; }\n\n  .timelineBookmarkLocation {\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/feed/feed-assets@2x.png");\n    -webkit-background-size: 100px 1000px;\n    background-size: 100px 1000px; }\n\n  .timelineComments .scrollArea {\n    -webkit-transform: translate3d(0, 0, 0);\n    -moz-transform: translate3d(0, 0, 0);\n    -o-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0); } }\n.timelineBookmark {\n  font-weight: bold;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8); }\n\n.timelineBookmark {\n  line-height: 16px; }\n\n.timelineBookmarkInfoTimestamp,\n.timelineBookmarkLocation {\n  color: #999999; }\n\n.timelineCommentUsername {\n  font-weight: bold; }\n\n.timelineCommentMore .timelineCommentText {\n  color: #999999;\n  font-weight: bold;\n  cursor: pointer; }\n\n.timelineCommentMore .timelineCommentText:hover {\n  text-decoration: none; }\n\n.timelineLoading {\n  color: #999999; }\n\n.timelineCommentSpinner {\n  margin-left: -34px;\n  margin-right: 14px; }\n\n.timelineLoading {\n  color: #999; }\n\n.timelineLoadingSpinner {\n  position: relative;\n  height: 20px;\n  width: 20px;\n  display: inline-block;\n  margin-right: 5px;\n  margin-top: -1px;\n  vertical-align: middle; }\n\n.timelineLoadingSpinner,\n.timelineCommentSpinner {\n  display: inline-block;\n  height: 16px;\n  width: 16px; }\n\n.timelineCommentSpinner {\n  position: absolute;\n  top: 1px;\n  left: 2px; }\n\n.timelineLoadingSpinner {\n  position: relative;\n  top: -1px;\n  margin: -5px 8px -5px -4px; }\n\n.timelineTopPaginate {\n  background-color: rgba(255, 255, 255, 0.92);\n  padding-bottom: 8px;\n  cursor: pointer;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 3;\n  -webkit-transition: 0.2s all;\n  -moz-transition: 0.2s all;\n  -o-transition: 0.2s all;\n  transition: 0.2s all;\n  -webkit-box-shadow: 1px 0 5px rgba(0, 0, 0, 0.3);\n  -moz-box-shadow: 1px 0 5px rgba(0, 0, 0, 0.3);\n  box-shadow: 1px 0 5px rgba(0, 0, 0, 0.3);\n  text-shadow: 0 1px 0 #fff;\n  font-weight: bold; }\n\n.timelineTopPaginate:hover {\n  text-decoration: none; }\n\n.timelineTopPaginate,\n.timelineTopPaginate:hover {\n  color: #999999; }\n\n.timelineTopPaginate.timelineTopShowing {\n  padding-top: 52px; }\n\n.timelineDivider {\n  height: 24px;\n  margin: -4px 1px;\n  position: relative; }\n\n.timelineDividerLine {\n  border-top: 1px solid #bbbbbb;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3);\n  height: 0;\n  position: absolute;\n  top: 50%;\n  width: 100%; }\n\n.timelineDividerText {\n  display: inline-block;\n  padding-left: 16px;\n  padding-right: 16px;\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n  line-height: 24px;\n  color: #999999;\n  font-weight: bold;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8);\n  background: #e0e1e2 url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-2.png"); }\n\n.timelineFeedPage {\n  background: #edeeef url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/shared/noise-2.png"); }\n\n.timelineFeedPage .top-bar {\n  position: fixed;\n  width: 100%; }\n\n.timelineFeedPage .main .wrapper {\n  max-width: 1024px;\n  padding: 43px 0 52px;\n  text-align: center; }\n\n.timelineFeedPage .page-footer {\n  background: none;\n  border: none; }\n',"")}),define("delete_comment_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("delete_comment",'.media-comments .delete-comment, .timelineComments .delete-comment {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 8px;\n  width: 17px;\n  height: 17px;\n  margin: 0;\n  background: #f0f0f0 url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/p/photo-page-assets.png") no-repeat 4px -496px;\n  -webkit-border-radius: 2px;\n  border-radius: 2px; }\n  .media-comments .delete-comment:hover, .timelineComments .delete-comment:hover {\n    background-color: #e6e6e6; }\n  .media-comments .delete-comment:active, .timelineComments .delete-comment:active {\n    background-color: #ddd;\n    -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\n    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1); }\n.media-comments .caption .delete-comment, .media-comments .timelineCaption .delete-comment, .timelineComments .caption .delete-comment, .timelineComments .timelineCaption .delete-comment {\n  top: 10px;\n  right: 8px; }\n.mount-addcomment .media-comments ul .delete-comment, .mount-addcomment .timelineComments ul .delete-comment {\n  right: 6px; }\n\n.comment:hover.can-delete-comments .delete-comment, .can-delete-comments .comment:hover .delete-comment, .comment.force-hover.can-delete-comments .delete-comment, .can-delete-comments .comment.force-hover .delete-comment, .timelineComment:hover.can-delete-comments .delete-comment, .can-delete-comments .timelineComment:hover .delete-comment, .timelineComment.force-hover.can-delete-comments .delete-comment, .can-delete-comments .timelineComment.force-hover .delete-comment {\n  display: block; }\n.comment:hover.can-delete-comments .comment-meta, .can-delete-comments .comment:hover .comment-meta, .comment.force-hover.can-delete-comments .comment-meta, .can-delete-comments .comment.force-hover .comment-meta, .timelineComment:hover.can-delete-comments .comment-meta, .can-delete-comments .timelineComment:hover .comment-meta, .timelineComment.force-hover.can-delete-comments .comment-meta, .can-delete-comments .timelineComment.force-hover .comment-meta {\n  display: none; }\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .delete-comment {\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/p/photo-page-assets@2x.png");\n    background-size: 300px 700px; } }\n',"")}),define("ReactBackbone",["require","exports","module","React","backbone"],function(e,t,n){function s(e,t){var n=0;t||(t={});for(var r in e.props){if(!e.props.hasOwnProperty(r))continue;var s=e.props[r];if(!(s instanceof i.Model))continue;s.on("change",e.reconcile,e),t["_backboneModel"+n]=s,n++}return t}function o(e){for(var t in e.props){if(!e.props.hasOwnProperty(t))continue;var n=e.props[t];if(!(n instanceof i.Model))continue;n.off(null,null,e)}}var r=e("React"),i=e("backbone");t.createComponent=function(e){return e.getInitialState?(e._backboneGetInitialState=e.getInitialState,e.getInitialState=function(){return s(this,this._backboneGetInitialState())}):e.getInitialState=function(){return s(this)},e.destroy?(e._backboneDestroy=e.componentWillUnmount,e.componentWillUnmount=function(){this._backboneDestroy(),o(this)}):e.componentWillUnmount=function(){o(this)},r.createClass(e)}}),define("lib/ui/primitives/ResponsiveContainer_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/ui/primitives/ResponsiveContainer",".ResponsiveContainer {\n  position: relative;\n  width: 100%; }\n\n.rcContent {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0; }\n","")}),define("lib/ui/primitives/ResponsiveContainer",["require","exports","module","ReactDOM","React","cx","./ResponsiveContainer_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("cx");e("./ResponsiveContainer_css");var o=i.createClass({render:function(){var e=(this.props.ratio||0)*100+"%";return this.transferPropsTo(r.div({className:"rcWrapper",children:r.div({className:"ResponsiveContainer",style:{paddingBottom:e},children:r.div({className:"rcContent",children:this.props.children})})}))}});n.exports=o}),define("lib/followbutton_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/followbutton",".followButtonPhoto .followButtonFollow,\n.followButtonPhoto .followButtonFollowing,\n.followButtonPhoto .followButtonRequested {\n  font-size: 12px;\n  font-size: 1.2rem;\n  padding: 4px 7px 4px;\n  -webkit-border-radius: 2px;\n  border-radius: 2px; }\n\nhtml .followButtonFollow, html .followButtonRequested,\n.followButtonPhoto .followButtonRequested, html .followButtonFollowing,\n.followButtonPhoto .followButtonFollowing, html .followButtonFollow:visited, html .followButtonRequested:visited,\n.followButtonPhoto .followButtonRequested:visited, html .followButtonFollowing:visited,\n.followButtonPhoto .followButtonFollowing:visited {\n  color: #fff; }\nhtml .followButtonFollow:hover, html .followButtonRequested:hover,\n.followButtonPhoto .followButtonRequested:hover, html .followButtonFollowing:hover,\n.followButtonPhoto .followButtonFollowing:hover {\n  color: #fff; }\nhtml .ButtonActive.followButtonFollow, html .ButtonActive.followButtonRequested,\n.followButtonPhoto .ButtonActive.followButtonRequested, html .ButtonActive.followButtonFollowing,\n.followButtonPhoto .ButtonActive.followButtonFollowing, html .button-active.followButtonFollow, html .button-active.followButtonRequested,\n.followButtonPhoto .button-active.followButtonRequested, html .button-active.followButtonFollowing,\n.followButtonPhoto .button-active.followButtonFollowing, html .active.followButtonFollow, html .active.followButtonRequested,\n.followButtonPhoto .active.followButtonRequested, html .active.followButtonFollowing,\n.followButtonPhoto .active.followButtonFollowing, html .followButtonFollow:active, html .followButtonRequested:active,\n.followButtonPhoto .followButtonRequested:active, html .followButtonFollowing:active,\n.followButtonPhoto .followButtonFollowing:active, html.touch .pressed.followButtonFollow, html.touch .pressed.followButtonRequested, html.touch .pressed.followButtonFollowing {\n  color: rgba(255, 255, 255, 0.8);\n  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3); }\n\n.followButtonPhoto .followButtonFollow {\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.2);\n  -webkit-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  -moz-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  box-shadow:              0 1px 1px rgba(0, 0, 0, 0.08),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ; }\n  .followButtonPhoto .ButtonActive.followButtonFollow, .followButtonPhoto .button-active.followButtonFollow, .followButtonPhoto .active.followButtonFollow, .followButtonPhoto .followButtonFollow:active, html.touch .followButtonPhoto .pressed.followButtonFollow, .followButtonPhoto html.touch .pressed.followButtonFollow {\n    -webkit-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ;\n    -moz-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ;\n    box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.08),             inset 0 0 1px rgba(0, 0, 0, 0.08),             0 1px 0 rgba(255, 255, 255, 0.9)         ; }\n\nhtml .followButtonFollow, html .followButtonRequested,\n.followButtonPhoto .followButtonRequested {\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.2);\n  -webkit-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.1),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  -moz-box-shadow:              0 1px 1px rgba(0, 0, 0, 0.1),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ;\n  box-shadow:              0 1px 1px rgba(0, 0, 0, 0.1),             inset 1px 0 0 rgba(255,255,255,0.05),             inset -1px 0 0 rgba(255,255,255,0.05),             inset 0 1px 0 rgba(255, 255, 255, 0.2)         ; }\n  html .ButtonActive.followButtonFollow, html .ButtonActive.followButtonRequested,\n  .followButtonPhoto .ButtonActive.followButtonRequested, html .button-active.followButtonFollow, html .button-active.followButtonRequested,\n  .followButtonPhoto .button-active.followButtonRequested, html .active.followButtonFollow, html .active.followButtonRequested,\n  .followButtonPhoto .active.followButtonRequested, html .followButtonFollow:active, html .followButtonRequested:active,\n  .followButtonPhoto .followButtonRequested:active, html.touch .pressed.followButtonFollow, html.touch .pressed.followButtonRequested {\n    -webkit-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.15),             inset 0 0 1px rgba(0, 0, 0, 0.15),             0 1px 0 rgba(255, 255, 255, 0.8)         ;\n    -moz-box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.15),             inset 0 0 1px rgba(0, 0, 0, 0.15),             0 1px 0 rgba(255, 255, 255, 0.8)         ;\n    box-shadow:              inset 0 1px 1px rgba(0, 0, 0, 0.15),             inset 0 0 1px rgba(0, 0, 0, 0.15),             0 1px 0 rgba(255, 255, 255, 0.8)         ; }\n\nhtml .followButtonFollow {\n  background-color: #6f97b6;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#6f97b6), to(#3f729b));\n  background-image: -webkit-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: -moz-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: -o-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: -ms-linear-gradient(top, #6f97b6, #3f729b);\n  background-image: linear-gradient(top, #6f97b6, #3f729b);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr='#6f97b6', EndColorStr='#3f729b');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #1c5380; }\n  html .ButtonActive.followButtonFollow, html .button-active.followButtonFollow, html .active.followButtonFollow, html .followButtonFollow:active, html.touch .pressed.followButtonFollow {\n    background: #3c6d94; }\n  html .followButtonFollow {\n    border: 1px solid #1c5380; }\n  html .ButtonActive.followButtonFollow, html .button-active.followButtonFollow, html .active.followButtonFollow, html .followButtonFollow:active, html.touch .pressed.followButtonFollow {\n    border-color: #133856; }\n\nhtml .followButtonRequested,\n.followButtonPhoto .followButtonRequested {\n  background-color: #999999;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#999999), to(#7c7c7c));\n  background-image: -webkit-linear-gradient(top, #999999, #7c7c7c);\n  background-image: -moz-linear-gradient(top, #999999, #7c7c7c);\n  background-image: -o-linear-gradient(top, #999999, #7c7c7c);\n  background-image: -ms-linear-gradient(top, #999999, #7c7c7c);\n  background-image: linear-gradient(top, #999999, #7c7c7c);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr='#999999', EndColorStr='#7c7c7c');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.4); }\n  html .ButtonActive.followButtonRequested,\n  .followButtonPhoto .ButtonActive.followButtonRequested, html .button-active.followButtonRequested,\n  .followButtonPhoto .button-active.followButtonRequested, html .active.followButtonRequested,\n  .followButtonPhoto .active.followButtonRequested, html .followButtonRequested:active,\n  .followButtonPhoto .followButtonRequested:active, html.touch .pressed.followButtonRequested {\n    background: #777777; }\n  html .followButtonRequested,\n  .followButtonPhoto .followButtonRequested {\n    border: 1px solid #777777; }\n  html .ButtonActive.followButtonRequested,\n  .followButtonPhoto .ButtonActive.followButtonRequested, html .button-active.followButtonRequested,\n  .followButtonPhoto .button-active.followButtonRequested, html .active.followButtonRequested,\n  .followButtonPhoto .active.followButtonRequested, html .followButtonRequested:active,\n  .followButtonPhoto .followButtonRequested:active, html.touch .pressed.followButtonRequested {\n    border-color: #666666; }\n\n.followButtonPhoto .followButtonFollow {\n  background-color: #f3f3f3;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#f3f3f3), to(#dddddd));\n  background-image: -webkit-linear-gradient(top, #f3f3f3, #dddddd);\n  background-image: -moz-linear-gradient(top, #f3f3f3, #dddddd);\n  background-image: -o-linear-gradient(top, #f3f3f3, #dddddd);\n  background-image: -ms-linear-gradient(top, #f3f3f3, #dddddd);\n  background-image: linear-gradient(top, #f3f3f3, #dddddd);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr='#f3f3f3', EndColorStr='#dddddd');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6); }\n  .followButtonPhoto .ButtonActive.followButtonFollow, .followButtonPhoto .button-active.followButtonFollow, .followButtonPhoto .active.followButtonFollow, .followButtonPhoto .followButtonFollow:active, html.touch .followButtonPhoto .pressed.followButtonFollow, .followButtonPhoto html.touch .pressed.followButtonFollow {\n    background: #d8d8d8; }\n  .followButtonPhoto .followButtonFollow {\n    border: 1px solid #c6c6c6; }\n  .followButtonPhoto .ButtonActive.followButtonFollow, .followButtonPhoto .button-active.followButtonFollow, .followButtonPhoto .active.followButtonFollow, .followButtonPhoto .followButtonFollow:active, html.touch .followButtonPhoto .pressed.followButtonFollow, .followButtonPhoto html.touch .pressed.followButtonFollow {\n    border-color: #bbbbbb; }\n\nhtml .followButtonFollowing,\n.followButtonPhoto .followButtonFollowing {\n  background-color: #47bc60;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#47bc60), to(#39a64e));\n  background-image: -webkit-linear-gradient(top, #47bc60, #39a64e);\n  background-image: -moz-linear-gradient(top, #47bc60, #39a64e);\n  background-image: -o-linear-gradient(top, #47bc60, #39a64e);\n  background-image: -ms-linear-gradient(top, #47bc60, #39a64e);\n  background-image: linear-gradient(top, #47bc60, #39a64e);\n  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,StartColorStr='#47bc60', EndColorStr='#39a64e');\n  background-position: 50% 50%;\n  text-shadow: 0 1px 1px #2c803c; }\n  html .ButtonActive.followButtonFollowing,\n  .followButtonPhoto .ButtonActive.followButtonFollowing, html .button-active.followButtonFollowing,\n  .followButtonPhoto .button-active.followButtonFollowing, html .active.followButtonFollowing,\n  .followButtonPhoto .active.followButtonFollowing, html .followButtonFollowing:active,\n  .followButtonPhoto .followButtonFollowing:active, html.touch .pressed.followButtonFollowing {\n    background: #369e4a; }\n  html .followButtonFollowing,\n  .followButtonPhoto .followButtonFollowing {\n    border: 1px solid #329345; }\n  html .ButtonActive.followButtonFollowing,\n  .followButtonPhoto .ButtonActive.followButtonFollowing, html .button-active.followButtonFollowing,\n  .followButtonPhoto .button-active.followButtonFollowing, html .active.followButtonFollowing,\n  .followButtonPhoto .active.followButtonFollowing, html .followButtonFollowing:active,\n  .followButtonPhoto .followButtonFollowing:active, html.touch .pressed.followButtonFollowing {\n    border-color: #256d33; }\n\n.followButtonPhoto .followButtonFollow,\n.followButtonPhoto .followButtonFollowing,\n.followButtonPhoto .followButtonRequested {\n  width: auto; }\n\n.followButtonPhoto .followButtonFollow, .followButtonPhoto .followButtonFollow:visited,\n.followButtonPhoto .followButtonRequested,\n.followButtonPhoto .followButtonRequested:visited {\n  color: #666666; }\n.followButtonPhoto .followButtonFollow:hover,\n.followButtonPhoto .followButtonRequested:hover {\n  color: #444444; }\n.followButtonPhoto .followButtonFollow.ButtonActive, .followButtonPhoto .followButtonFollow:active, html.touch .followButtonPhoto .followButtonFollow.pressed,\n.followButtonPhoto .followButtonRequested.ButtonActive,\n.followButtonPhoto .followButtonRequested:active, html.touch\n.followButtonPhoto .followButtonRequested.pressed {\n  color: #444444; }\n\n.avatar-container .followButtonFollow,\n.avatar-container .followButtonFollowing,\n.avatar-container .followButtonRequested {\n  margin-top: 5px;\n  width: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  box-sizing: border-box; }\n\n.followButtonIndicator {\n  width: 110px;\n  height: 110px;\n  display: block;\n  position: absolute;\n  left: 5px;\n  top: 5px;\n  background: url(\"//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/alpha/000_40.png\");\n  -webkit-border-radius: 2px;\n  border-radius: 2px; }\n\n.page-profile .followButtonFollow,\n.page-profile .followButtonFollowing,\n.page-profile .followButtonRequested,\n.sulFeedItem .followButtonFollow,\n.sulFeedItem .followButtonFollowing,\n.sulFeedItem .followButtonRequested {\n  padding: 5px 6px 6px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px; }\n\n.FollowButton {\n  font-size: 14px;\n  text-align: center; }\n","")}),define("lib/followbutton",["require","exports","module","ReactDOM","React","cx","lib/ui/primitives/Button","framework/tx","framework/tx","framework/i18n","lib/ui/common/Spinner","copyProperties","lib/layers/login","ReactBinding","./followbutton_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("cx"),o=e("lib/ui/primitives/Button"),u=e("framework/tx").tx,a=e("framework/tx").txp,f=e("framework/i18n").i18n,l=e("lib/ui/common/Spinner"),c=e("copyProperties"),h=e("lib/layers/login").LoginDialog,p=e("ReactBinding");e("./followbutton_css");var d=function(e,t,n,r,i){var e=e=="follow"?"follow":"unfollow";$.ajax({type:"POST",url:"/web/friendships/"+t+"/"+e+"/?ref="+n,complete:r,success:i})},v=i.createClass({getStrings:function(){var e=this.getShortStrings();return this.props.longText&&c(e,this.getLongStrings()),e},getLongStrings:function(){return{follow:u({children:["Follow"," ",a({name:"username",children:[this.props.user.username]})," ","on Instagram"]})}},getShortStrings:function(){return{follow:u({children:["Follow"]}),following:u({children:["Following"]}),requested:u({children:["Requested"]})}},render:function(){var e,t=this.getStrings();this.props.relationshipAnonymous?e=o({onClick:this.props.onLogin,className:"FollowButton followButtonFollow",children:[t.follow]}):this.props.relationshipFollowing?e=o({onClick:this.props.onUnfollow,className:"FollowButton followButtonFollowing",children:[t.following]}):this.props.relationshipOutgoingRequest?e=o({className:"FollowButton followButtonRequested",onClick:this.props.onUnfollow,children:[t.requested]}):e=o({onClick:this.props.onFollow,className:"FollowButton followButtonFollow",children:[t.follow]});var n={display:this.props.followLoading&&!this.props.hideIndicator?"block":"none"};return r.span({className:s({FollowButtonContainer:!0,followButtonPhoto:!!this.props.photo}),children:[r.span({className:"followButtonIndicator",style:n,children:l({})}),r.span({className:"followButtonActions",children:e})]})}}),m=i.createClass({mixins:[p.BindableMixin],doFollow:function(e){this.performFriendshipRequest("follow"),this.props.onFollow&&this.props.onFollow.call(null)},doUnfollow:function(e){this.performFriendshipRequest("unfollow")},onLoggedIn:i.autoBind(function(){this.performFriendshipRequest("follow",function(){window.location.reload()})}),doLogin:function(e){this.updateState({loginShown:!0})},performFriendshipRequest:function(e,t){var n=this.props.performFriendshipRequest||d;this.updateState({loading:!0}),n(e,this.props.user.id,this.props.requestRef||"emptyfeed",this.updateState.bind(this,{loading:!1}),function(){var n=this.props.user.is_private,r=this.props.relationshipFollowing,i=this.props.relationshipOutgoingRequest;e==="unfollow"?(r=!1,i=!1):n?(r=!1,i=!0):(r=!0,i=!1),t&&t(),this.updateState({following:r,outgoingRequest:i})}.bind(this))},getInitialState:function(){return{loading:!1,following:this.props.relationshipFollowing,outgoingRequest:this.props.relationshipOutgoingRequest,loginShown:!1}},render:function(){return r.span({children:[h({onLoggedIn:this.onLoggedIn,visibleBinding:this.bindState("loginShown"),intent:"follow",children:[u({children:["To follow"," ",a({name:"username",children:[this.props.user.username]}),","," ","you need to log in."]})]}),v({photo:this.props.photo,relationshipAnonymous:this.props.relationshipAnonymous,relationshipFollowing:this.state.following,relationshipOutgoingRequest:this.state.outgoingRequest,user:this.props.user,longText:this.props.longText,onLogin:this.doLogin.bind(this),onUnfollow:this.doUnfollow.bind(this),onFollow:this.doFollow.bind(this),followLoading:this.state.loading,hideIndicator:this.props.hideIndicator})]})}});t.FollowButton=v,t.ActiveFollowButton=m}),define("lib/avatar",["require","exports","module","ReactDOM","React","ReactBackbone","lib/ui/primitives/FancyImage","lib/ui/primitives/ResponsiveContainer","framework/tx","framework/tx","lib/followbutton","lib/layers/login","ReactBinding"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("ReactBackbone"),o=e("lib/ui/primitives/FancyImage"),u=e("lib/ui/primitives/ResponsiveContainer"),a=e("framework/tx").tx,f=e("framework/tx").txp,l=e("lib/followbutton"),c=l.FollowButton,h=l.ActiveFollowButton,p=e("lib/layers/login").LoginDialog,d=e("ReactBinding"),v=function(e,t,n,r,i){var e=e=="follow"?"follow":"unfollow";$.ajax({type:"POST",url:"/web/friendships/"+t+"/"+e+"/?ref="+n,complete:r,success:i})},m=s.createComponent({mixins:[d.BindableMixin],render:function(){return r.span({children:[p({intent:"follow",onLoggedIn:this.onLoggedIn,visibleBinding:this.bindState("showLogin"),children:[a({children:["To follow"," ",f({name:"username",children:[this.props.profileUser.get("username")]}),","," ","you need to log in."]})]}),c({relationshipAnonymous:this.props.relationship.get("anonymous"),relationshipFollowing:this.props.relationship.get("following"),relationshipOutgoingRequest:this.props.relationship.get("outgoing_request"),followLoading:this.state.followLoading,onFollow:this.doFollow.bind(this),onUnfollow:this.doUnfollow.bind(this),onLogin:this.doLogin.bind(this)})]})},getInitialState:function(){return{followLoading:!1,showLogin:!1}},doFollow:function(e){this.performFriendshipRequest("follow")},doUnfollow:function(e){this.performFriendshipRequest("unfollow")},doLogin:function(e){this.updateState({showLogin:!0})},onLoggedIn:i.autoBind(function(){this.performFriendshipRequest("follow",function(){window.location.reload()})}),performFriendshipRequest:function(e,t){this.updateState({followLoading:!0}),v(e,this.props.profileUser.get("id"),"profile",this.updateState.bind(this,{followLoading:!1}),function(n){var r=this.props.relationship.get("is_private"),i=this.props.relationship.get("following"),s=this.props.relationship.get("outgoing_request");e=="unfollow"?(i=!1,s=!1):r?(i=!1,s=!0):(i=!0,s=!1),this.props.relationship.set({following:i,outgoing_request:s});var o=i?1:-1,u=this.props.profileUser.get("counts"),a={followed_by:u.followed_by+o,media:u.media,follows:u.follows};this.props.profileUser.set("counts",a),t&&t()}.bind(this))}}),g=i.createClass({render:function(){var e;this.props.userIsLoggedInUser?e=r.span({className:"avatar-action",children:r.a({className:"button edit-profile-button",href:"/accounts/edit/",children:a({children:["Edit Profile"]})})}):e=this.props.children[0];var t=r.span({className:"img img-inset user-avatar",children:o({imgURL:this.props.userDataProfilePicture,imgStyle:"inset",extraClasses:"user-avatar"})}),n=t;return this.props.responsive&&(n=u({ratio:1,style:{width:"100%"},children:[t]})),r.span({className:"avatar-container",children:[n,e]})}});t.BackboneAvatar=i.createClass({render:function(){return g({userIsLoggedInUser:this.props.profileUser.isLoggedInUser(),userDataProfilePicture:this.props.profileUser.toJSON().profile_picture,children:[m({relationship:this.props.relationship,profileUser:this.props.profileUser})]})}}),t.GraphQLAvatar=i.createClass({getInitialState:function(){return{following:this.props.user.followed_by_viewer}},render:function(){return g({responsive:!0,userIsLoggedInUser:this.props.user.is_viewer,userDataProfilePicture:this.props.user.profile_pic_url,children:[h({relationshipAnonymous:!this.props.isLoggedIn,relationshipFollowing:this.state.following,relationshipOutgoingRequest:this.props.user.requested_by_viewer,user:this.props.user})]})}})}),define("lib/overlay_border_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("lib/overlay_border",".overlayBorderContainer {\n  display: inline-block;\n  position: relative;\n  width: 100%;\n  height: 100%; }\n\n.overlayBorderContainer::after {\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  bottom: 0;\n  content: '';\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0; }\n","")}),define("lib/overlay_border",["require","exports","module","ReactDOM","React","./overlay_border_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React");e("./overlay_border_css"),t.OverlayBorder=i.createClass({render:function(){return r.div({className:"overlayBorderContainer",children:this.props.children})}})}),define("timeline/empty_css",["require","exports","module","infra/packager"],function(e,t,n){e("infra/packager").injectCSS("timeline/empty",'.emptyFeedItem {\n  background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/feed/feed-assets.png");\n  background-repeat: no-repeat;\n  background-position: 52% -296px;\n  padding-top: 64px; }\n\n.emptyFeedItemHeader {\n  font-size: 18px;\n  text-shadow: 0 2px 1px rgba(255, 255, 255, 0.6); }\n\n.emptyFeedItemSubtitle {\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 16px;\n  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6); }\n\n.sulFeedItem {\n  position: relative; }\n\n.sulFeedItem .avatar-container {\n  bottom: auto;\n  left: 1.5%;\n  padding: 5px;\n  top: 8px;\n  width: 20%; }\n\n.sulFeedItem .user-avatar {\n  display: block; }\n\n.sulFeedItem .user-avatar img {\n  width: auto;\n  height: auto; }\n\n.sulFeedItem .user-avatar {\n  height: 100%;\n  width: 100%; }\n\n.sulFeedItem .follow-indicator {\n  bottom: 36px;\n  height: auto;\n  right: 5px;\n  width: auto; }\n\n.sulFeedItem .user-avatar,\n.sulFeedItem .avatar-action {\n  position: static; }\n\n.sulFeedItem .avatar-action,\n.sulFeedItem .avatar-action .button {\n  display: block;\n  width: auto; }\n\n.sulFeedItem .avatar-action {\n  margin-top: 4px; }\n\n.sulFeedItemPicContainer {\n  position: relative; }\n\n.sulFeedItemPic {\n  display: inline-block; }\n\n.sulFeedItemPic0,\n.sulFeedItemPic0 .ResponsiveContainer,\n.sulFeedItemPic0 .rcContent,\n.sulFeedItemPic0 .Image {\n  -webkit-border-radius: 3px 0 0 0;\n  border-radius: 3px 0 0 0; }\n\n.sulFeedItemPic3,\n.sulFeedItemPic3 .ResponsiveContainer,\n.sulFeedItemPic3 .rcContent,\n.sulFeedItemPic3 .Image {\n  -webkit-border-radius: 0 3px 0 0;\n  border-radius: 0 3px 0 0; }\n\n@media only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx) {\n  .emptyFeedItem {\n    background-image: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/feed/feed-assets@2x.png");\n    background-size: 100px 1000px; } }\n.sulFeedItemCountSection {\n  white-space: nowrap; }\n\n.sulFeedItemName {\n  background: rgba(0, 0, 0, 0);\n  background: -webkit-gradient(linear, bottom, "", color-stop(10%, rgba(0, 0, 0, 0.4)), color-stop(100%, rgba(0, 0, 0, 0)));\n  background: -webkit-linear-gradient(bottom, rgba(0, 0, 0, 0.4) 10%, rgba(0, 0, 0, 0) 100%);\n  background: -moz-linear-gradient(bottom, rgba(0, 0, 0, 0.4) 10%, rgba(0, 0, 0, 0) 100%);\n  background: -o-linear-gradient(bottom, rgba(0, 0, 0, 0.4) 10%, rgba(0, 0, 0, 0) 100%);\n  background: -ms-linear-gradient(bottom, rgba(0, 0, 0, 0.4) 10%, rgba(0, 0, 0, 0) 100%);\n  background: linear-gradient(bottom, rgba(0, 0, 0, 0.4) 10%, rgba(0, 0, 0, 0) 100%);\n  bottom: -5px;\n  color: #fff;\n  font-size: 22px;\n  left: 0;\n  padding-bottom: 8px;\n  padding-top: 40px;\n  position: absolute;\n  right: 0;\n  text-shadow: 0 0 5px #000; }\n\n.sulFeedItemName,\n.sulFeedItemSubheader {\n  padding-left: 27%; }\n\n.sulFeedItemSubheader {\n  font-weight: bold;\n  height: 24px;\n  line-height: 16px;\n  padding-right: 8px;\n  padding-top: 4px;\n  text-align: right;\n  width: auto; }\n\n.sulFeedItemBio {\n  padding: 4px 8px 12px; }\n\n.sulFeedItemBio,\n.sulFeedItemFullName {\n  color: #666666; }\n\n.sulFeedItemFullName {\n  float: left;\n  margin-right: 8px; }\n\n.sulFeedItemCounts {\n  color: #bbbbbb; }\n\n.sulFeedItemPic .rcContent {\n  background-color: #000;\n  padding-bottom: 1px;\n  padding-right: 1px;\n  padding-top: 1px; }\n\n.sulFeedItemPic0 .rcContent {\n  padding-left: 1px; }\n\n.sulFollowingDone {\n  background: #fafafa;\n  padding: 12px 16px;\n  margin: 0 30px 0 0;\n  border: 1px solid #c0c0c0;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 16px rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: 0 1px 16px rgba(0, 0, 0, 0.1);\n  box-shadow: 0 1px 16px rgba(0, 0, 0, 0.1);\n  text-align: left;\n  font-weight: bold; }\n\n@media screen and (max-width: 520px) {\n  .sulFollowingDone {\n    margin: 0 20px 20px; } }\n.emptyFeedItemContainer .timelineCenter {\n  background: #fff;\n  padding-top: 32px;\n  padding-bottom: 40px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  -webkit-box-shadow: 0 1px 0 rgba(0,0,0,.08), 0 2px 0 rgba(0,0,0,.08);\n  -moz-box-shadow: 0 1px 0 rgba(0,0,0,.08), 0 2px 0 rgba(0,0,0,.08);\n  box-shadow: 0 1px 0 rgba(0,0,0,.08), 0 2px 0 rgba(0,0,0,.08); }\n\n.sulFeedItem .avatar-container {\n  position: absolute;\n  margin: 0;\n  background: #fff;\n  z-index: 2;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 0 1px rgba(0,0,0,0.1), 0 1px 5px rgba(0,0,0,0.15);\n  -moz-box-shadow: 0 0 1px rgba(0,0,0,0.1), 0 1px 5px rgba(0,0,0,0.15);\n  box-shadow: 0 0 1px rgba(0,0,0,0.1), 0 1px 5px rgba(0,0,0,0.15); }\n  .sulFeedItem .avatar-container .user-avatar {\n    top: 0;\n    margin-bottom: -1px;\n    position: relative; }\n    .sulFeedItem .avatar-container .user-avatar img {\n      visibility: hidden; }\n\n.sulFeedItem .follow-indicator {\n  width: 110px;\n  height: 110px;\n  display: block;\n  position: absolute;\n  left: 5px;\n  top: 5px;\n  background: url("//d36xtkk24g8jdx.cloudfront.net/bluebar/d8a6bc2/images/alpha/000_40.png");\n  -webkit-border-radius: 2px;\n  border-radius: 2px; }\n\n.sulFeedItem .avatar-action {\n  position: absolute;\n  left: 5px;\n  bottom: 5px;\n  width: 110px; }\n  .sulFeedItem .avatar-action .button {\n    width: 108px;\n    padding: 5px 0 6px;\n    text-align: center; }\n',"")}),define("timeline/empty",["require","exports","module","ReactDOM","React","lib/avatar","lib/overlay_border","lib/ui/primitives/ResponsiveContainer","lib/ui/primitives/Image","cx","framework/tx","framework/tx","timeline/empty_css"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("lib/avatar").GraphQLAvatar,o=e("lib/overlay_border").OverlayBorder,u=e("lib/ui/primitives/ResponsiveContainer"),a=e("lib/ui/primitives/Image"),f=e("cx"),l=e("framework/tx").tx,c=e("framework/tx").txp;e("timeline/empty_css"),t.EmptyFeedItem=i.createClass({render:function(){return r.div({className:"emptyFeedItem",children:[r.h2({className:"emptyFeedItemHeader",children:l({children:["No Recent Photos"]})}),r.span({className:"emptyFeedItemSubtitle",children:[l({children:["Follow friends and interesting people to see their photos here."]}),r.br({}),l({children:["Here are some suggestions."]})]})]})}}),t.SULFeedItem=i.createClass({render:function(){var e=0,t=this.props.suggestedUser.media.nodes.map(function(t){var n={sulFeedItemPic:!0};return n["sulFeedItemPic"+e++]=!0,u({ratio:1,style:{width:"25%"},className:f(n),children:[o({children:[a({style:{width:"100%",height:"100%"},src:t.thumbnail_src})]})]})}.bind(this));return r.div({className:"timelineCard sulFeedItem",children:[r.div({className:"sulFeedItemPicContainer",children:[t,r.h3({className:"sulFeedItemName",children:this.props.suggestedUser.username})]}),s({isLoggedIn:this.props.isLoggedIn,user:this.props.suggestedUser,onFollow:this.props.onFollow}),r.div({className:"sulFeedItemSubheader",children:[r.span({className:"sulFeedItemFullName",children:this.props.suggestedUser.full_name}),r.span({className:"sulFeedItemCounts",children:[r.span({className:"sulFeedItemCountSection",children:l({children:[c({name:"mediaCount",children:[this.props.suggestedUser.media.count]})," ","photos"]})})," ",""," ",r.span({className:"sulFeedItemCountSection",children:l({children:[c({name:"followerCount",children:[this.props.suggestedUser.followed_by.count]})," ","followers"]})})]})]}),r.div({className:"sulFeedItemBio",children:this.props.suggestedUser.biography})]})}}),t.SULFollowingDone=i.createClass({render:function(){return r.div({className:"sulFollowingDone",children:r.span({children:[l({children:["When you are finished following people,"]})," ",r.a({href:".",children:l({children:["reload this page"]})}),"."]})})}})}),define("timeline/timeline",["require","exports","module","ReactDOM","React","cx","assert","lib/ui/primitives/Button","lib/ui/primitives/Image","media_photo","framework/tx","framework/i18n","lib/dates","sprintf-0.7","linkify","lib/ui/media/LikeList","lib/ui/common/Spinner","class_component","scrollarea","LegacyPagedQuery","lib/io/graphql","media_more_button","ExecutionEnvironment","framework/fullpage","lib/ui/common/Chrome","lib/TimeoutComponentMixin","framework/serialization","emptyFunction","lib/ui/media/LikeButton","lib/io/sendCommentRequest","lib/ui/common/Global_css","timeline/timeline_css","delete_comment_css","modal","./empty"],function(e,t,n){var r=e("ReactDOM"),i=e("React"),s=e("cx"),o=e("assert"),u=e("lib/ui/primitives/Button"),a=e("lib/ui/primitives/Image"),f=e("media_photo").MediaPhoto,l=e("framework/tx"),c=l.tx,h=l.txp,p=e("framework/i18n").i18n,d=e("lib/dates"),v=e("sprintf-0.7").sprintf,m=e("linkify").LinkifiedText,g=e("lib/ui/media/LikeList"),y=e("lib/ui/common/Spinner"),b=e("class_component"),w=e("scrollarea").ScrollArea,E=e("LegacyPagedQuery"),S=e("lib/io/graphql"),x=e("media_more_button"),T=e("ExecutionEnvironment"),N=e("framework/fullpage"),C=N.FullPageMixin,k=N.FastLink,L=e("lib/ui/common/Chrome"),A=e("lib/TimeoutComponentMixin"),O=e("framework/serialization"),M=e("emptyFunction"),_=e("lib/ui/media/LikeButton"),D=e("lib/io/sendCommentRequest");e("lib/ui/common/Global_css"),e("timeline/timeline_css"),e("delete_comment_css");var P=i.createClass({render:function(){var e=this.props.media.owner.username,t=this.props.media.owner.profile_pic_url,n=null,i=d.ago(this.props.media.date),o=d.agoShortened(this.props.media.date);return this.props.media.location&&this.props.media.location.name&&(n=r.div({className:"timelineBookmarkLocation",children:this.props.media.location.name})),r.div({className:"timelineBookmark",children:[r.div({className:"timelineBookmarkFirstRow",children:[r.div({className:"timelineBookmarkInfo",children:[k({href:"/"+e,className:"timelineBookmarkInfoUsername",target:"_blank",children:[e]}),r.span({className:"timelineBookmarkInfoTimestamp","data-timestamp-short":o,children:r.span({className:"timelineBookmarkInfoTimestampContent",children:i})})]}),k({href:"/"+e,target:"_blank",children:[a({className:s({timelineBookmarkAvatar:!0}),src:t})]})]}),n]})}}),H=i.createClass({NUM_TO_SHOW:2,mixins:[A],getInitialState:function(){return{likeAnimation:!1}},componentWillReceiveProps:function(e){e.likes.viewer_has_liked&&!this.props.likes.viewer_has_liked&&this.setTimeout(function(){this.updateState({likeAnimation:e.likes.viewer_has_liked})}.bind(this),0)},render:function(){var e=this.props.likes.nodes,t=e.map(function(e){return e.user}),n;return t.length>0?n=g({users:t,viewer:this.props.viewer,fullCount:this.props.likes.count,viewerLikesThis:this.props.likes.viewer_has_liked}):n=r.span({className:s({noLikes:!0})}),r.div({className:"timelineLikes",children:[r.a({onClick:this.props.onToggleLike,label:p("Toggle like"),className:s({timelineLikeButton:!0,timelineLiked:this.props.likes.viewer_has_liked}),children:r.span({className:s({"i-like-pop":this.state.likeAnimation,timelineLikeButtonAnimation:!0})})}),x({isVideo:this.props.media.is_video,mediaId:this.props.media.id,mediaCode:this.props.media.code,mediaUrl:this.props.media.display_src,viewerCanEdit:this.props.media.viewerCanEdit}),r.div({className:"timelineLikeList",children:n})]})}}),B=i.createClass({mixins:[A],getInitialState:function(){return this.props.comment.isNew&&this.setTimeout(function(){this.updateState({isNew:!1})}.bind(this),0),{isNew:this.props.comment.isNew,forceHover:!1}},removeComment:function(e){var t=$(e).parents(".timelineComment").first();t.animate({opacity:0,marginBottom:-t.outerHeight()+"px"},300)},confirmDeleteComment:function(t){var n=this,r=t.target;n.updateState({forceHover:!0}),e("modal").confirm(r,{promptText:p("Are you sure you want to delete this comment?"),buttonText:p("Delete"),buttonCallback:n.deleteComment.bind(n,r),onHide:function(){n.updateState({forceHover:!1})}})},deleteComment:function(e){this.removeComment(e);if(this.props.onDelete){var t=this.props.comment;this.props.onDelete.call(t,t)}},render:function(){var e=this.props.comment,t=e.user.username,n=e.text,i=e.user.profile_pic_url,o=e.is_caption,u=e.viewer_can_delete;return r.div({ref:"comment",className:s({timelineComment:!0,timelineCaption:o,timelineCommentNew:this.state.isNew,"can-delete-comments":u,"force-hover":this.state.forceHover}),children:[k({href:"/"+t,target:"_blank",children:[a({src:i,className:s({timelineCommentAvatar:!0})})]}),k({className:s({timelineCommentUsername:!0}),href:"/"+t,target:"_blank",children:[t]}),m({className:s({timelineCommentText:!0}),children:[n]}),r.a({className:"delete-comment",onClick:this.confirmDeleteComment.bind(this)})]})}}),j=i.createClass({render:function(){var e,t=null;return this.props.loading&&(t=r.div({className:"timelineCommentSpinner",children:y({})}),e=c({children:["Loading more..."]})),this.props.showCount?this.props.count>1?e=c({children:[h({name:"count",children:[this.props.count]})," ","more comments"]}):e=c({children:["1 more comment"]}):e=c({children:["Load more"]}),r.div({className:"timelineComment timelineCommentMore",children:r.a({className:s({timelineCommentText:!0}),onClick:this.props.onClick,children:[t,e]})})}}),F=i.createClass({doOnSubmit:function(e){var t=$(".timelineCommentTextField",e.target),n=t.val();if($.trim(n).length===0)return!1;t.val("");var r=this.props.onSubmit,i={user:this.props.viewer,text:n,isNew:!0,viewer_can_delete:!0,id:"optimisticComment"+(new Date).getTime()};return D(this.props.media.id,n,function(e){i.id=e}),r&&r(i),!1},componentDidMount:function(e){$(".timelineCommentForm",e).submit(this.doOnSubmit.bind(this))},render:function(){return r.div({className:"timelineCommentComposer",children:[a({src:this.props.viewer.profile_pic_url,style:{width:"24px",height:"24px"},className:s({timelineCommentAvatar:!0})}),r.div({className:s({timelineCommentText:!0}),children:r.form({className:"timelineCommentForm",children:r.input({type:"text",placeholder:p("Write a comment..."),className:"fadedTextField timelineCommentTextField"})})})]})}}),I=100,q=20,R=i.createClass({getInitialState:function(){return this.props.media.caption&&this.props.media.comments.nodes.length===4&&(this.props.media.comments.nodes=this.props.media.comments.nodes.slice(1),this.props.media.comments.page_info.start_cursor=this.props.media.comments.nodes[0].id,this.props.media.comments.page_info.has_previous_page=!0),this.query=new E(v(this.props.moreCommentsQuery,{media_id:this.props.media.id}),["comments"],this.props.media,I,this.onQueryUpdate.bind(this),I,!0,"feed_comments_pagination"),{comments:this.query.getData().comments,canPaginate:this.query.canPaginate(),loading:!1,numPaginates:0}},onQueryUpdate:function(){var e=this.query.getData().comments;this.updateState({comments:e,canPaginate:this.query.canPaginate(),loading:!1,numPaginates:this.state.numPaginates+1})},doFirstPaginate:function(){if(!this.state.canPaginate)return;this.updateState({loading:!0}),this.query.paginate(q-this.state.comments.nodes.length)},doNextPaginate:function(){if(!this.state.canPaginate)return;this.updateState({loading:!0}),this.query.paginate(I)},doMoreComments:function(){this.state.numPaginates===0?this.doFirstPaginate():this.doNextPaginate()},doOnSubmit:function(e){var t=this.state.comments.nodes;t.push(e),this.state.comments.nodes=t,this.updateState({comments:this.state.comments}),this.refs.scrollArea.scrollToBottom()},onCommentDeleted:function(e){e.deleted||(e.deleted=!0,this.state.comments.count-=1);if(!e.id)return;$.ajax({type:"POST",url:"/web/comments/"+this.props.media.id+"/delete/"+e.id+"/",success:function(){},error:function(){}})},render:function(){var e=this.props.media,t=this.state.comments.nodes,n=e.owner.username,i=e.caption,o=e.owner.profile_pic_url,u=t.filter(function(e){return!e.deleted}),a=e.comments.count-u.length,f={},l=null,c=null,h=null;return i&&(c=B({comment:{user:e.owner,text:i,is_caption:!0}})),this.state.canPaginate&&(h=j({count:a,onClick:this.doMoreComments.bind(this),loading:this.state.loading,showCount:this.state.numPaginates<2})),e.comments.can_viewer_comment&&(l=F({viewer:this.props.viewer,media:e,onSubmit:this.doOnSubmit.bind(this)})),f.more=h,u.map(function(e){f[e.id]=B({comment:e,onDelete:this.onCommentDeleted.bind(this)})},this),r.div({className:"timelineComments",children:[c,w({className:s({timelineCommentsViewport:!0}),maxHeight:400,ref:"scrollArea",children:[f]}),l]})}}),U=i.createClass({getInitialState:function(){return{likes:this.props.media.likes}},doToggleLike:function(){var e=this.props.media,t=!this.state.likes.viewer_has_liked,n=t?"like":"unlike",r=JSON.parse(JSON.stringify(this.state.likes));t?(r.nodes.push({user:{username:this.props.viewer.username}}),r.count++):(r.nodes=r.nodes.filter(function(e){return e.user.username!==this.props.viewer.username}.bind(this)),r.count--),$.post("/web/likes/"+this.props.media.id+"/"+n+"/"),r.viewer_has_liked=t,this.updateState({likes:r})},doLike:function(){if(this.state.likes.viewer_has_liked)return;this.doToggleLike()},render:function(){var e=this.props.media;return r.div({className:"timelineCard",children:[f({media:e,className:s({timelinePhoto:!0}),onDblClick:this.doLike.bind(this),offsetIndicator:!0}),H({media:e,viewer:this.props.viewer,likes:this.state.likes,onToggleLike:this.doToggleLike.bind(this)}),R({media:e,viewer:this.props.viewer,moreCommentsQuery:this.props.moreCommentsQuery})]})}}),z=b.createComponent({render:function(){var e={timelineItem:!0,timelineFirst:this.props.first,timelineLast:this.props.last};return r.div({className:s(e),children:[r.div({className:"timelineSidebar",children:this.props.children[0]}),r.div({className:"timelineCenter",children:this.props.children[1]})]})}}),W=b.createComponent({render:function(){return r.div({className:"timelineDivider",children:[r.div({className:"timelineDividerLine"}),r.div({className:"timelineDividerText",children:c({children:["Previous Posts"]})})]})}}),X={componentDidMount:function(){var e=this.currentMediaID;e&&this.setTimeout(function(){$(window).scrollTop($(this.refs["media"+e].getDOMNode()).position().top-44)}.bind(this),0)},getTopMediaIDInViewport:function(){for(var e=0;e<this.state.user.feed.media.nodes.length;e++){var t=this.state.user.feed.media.nodes[e],n=this.refs["media"+t.id];if(n&&$(n.getDOMNode()).position().top>$(window).scrollTop())return t.id}}},V=i.createClass({mixins:[X,A,C,O.FreezableMixin],componentDidMount:function(){this.setInterval(this.poll.bind(this),this.props.pollInterval)},freezeState:function(){return this.query.callback=M,{query:this.query,internalState:this.state,currentMediaID:this.getTopMediaIDInViewport()}},thawState:function(e){return this.query=e.query,this.query.callback=this.pagedQueryCallback,this.currentMediaID=e.currentMediaID,e.internalState},pagedQueryCallback:i.autoBind(function(){var e=this.state.topPaginating;this.updateState({user:this.query.getData(),pageInfo:this.query.getPageInfo(),paginating:!1,topPaginating:!1,lastLoadedMediaID:this.state.user&&this.state.user.feed.media.nodes[0]?this.state.user.feed.media.nodes[0].id:null}),e&&this.removeTopBar($(document).height())}),getDefaultInitialState:function(){this.query=E.deserialize(this.props.moreQuery,this.props.pageSize,this.pagedQueryCallback),T.canUseDOM&&this.query.getData().feed.media.nodes.length===0&&S.query(this.props.suggestedUsersQuery,function(e){this.updateState({suggestedUsers:e})}.bind(this));var e=this.query.getData();return{user:e,paginating:!1,topPaginating:!1,pageInfo:this.query.getPageInfo(),newPhotoCount:0,newPhotosRequested:0,topBarShowing:!1,followingDone:!1,lastLoadedMediaID:e&&e.feed.media.nodes[0]?e.feed.media.nodes[0].id:null,suggestedUsers:{nodes:[]}}},removeTopBar:function(e){if(!this.state.newPhotoCount)return;$(document).scrollTop(0),this.updateState({topBarShowing:!1}),this.setTimeout(function(){$(document).scrollTop(0)}.bind(this),0),this.setTimeout(this.updateState.bind(this,{newPhotoCount:0,newPhotosRequested:0}),1e3)},poll:function(){if(this.state.topPaginating)return;this.query.pollInversePaginate(this.onHasMorePhotos.bind(this))},onHasMorePhotos:function(e,t){this.updateState({newPhotoCount:e,newPhotosRequested:t}),this.setTimeout(this.updateState.bind(this,{topBarShowing:!0}),0)},doPaginate:function(){this.updateState({paginating:!0}),this.query.paginate()},doTopPaginate:function(){this.updateState({topPaginating:!0}),this.query.forceInversePaginate()},render:function(){var t={},n=null,i=null,o=this.state.pageInfo;this.state.paginating?n=z({first:!1,last:!0,className:s({timelineLoader:!0}),children:[null,r.a({href:"javascript:;",className:"Button button-grey button-large timelineLoading",role:"button",onClick:this.doPaginate.bind(this),children:[r.span({className:"timelineLoadingSpinner",children:y({})}),c({children:["Loading..."]})]})]}):o.has_next_page&&(n=z({first:!1,last:!0,className:s({timelineLoader:!0}),children:[null,r.a({className:"button button-grey button-large",onClick:this.doPaginate.bind(this),children:c({children:["Load more"]})})]}));var u,a="",f="Instagram";if(T.canUseDOM){if(this.state.newPhotoCount){var l;this.state.topPaginating?l=r.span({children:[r.span({className:"timelineLoadingSpinner",children:y({})}),c({children:["Loading..."]})]}):this.state.newPhotoCount===this.state.newPhotosRequested?(l=c({children:[h({name:"count",children:[this.state.newPhotoCount]}),"+ new posts"]}),a="("+this.state.newPhotoCount+"+) "):this.state.newPhotoCount===1?(l=c({children:["1 new post"]}),a="(1) "):(l=c({children:[h({name:"count",children:[this.state.newPhotoCount]})," ","new posts"]}),a="("+this.state.newPhotoCount+") "),i=r.a({className:s({timelineTopPaginate:!0,timelineTopShowing:this.state.topBarShowing}),onClick:this.doTopPaginate.bind(this),children:l})}f=a+f}for(u=0;u<this.state.user.feed.media.nodes.length;u++){var p=this.state.user.feed.media.nodes[u];p.id===this.state.lastLoadedMediaID&&u>0&&(t.divider=z({first:!1,last:!1,children:[null,W({})]})),t["media"+p.id]=z({ref:"media"+p.id,first:u===0,last:u===this.state.user.feed.media.nodes.length-1&&!o.has_next_page&&!n,children:[P({media:p}),U({media:p,viewer:this.state.user,moreCommentsQuery:this.props.moreCommentsQuery})]})}if(this.state.user.feed.media.nodes.length===0){var d=e("./empty"),v=d.EmptyFeedItem,m=d.SULFeedItem,g=d.SULFollowingDone;t.suldonefollowing=z({first:!0,last:!1,className:s({emptyFeedItemContainer:!0}),children:[this.state.followingDone&&g({}),v({})]});for(u=0;u<this.state.suggestedUsers.nodes.length;u++)t["suser"+this.state.suggestedUsers.nodes[u].id]=z({first:!1,last:u===this.state.suggestedUsers.nodes.length-1,children:[null,m({suggestedUser:this.state.suggestedUsers.nodes[u],isLoggedIn:!0,onFollow:this.stateUpdater({followingDone:!0}),feedShell:this})]})}return L({analyticsTitle:"Web Feed",isHome:!0,staticRoot:this.props.staticRoot,title:f,className:"timelineFeedPage",prerelease:this.props.prerelease,viewer:this.props.viewer,children:[r.div({className:"wrapper",children:r.div({className:"timelineContainer",children:[t,n,i]})})]})}}),J=null,K=O.Freezer,Q=i.createClass({render:function(){return K({ref:"freezer",frozenState:J,children:[this.transferPropsTo(V({}))]})},componentWillUnmount:function(){J=this.refs.freezer.freeze()}});t.Feed=Q,t.FeedItem=U})