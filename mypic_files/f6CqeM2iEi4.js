/*!CK:3033313388!*//*1375705726,173209645*/

if (self.CavalryLogger) { CavalryLogger.start_js(["dShSX"]); }

__d("TrackingPixel",["Arbiter","ControlledReferer"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ControlledReferer'),i={_iframe:undefined,loadWithNoReferrer:function(j){if(!i._iframe){var k=document.createElement('iframe');k.frameborder=0;k.width=k.height=1;k.style.position='absolute';k.style.top='-10px';h.useFacebookReferer(k,function(){g.inform('TrackingPixel/iframeIsLoaded',null,g.BEHAVIOR_PERSISTENT);},null);document.body.appendChild(k);i._iframe=k;}g.subscribe('TrackingPixel/iframeIsLoaded',function(){var l=i._iframe.contentWindow.document,m=l.createElement('img');m.src=j;});}};e.exports=i;});
__d("ExternalTrackingTag",["AsyncSignal","TrackingPixel","Event"],function(a,b,c,d,e,f){var g=b('AsyncSignal'),h=b('TrackingPixel'),i=b('Event'),j={listenForElementClick:function(k,l,m,n){i.listen(k,'click',function(){j.sendRequest(l,m,n);});},sendRequest:function(k,l,m){if(!k)return;new g('/ads/external_tracking_tag/',{href:k,tracking_tag_id:l,adgroup_id:m}).send();h.loadWithNoReferrer(k);}};e.exports=j;});
__d("ad-logging",["Arbiter","AsyncRequest","Banzai","collectDataAttributes","Parent","TrackingNodes","ExternalTrackingTag"],function(a,b,c,d,e,f){var g='ssinfeed',h=b('Arbiter'),i=b('AsyncRequest'),j=b('Banzai'),k=b('collectDataAttributes'),l=b('Parent'),m=b('TrackingNodes'),n=b('ExternalTrackingTag'),o={};function p(s){return (s.getAttribute&&(s.getAttribute('ajaxify')||s.getAttribute('data-endpoint'))||s.action||s.href||s.name);}function q(s){var t=s.ei||s.ai;if(!t&&s.mei)t=s.mf_story_key;if(s!==null&&typeof(t)==="string"){var u=false;if(s.tn){var v=m.parseTrackingNodeString(s.tn);for(var w=0;w<v.length;w++){var x=v[w][0];switch(x){case m.types.LIKE_LINK:case m.types.UNLIKE_LINK:case m.types.COMMENT:case m.types.ADD_COMMENT_BOX:return;case m.types.XBUTTON:case m.types.HIDE_LINK:case m.types.REPORT_SPAM_LINK:case m.types.HIDE_ALL_LINK:case m.types.DROPDOWN_BUTTON:case m.types.UNHIDE_LINK:return;case m.types.RELATED_SHARE:return;case m.types.ATTACHMENT:case m.types.USER_MESSAGE:u=true;break;}}}var y=Date.now(),z=500;s.duplicate_click=!!o[t]&&(y-o[t]<z);o[t]=y;if(j.isEnabled('ssinfeed')){j.post(g,s,{delay:0,retry:j.isEnabled('ssinfeed_retry')});}else{var aa=new i('/ajax/ssinfeed/end/').setData(s).setAllowCrossPageTransition(true).setMethod('POST');aa.send();}if(u&&s.external_tracking_tag&&!s.duplicate_click)n.sendRequest(s.external_tracking_tag.url,s.external_tracking_tag.tag_id,s.external_tracking_tag.adgroup_id);}}function r(s,t){if(!t.node)return;var u=p(t.node),v=l.byTag(t.node,'input')||l.byTag(t.node,'button');if(!u&&v&&v.type=="submit"&&v.getAttribute&&v.getAttribute('data-ft'))u="#";var w;if(u&&t.event&&(t.event.type==='click'||t.event.type==='contextmenu')){w=k(t.node,['ft']);w.ft.href=u;w.ft.mouse_type=t.event.type;q(w.ft);}}h.subscribe("ClickRefAction/new",r);});
__d("PopoverMenu.react",["CSS","InlineBlock.react","Popover","PopoverMenu","React","ReactPropTypes","SubscriptionsHandler","cx","joinClasses"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('InlineBlock.react'),i=b('Popover'),j=b('PopoverMenu'),k=b('React'),l=b('ReactPropTypes'),m=b('SubscriptionsHandler'),n=b('cx'),o=b('joinClasses');function p(r,s){var t,u;for(var v in r){t=r[v];u=s[v];if(typeof t==='object'&&typeof u==='object'){if(!p(t,u))return false;}else if(t!==u)return false;}return true;}var q=k.createClass({displayName:'ReactPopoverMenu',propTypes:{alignh:l.oneOf(['left','center','right']),layerBehaviors:l.array,menu:l.object,disabled:l.bool},_menuSubscriptions:null,componentDidMount:function(){var r=this.refs.root.getDOMNode(),s=r.firstChild;g.addClass(s,"_p");this._popover=new i(r,s,this.props.layerBehaviors,{alignh:this.props.alignh,disabled:this.props.disabled});this._popoverMenu=new j(this._popover,s,this._createMenu(this.props.menu),this.props.behaviors);},componentDidUpdate:function(r){if(!p(r.menu,this.props.menu)){if(this._menuSubscriptions){this._menuSubscriptions.release();this._menuSubscriptions=null;}this._popoverMenu.setMenu(this._createMenu(this.props.menu));}if(this.props.alignh!==r.alignh)this._popoverMenu.getPopover().getLayer().setAlignment(this.props.alignh);if(this.props.disabled!==r.disabled)if(this.props.disabled){this._popoverMenu.disable();}else this._popoverMenu.enable();},getFirstChild:function(){var r=this.props.children;return Array.isArray(r)?r[0]:r;},getButtonSize:function(){var r=this.getFirstChild();return r&&r.getButtonSize();},render:function(){var r=this.getFirstChild();r.props.className=o(r.props.className||'',"_p");return this.transferPropsTo(h({alignv:"middle",className:"uiPopover",ref:"root",disabled:null},this.props.children));},componentWillUnmount:function(){if(this._menuSubscriptions){this._menuSubscriptions.release();this._menuSubscriptions=null;}},_createMenu:function(r){var s=new r.ctor(r.menuitems,r.config);this._menuSubscriptions=new m();if(r.onItemClick)this._menuSubscriptions.addSubscriptions(s.subscribe('itemclick',r.onItemClick));if(r.onChange)this._menuSubscriptions.addSubscriptions(s.subscribe('change',r.onChange));if(this.props.onShow)this._menuSubscriptions.addSubscriptions(this._popover.subscribe('show',this.props.onShow));if(this.props.onHide)this._menuSubscriptions.addSubscriptions(this._popover.subscribe('hide',this.props.onHide));return s;}});e.exports=q;});
__d("ReactMenu",["Menu","MenuItem","MenuSelectableItem","MenuTheme","SelectableMenu","cx","flattenArray","merge"],function(a,b,c,d,e,f){var g=b('Menu'),h=b('MenuItem'),i=b('MenuSelectableItem'),j=b('MenuTheme'),k=b('SelectableMenu'),l=b('cx'),m=b('flattenArray'),n=b('merge'),o=Array.prototype.slice;function p(q,r){if(!Array.isArray(r))r=o.call(arguments,1);var s={ctor:g,menuitems:m(r||[]),config:{theme:j,maxheight:q?q.maxheight:null}};return n(s,q);}p.SelectableMenu=function(q,r){if(!Array.isArray(r))r=o.call(arguments,1);var s={ctor:k,menuitems:m(r),config:{className:"_57di",theme:j,multiple:q&&q.multiple,maxheight:q?q.maxheight:null}};return n(s,q);};p.Item=function(q,r){if(!Array.isArray(r))r=o.call(arguments,1);var s={ctor:h,reactChildren:r};return n(s,q);};p.SelectableItem=function(q,r){if(!Array.isArray(r))r=o.call(arguments,1);var s={ctor:i,reactChildren:r};return n(s,q);};e.exports=p;});
__d("UFIOrderingModeSelector.react",["InlineBlock.react","Link.react","LoadingIndicator.react","React","Image.react","ReactMenu","PopoverMenu.react","cx","ix"],function(a,b,c,d,e,f){var g=b('InlineBlock.react'),h=b('Link.react'),i=b('LoadingIndicator.react'),j=b('React'),k=b('Image.react'),l=b('ReactMenu'),m=b('PopoverMenu.react'),n=b('cx'),o=b('ix'),p=l.SelectableMenu,q=l.SelectableItem,r=j.createClass({displayName:'UFIOrderingModeSelector',getInitialState:function(){var s=null;this.props.orderingmodes.map(function(t){if(t.selected)s=t;});return {selectedMode:s};},onMenuItemClick:function(s,t){var u=t.item.getValue();this.props.orderingmodes.map(function(v){if(v.value===u)this.setState({selectedMode:v});}.bind(this));this.props.onOrderChanged(u);},render:function(){var s=null;if(this.props.currentOrderingMode!=this.state.selectedMode.value)s=i({className:"UFIOrderingModeSelectorLoading",color:"white",size:"small"});var t=p({onItemClick:this.onMenuItemClick},this.props.orderingmodes.map(function(u){return (q({key:u.value,value:u.value,selected:u.value===this.state.selectedMode.value},u.name));}.bind(this)));return (j.DOM.div({className:"UFIOrderingModeSelector"},s,g(null,m({className:"UFIOrderingModeSelectorPopover",menu:t,alignh:"right"},h(null,this.state.selectedMode.name,k({className:"UFIOrderingModeSelectorDownCaret",src:o('/images/ui/xhp/link/more/down_caret.gif')}))))));}});e.exports=r;});
__d("SwapButtonDEPRECATED",["Event","Arbiter","copyProperties","CSS"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('copyProperties'),j=b('CSS');function k(l,m,n){this._swapperButton=l;this._swappeeButton=m;g.listen(l,'click',this.swap.bind(this));if(n)g.listen(m,'click',this.unswap.bind(this));h.subscribe('SwapButtonDEPRECATED/focusOnJoinButton',this.setFocusOnSwapper.bind(this),h.SUBSCRIBE_ALL);}i(k.prototype,{_swapperButton:null,_swappeeButton:null,swap:function(l){j.hide(this._swapperButton);j.show(this._swappeeButton);l!==false&&this._swappeeButton.focus();},unswap:function(l){j.show(this._swapperButton);j.hide(this._swappeeButton);l!==false&&this._swapperButton.focus();},toggle:function(){j.toggle(this._swapperButton);j.toggle(this._swappeeButton);},setFocusOnSwapper:function(){this._swapperButton.focus();}});e.exports=k;});
__d("SubscribeButton",["Arbiter","AsyncRequest","Event"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('Event'),j={SUBSCRIBED:'FollowingUser',UNSUBSCRIBED:'UnfollowingUser',init:function(k,l,m,n,o,p){i.listen(l,'click',function(){g.inform(j.SUBSCRIBED,{profile_id:n});});g.subscribe(j.SUBSCRIBED,function(q,r){if(n===r.profile_id){if(!o)m.suppressNextMouseEnter&&m.suppressNextMouseEnter();k.swap();if(p===true)new h().setURI('/ajax/profile/suggestions_on_following.php').setData({profileid:n}).send();}});g.subscribe(j.UNSUBSCRIBED,function(q,r){if(n===r.profile_id){k.unswap();m.hideFlyout&&m.hideFlyout();g.inform('SubMenu/Reset');}});},initUnsubscribe:function(k,l){i.listen(k,'click',function(){g.inform.bind(g,j.UNSUBSCRIBED,{profile_id:l}).defer();});}};e.exports=j;});
__d("Tour",["Arbiter","LayerDestroyOnHide","LayerHideOnEscape","NavigationMessage","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('LayerDestroyOnHide'),i=b('LayerHideOnEscape'),j=b('NavigationMessage'),k=b('copyProperties');function l(){if(l._instance)l._instance.setTourComplete();l._instance=this;}l.prototype.init=function(){this._pageLeaveToken=g.subscribe('onload/exit',this.handleLeavePage.bind(this));this._navigationBeginToken=g.subscribe(j.NAVIGATION_BEGIN,this.handleTransition.bind(this));this.steps={};return this;};l.prototype.registerStep=function(m,n){m.disableBehavior(h);m.disableBehavior(i);this.steps[n]=m;m.subscribe('show',function(){m.inform('tour-dialog-show',m);});if(!this.getTourStarted())this.setTourStart();};l.prototype._unsubscribeSubscriptions=function(){this._navigationBeginToken.unsubscribe();this._pageLeaveToken.unsubscribe();};l.prototype.handleLeavePage=function(){this._unsubscribeSubscriptions();};l.prototype.handleTransition=function(){this._unsubscribeSubscriptions();};l.prototype.handleTourStart=function(){};l.prototype.handleTourStop=function(){};l.prototype.handleTourComplete=function(){};l.prototype.showStep=function(m){var n=this.steps[m];if(!(this.openDialog==n))this.hideOpenDialog();if(!n)return;this.openDialog=n;n.show();};l.prototype.hideOpenDialog=function(){if(this.openDialog){this.openDialog.hide();this.openDialog=null;}};l.prototype.getTourStarted=function(){return this.tourStarted;};l.prototype.setTourStart=function(){this.tourStarted=true;this.handleTourStart();};l.prototype.setTourStop=function(){this.tourStarted=false;this.hideOpenDialog();this.handleTourStop();};l.prototype.setTourComplete=function(){if(this.tourComplete)return;this.setTourStop();this.tourComplete=true;this.handleTourComplete();};l.prototype.hideStep=function(m){var n=this.steps[m];n&&n.hide();};l.getInstance=function(){return l._instance||(l._instance=new l());};k(l.prototype,{tourStarted:false,tourComplete:false,_navigationBeginToken:null,_pageLeaveToken:null,steps:{},openDialog:null});e.exports=l;});
__d("FutureSideNavItem",["Arbiter","CSS","DOM","Parent","$","createArrayFrom"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('CSS'),i=b('DOM'),j=b('Parent'),k=b('$'),l=b('createArrayFrom');function m(n,o){this.id=n.id;this.up=o;this.endpoint=n.endpoint;this.type=n.type;this.node=n.node||k(n.id);this.paths=n.path?l(n.path):[];this.keys=n.key?l(n.key):[];var p=this._findKeys(this.keys);this.numericKey=p.numeric||this.keys[0];this.textKey=p.text||this.keys[0];this._pathPattern=this._buildRegex(this.paths);this._keyPattern=this._buildRegex(this.keys);this.hideLoading();this.hideSelected();}m.prototype.equals=function(n){return n&&n.id===this.id;};m.prototype.getLinkNode=function(){return (i.scry(this.node,'a.item')[0]||i.scry(this.node,'a.subitem')[0]);};m.prototype.matchPath=function(n){return this._matchInput(this._pathPattern,n);};m.prototype.matchKey=function(n){return this._matchInput(this._keyPattern,n);};m.prototype._matchInput=function(n,o){var p=n&&n.exec(o);return p&&p.slice(1);};m.prototype.getTop=function(){return this.isTop()?this:this.up.getTop();};m.prototype.isTop=function(n){return !this.up;};m.prototype.setCount=function(n,o){return this._updateCount(n,true);};m.prototype.incrementCount=function(n,o){return this._updateCount(n,false);};m.prototype._updateCount=function(n,o,p){var q=i.scry(this.node,'span.count')[0],r=q&&i.scry(q,'span.countValue')[0];if(r){var s=o?0:parseInt(i.getText(r),10),t=Math.max(0,s+n),u=this.isTop()?'hidden':'hiddenSubitem';i.setContent(r,t);p&&h.conditionClass(this.node,u,!t);h.conditionClass(q,'hidden_elem',!t);if(this.isTop()){var v=i.scry(this.node,'div.linkWrap')[0];if(v){h.conditionClass(v,'noCount',!t);h.conditionClass(v,'hasCount',t);}}}g.inform('NavigationMessage.COUNT_UPDATE_DONE');};m.prototype.showLoading=function(){h.addClass(this.node,'loading');};m.prototype.hideLoading=function(){h.removeClass(this.node,'loading');};m.prototype.showSelected=function(){h.addClass(this.node,'selectedItem');h.hasClass(this.node,'hider')&&h.addClass(this._getExpanderParent(),'expandedMode');};m.prototype.hideSelected=function(){h.removeClass(this.node,'selectedItem');};m.prototype.showChildren=function(){h.addClass(this.node,'open');};m.prototype.hideChildren=function(){h.removeClass(this.node,'open');};m.prototype._getExpanderParent=function(){return j.byClass(this.node,'expandableSideNav');};m.prototype._buildRegex=function(n){if(n.length){var o=n.map(function(p){if(typeof p==="string"){return p.replace(/([^a-z0-9_])/ig,'\\$1');}else if(p&&p.regex)return p.regex;});return new RegExp('^(?:'+o.join('|')+')$');}};m.prototype._findKeys=function(n){var o=/^(app|group|fl)_/,p={};for(var q=0;q<n.length;q++){var r=o.test(n[q]);if(r&&!p.numeric){p.numeric=n[q];}else if(!r&&!p.text)p.text=n[q];if(p.numeric&&p.text)break;}return p;};e.exports=m;});
__d("FutureSideNavSection",["Bootloader","DOMQuery","$"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('DOMQuery'),i=b('$');function j(k){this.id=k.id;this.node=this.node||i(k.id);this.editEndpoint=k.editEndpoint;}j.prototype.equals=function(k){return k&&k.id===this.id;};j.prototype.getEditorAsync=function(k){g.loadModules(['SortableSideNav'],function(l){var m=new l(h.find(this.node,'ul.uiSideNav'),this.editEndpoint);k(m);}.bind(this));};e.exports=j;});
__d("FutureSideNav",["Arbiter","Bootloader","ChannelConstants","CSS","DOM","Event","FutureSideNavItem","FutureSideNavSection","NavigationMessage","PageTransitions","Parent","Run","SelectorDeprecated","URI","UserAgent","Vector","copyProperties","createArrayFrom"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Bootloader'),i=b('ChannelConstants'),j=b('CSS'),k=b('DOM'),l=b('Event'),m=b('FutureSideNavItem'),n=b('FutureSideNavSection'),o=b('NavigationMessage'),p=b('PageTransitions'),q=b('Parent'),r=b('Run'),s=b('SelectorDeprecated'),t=b('URI'),u=b('UserAgent'),v=b('Vector'),w=b('copyProperties'),x=b('createArrayFrom');function y(){y.instance&&y.instance.uninstall();y.instance=this;}y.prototype.init=function(z,aa,ba){this.root=z;this.items={};this.sections={};this.editor=null;this.editing=false;this.selected=null;this.loading=null;this.keyParam='sk';this.defaultKey=aa;this.uri=t.getRequestURI();this.ajaxPipe=ba;this.ajaxPipeEndpoints={};this.sidecol=true;this._installed=true;this._handlePageTransitions=true;p.registerHandler(function(ca){return this._handlePageTransitions&&this.handlePageTransition(ca);}.bind(this));this._eventHandlers=[];this._arbiterSubscriptions=[g.subscribe(o.NAVIGATION_COMPLETED,this.navigationComplete.bind(this)),g.subscribe(o.NAVIGATION_FAILED,this.navigationFailed.bind(this)),g.subscribe(o.NAVIGATION_COUNT_UPDATE,this.navigationCountUpdate.bind(this)),g.subscribe(o.NAVIGATION_SELECT,this.navigationSelect.bind(this)),g.subscribe(i.getArbiterType('nav_update_counts'),this.navigationCountUpdateFromPresence.bind(this))];this._explicitHover=[];this._ensureHover('sideNavItem');this._eventHandlers.push(l.listen(window,'resize',this._handleResize.bind(this)));this._checkNarrow();this._selectorSubscriptions=[];window.Selector&&this._selectorSubscriptions.push(s.subscribe(['open','close'],function(ca,da){var ea=q.byClass(da.selector,'sideNavItem');ea&&j.conditionClass(ea,'editMenuOpened',ca==='open');}));r.onLeave(this.uninstall.bind(this));if(this._pendingSections)this._pendingSections.forEach(function(ca){this.initSection.apply(this,ca);}.bind(this));};y.prototype._checkNarrow=function(){j.conditionClass(this.root,'uiNarrowSideNav',v.getElementPosition(this.root).x<20);};y.prototype._ensureHover=function(z){if(u.ie()<8)h.loadModules(['ExplicitHover'],function(aa){this._explicitHover.push(new aa(this.root,z));}.bind(this));};y.prototype.uninstall=function(){if(this._installed){this._installed=false;this._handlePageTransitions=false;this._arbiterSubscriptions.forEach(g.unsubscribe);this._selectorSubscriptions.forEach(function(z){s.unsubscribe(z);});this._eventHandlers.forEach(function(z){z.remove();});this._explicitHover.forEach(function(z){z.uninstall();});}};y.prototype.initSection=function(z,aa){if(!this._installed){this._pendingSections=this._pendingSections||[];this._pendingSections.push(arguments);return;}this._initItems(aa);this._initSection(z);};y.prototype.addItem=function(z,aa){this._initItem(z,aa);};y.prototype._initItems=function(z){var aa=function(ba,ca){var da=this._initItem(ba,ca);if(ba.children)ba.children.forEach(function(ea){aa(ea,da);});}.bind(this);x(z).forEach(function(ba){aa(ba,null);});};y.prototype._initItem=function(z,aa){var ba=this.items[z.id]=this._constructItem(z,aa);if(ba.equals(this.selected)||z.selected)this.setSelected(ba);var ca=ba.getLinkNode();ca&&this._eventHandlers.push(l.listen(ca,'click',function(event){return !this.editing;}.bind(this)));return ba;};y.prototype._initSection=function(z){var aa=this.sections[z.id]=this._constructSection(z);this._eventHandlers.push(l.listen(aa.node,'click',this.handleSectionClick.bind(this,aa)));k.scry(aa.node,'div.bookmarksMenuButton').forEach(j.show);return aa;};y.prototype._constructItem=function(z,aa){return new m(z,aa);};y.prototype._constructSection=function(z){return new n(z);};y.prototype.handleSectionClick=function(z,event){var aa=this._getEventTarget(event,'a'),ba=this._getItemForNode(aa);if(!aa){return;}else if(j.hasClass(aa.parentNode,'uiMenuItem')){this._handleMenuClick(z,ba,aa.parentNode,event);}else this._handleLinkClick(z,aa,event);};y.prototype._getEventTarget=function(event,z){var aa=event.getTarget();if(aa.tagName!==z.toUpperCase()){return q.byTag(aa,z);}else return aa;};y.prototype._handleMenuClick=function(z,aa,ba,event){if(j.hasClass(ba,'rearrange'))this.beginEdit(z);};y.prototype._handleLinkClick=function(z,aa,event){if(j.hasClass(aa,'navEditDone')){this.editing?this.endEdit():this.beginEdit(z);event.kill();}};y.prototype.getItem=function(z){if(this._isCurrentPath(z)){return this._getItemForKey(this._getKey(z.getQueryData())||this.defaultKey);}else return this._getItemForPath(z.getPath());};y.prototype.getNodeForKey=function(z){var aa=this._getItemForKey(z);if(aa)return aa.node;};y.prototype._isCurrentPath=function(z){return z.getDomain()===this.uri.getDomain()&&z.getPath()===this.uri.getPath();};y.prototype._getKey=function(z){return z[this.keyParam];};y.prototype._getItemForNode=function(z){z=q.byClass(z,'sideNavItem');return z&&this.items[z.id];};y.prototype._getItemForKey=function(z){return this._findItem(function(aa){return aa.matchKey(z);});};y.prototype._getItemForPath=function(z){return this._findItem(function(aa){return aa.matchPath(z);});};y.prototype._findItem=function(z){for(var aa in this.items)if(z(this.items[aa]))return this.items[aa];};y.prototype.removeItem=function(z){if(z&&this.items[z.id]){k.remove(z.node);delete this.items[z.id];}};y.prototype.removeItemByKey=function(z){this.removeItem(this._getItemForKey(z));};y.prototype.moveItem=function(z,aa,ba){var ca=k.find(z.node,'ul.uiSideNav');(ba?k.prependContent:k.appendContent)(ca,aa.node);};y.prototype.setLoading=function(z){this.loading&&this.loading.hideLoading();this.loading=z;this.loading&&this.loading.showLoading();};y.prototype.setSelected=function(z){this.setLoading(null);if(this.selected){this.selected.hideSelected();this.selected.getTop().hideChildren();}this.selected=z;if(this.selected){this.selected.showSelected();this.selected.getTop().showChildren();}};y.prototype.handlePageTransition=function(z){var aa=this.getItem(z),ba=aa&&aa.endpoint&&this._doPageTransition(aa,z);return ba;};y.prototype._doPageTransition=function(z,aa){this.setLoading(z);this._sendPageTransition(z.endpoint,w(this._getTransitionData(z,aa),aa.getQueryData()));return true;};y.prototype._sendPageTransition=function(z,aa){aa.endpoint=z;g.inform(o.NAVIGATION_BEGIN,{useAjaxPipe:this._useAjaxPipe(z),params:aa});};y.prototype._getTransitionData=function(z,aa){var ba={};ba.sidecol=this.sidecol;ba.path=aa.getPath();ba[this.keyParam]=z.textKey;ba.key=z.textKey;return ba;};y.prototype._useAjaxPipe=function(z){return this.ajaxPipe||this.ajaxPipeEndpoints[z];};y.prototype.navigationComplete=function(){this.loading&&this.setSelected(this.loading);};y.prototype.navigationFailed=function(){this.setLoading(null);};y.prototype.navigationSelect=function(z,aa){var ba=this._getItemForKey(this._getKey(aa));if(aa.asLoading){this.setLoading(ba);}else this.setSelected(ba);};y.prototype.navigationCountUpdate=function(z,aa){var ba=this._getItemForKey(aa&&aa.key);if(ba)if(typeof aa.count!=="undefined"){ba.setCount(aa.count,aa.hide);}else if(typeof aa.increment!=="undefined")ba.incrementCount(aa.increment,aa.hide);};y.prototype.navigationCountUpdateFromPresence=function(z,aa){aa=aa.obj;if(aa)if(!aa.class_name||aa.class_name&&j.hasClass(this.root,aa.class_name))if(aa.items)for(var ba=0;ba<aa.items.length;ba++)this.navigationCountUpdate(z,aa.items[ba]);};y.prototype.beginEdit=function(z){if(!this.editing){this.editing=true;j.addClass(this.root,'editMode');this._updateTrackingData();this._initEditor(z);}};y.prototype.endEdit=function(){if(this.editing){j.removeClass(this.root,'editMode');this.editor&&this.editor.endEdit();this.editor=null;this.editing=false;this._updateTrackingData();}};y.prototype._updateTrackingData=function(z){var aa=this.root.getAttribute('data-gt')||"{}";try{aa=JSON.parse(aa);if(this.editing){aa.editing=true;}else delete aa.editing;this.root.setAttribute('data-gt',JSON.stringify(aa));}catch(ba){}};y.prototype._initEditor=function(z){z.getEditorAsync(function(aa){if(this.editing){this.editor=aa;this.editor.beginEdit();}}.bind(this));};y.getInstance=function(){return y.instance||new y();};y.instance=null;w(y.prototype,{_handleResize:(function(){var z;return function(){z&&clearTimeout(z);z=this._checkNarrow.bind(this).defer(200);};})()});e.exports=y;});
__d("PageFanning",["Animation","AsyncRequest","CSS","DOM","FutureSideNav","Parent","URI","$","collectDataAttributes","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('AsyncRequest'),i=b('CSS'),j=b('DOM'),k=b('FutureSideNav'),l=b('Parent'),m=b('URI'),n=b('$'),o=b('collectDataAttributes'),p=b('copyProperties'),q={setFanStatus:function(s,t,u,v,w,x,y){var z={ft:{}};if(s)z={ft:o(s,['ft']).ft};w=w||function(ca){var da=ca.getPayload();if(!da||!s)return;if(da.reload){q.reloadOnFanStatusChanged(da.preserve_tab);}else r(s,da);};var aa={fbpage_id:t,add:u,reload:v};if(y!=null)p(aa,y);p(aa,z);var ba=new h().setURI('/ajax/pages/fan_status.php').setData(aa).setNectarModuleDataSafe(s).setHandler(w);if(x)ba.setErrorHandler(x);ba.send();return false;},reloadOnFanStatusChanged:function(s){var t=m.getRequestURI();if(s){var u=k.getInstance().selected.textKey;if(!t.getQueryData().sk&&u)t.addQueryData({sk:u});}window.location.href=t;},toggleLikeOnFanStatusChanged:function(s,t){var u=n('liked_pages_like_action_'+s),v=n('liked_pages_undo_action_'+s);i.conditionClass(u,'hidden_elem',t);i.conditionClass(v,'hidden_elem',!t);},informPageLikeButtonOnChange:function(s,t){var u=a.PageLikeButton;if(u)if(t){u.informLike(s);u.informLikeSuccess(s);}else u.informUnlike(s);}};function r(s,t){var u=t.feedback;if(!u)return;if(l.byClass(s,'fbTimelineEscapeSectionItem'))s=l.byClass(s,'fan_status_inactive')||s;var v=j.create('span',{className:'fan_status_inactive'},u);s.parentNode.replaceChild(v,s);var w=function(){if(t.can_repeat_action)v.parentNode.replaceChild(s,v);};new g(v).duration(3000).checkpoint().to('backgroundColor','#FFFFFF').duration(1000).ondone(w).go();}e.exports=q;});
__d("PageLikeButton",["Arbiter","AsyncRequest","AsyncResponse","Event","PageFanning","SubscribeButton","Tour","URI"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('AsyncResponse'),j=b('Event'),k=b('PageFanning'),l=b('SubscribeButton'),m=b('Tour'),n=b('URI'),o={LIKED:'liked',UNLIKED:'unliked',LIKED_SUCCESS:'liked_success',init:function(r,s,t,u,v,w,x,y,z,aa,ba){g.subscribe(o.LIKED,function(ca,da){if(u===da.profile_id){if(!z)t.suppressNextMouseEnter&&t.suppressNextMouseEnter();r.swap(ba);}});g.subscribe(o.UNLIKED,function(ca,da){if(u===da.profile_id){r.unswap(ba);t.hideFlyout&&t.hideFlyout();}});if(y)g.subscribe(o.LIKED_SUCCESS,function(ca,da){var ea=n.getRequestURI().getQueryData().app_data;if(da.profile_id==u)new h().setURI('/ajax/pages/fetch_app_column.php').setData({profile_id:u,tab_key:y,app_data:ea}).send();});j.listen(s,'click',q.bind(null,u,v,w,x));},initCallout:function(r,s){var t=document.getElementById('pageActionLikeCalloutButton');j.listen(t,'click',q.bind(null,r,s,null,null));},initUnlike:function(r,s,t){j.listen(r,'click',function(event){p(event.getTarget(),s,false,function(u){g.inform(o.LIKED,{profile_id:s});i.defaultErrorHandler(u);},t);o.informUnlike(s);});},informLike:function(r,s,t){var u={profile_id:r,target:s,origin:t};g.inform(o.LIKED,u);g.inform(l.SUBSCRIBED,u);},informLikeSuccess:function(r){var s={profile_id:r};g.inform(o.LIKED_SUCCESS,s);},informUnlike:function(r){var s={profile_id:r};g.inform.bind(g,o.UNLIKED,s).defer();g.inform.bind(g,l.UNSUBSCRIBED,s).defer();}};function p(r,s,t,u,v,w,x){m.getInstance().hideStep('low_page_likes');k.setFanStatus(r,s,t,false,function(){o.informLikeSuccess(s);},u,{fan_origin:v,fan_source:w,cat:x});}function q(r,s,t,u,event){p(event.getTarget(),r,true,function(v){g.inform(o.UNLIKED,{profile_id:r});i.defaultErrorHandler(v);},s,t,u);o.informLike(r,event.getTarget(),s);}e.exports=o;a.PageLikeButton=o;});
__d("legacy:PageLikeButton",["PageLikeButton"],function(a,b,c,d){a.PageLikeButton=b('PageLikeButton');},3);
__d("HoverButton",["AsyncRequest","CSS","DOM","URI","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('CSS'),i=b('DOM'),j=b('URI'),k=b('copyProperties'),l=b('cx');function m(n,o,p,q){this._button=n;this._flyout=o;this._flyoutAjaxify=q;this._flyoutContent=p;o.subscribe('show',this._onShow.bind(this));o.subscribe('hide',this._onHide.bind(this));}m.prototype.showFlyoutBriefly=function(){this.showFlyout();this._flyout.hideFlyoutDelayed(5000);};m.prototype.showFlyout=function(){this._flyout.showFlyout(this._button,true);this._flyout.inform('show',this._button);};m.prototype.hideFlyout=function(){this._flyout.hideFlyout(true);this._flyout.inform('hide',this._button);};m.prototype.enableButton=function(){this._flyout.initNode(this._button);};m.prototype.disableButton=function(){this.hideFlyout();this._flyout.deactivateNode(this._button);};m.prototype._onShow=function(n,o){h.addClass(o,"_52nd");if(h.hasClass(o,'uiButton')||h.hasClass(o,"_42fu"))h.addClass(o,'selected');if(this._flyoutAjaxify){h.addClass(this._flyoutContent,'async_saving');new g().setURI(new j(this._flyoutAjaxify)).setHandler(function(p){h.removeClass(this._flyoutContent,'async_saving');i.setContent(this._flyoutContent,p.payload);}.bind(this)).send();this._flyoutAjaxify=null;}};m.prototype._onHide=function(n,o){h.removeClass(o,"_52nd");if(h.hasClass(o,'uiButton')||h.hasClass(o,"_42fu"))h.removeClass(o,'selected');};m.prototype.destroy=function(){this.hideFlyout();this._flyout.destroy();};m.prototype.suppressNextMouseEnter=function(){this._flyout.setActiveNode(this._button);};k(m.prototype,{_button:null,_flyout:null,_flyoutAjaxify:null,_flyoutContent:null});e.exports=m;});
__d("legacy:ui-side-nav-future-js",["FutureSideNav"],function(a,b,c,d){a.FutureSideNav=b('FutureSideNav');},3);